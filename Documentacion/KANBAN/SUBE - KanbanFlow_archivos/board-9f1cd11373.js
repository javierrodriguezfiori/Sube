webpackJsonp([1],{"+/LWkH0hAL":function(e,t,n){"use strict";function a(e){e.preventDefault()}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ").createNamespacedHelpers("files").mapActions,r=n("NKFQkhZ/hO"),s=n("LID5hgrivl"),l=n("lJ8hpUa00E");e.exports={props:["dropZoneSelector"],data:function(){return{fileEnter:!1,fileIsOver:!1}},computed:{classes:function(){var e=["fileDropZone"];return this.fileIsOver&&e.push("fileDropZone--fileIsOver"),e}},methods:i({},o(["uploadFiles"]),{isElementInDropZone:function(e){return s.closest(e,this.dropZoneSelector)},dragEnter:function(e){var t=this;e.preventDefault(),this.isElementInDropZone(e.target)&&(this.fileEnter=!0,setTimeout(function(){t.fileEnter=!1}),this.fileIsOver=!0)},dragLeave:function(e){e.preventDefault(),this.isElementInDropZone(e.target)&&(this.fileEnter||(this.fileIsOver=!1),this.fileEnter=!1)},drop:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){var n,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fileIsOver=!1,0!==t.dataTransfer.files.length){e.next=3;break}return e.abrupt("return");case 3:if(t.preventDefault(),this.isElementInDropZone(t.target)){e.next=6;break}return e.abrupt("return");case 6:if(n=t.dataTransfer.files,a=l(n),i=a.valid,o=a.message,i){e.next=11;break}return r.alert(o),e.abrupt("return");case 11:return e.prev=11,e.next=14,this.uploadFiles({files:n});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),function(e){setTimeout(function(){throw e})}(e.t0),function(e){var t=1===n.length?"":"s";r.alert("There was an error while uploading the file"+t)}();case 20:case"end":return e.stop()}},e,this,[[11,16]])}));return function(t){return e.apply(this,arguments)}}()}),mounted:function(){document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragover",a),document.addEventListener("dragleave",this.dragLeave),document.addEventListener("drop",this.drop)},destroyed:function(){document.removeEventListener("dragenter",this.dragEnter),document.removeEventListener("dragover",a),document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("drop",this.drop)}}},"+K0gboT8ug":function(e,t,n){"use strict";var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ").createNamespacedHelpers("history"),r=o.mapState,s=o.mapGetters,l=o.mapActions,u=n("LG1ynL8Huw"),c=n("8qNplH4QQK");e.exports={data:function(){return{filterValue:""}},computed:i({},r(["loading","taskChangedPropertyFilterOptions"]),s(["entryItems"])),methods:i({},l(["show","loadEntriesForTask"]),{filterChange:function(){var e=this.filterValue.split(":"),t=a(e,2),n=t[0],i=t[1];this.loadEntriesForTask({filter:{eventType:n,eventProperty:i}})}}),components:{"sub-view-header":u,"task-history-entry":c},mounted:function(){this.show()}}},"+MggfNdiO2":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("EWUDtfBmmZ"),o=["save","preUpdate","update","preDelete","delete","localReset","localSave","localDelete","localUpdate","destroy"];e.exports=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(e)}function n(e){g.some(function(t){return t._id===e._id})?r(e):g.push(e)}function r(e){var t=g.findIndex(function(t){return t._id===e._id});if(!(t>=0))throw new Error("Resource does not exist");g.splice(t,1,e)}function s(e){var t=g.findIndex(function(t){return t._id===e});g.splice(t,1)}var l=function(){var e=a(regeneratorRuntime.mark(function e(n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.abrupt("return",a.find(function(e){return e._id===n}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark(function e(t){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isFirstResource;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.save(t);case 2:a&&(k=!0),n(t),h.emit("save");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(t),h.emit("preUpdate"),e.next=4,f.update(t);case 4:h.emit("update");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=g.some(function(e){return e._id===t}))){e.next=7;break}return s(t),h.emit("preDelete"),e.next=6,f.deleteById(t);case 6:h.emit("delete");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return",g);case 2:return e.next=4,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.getAllForTask(p,e)}(t);case 4:return n=e.sent,g=function(e){var t={};return g.forEach(function(e){t[e._id]=e}),e.forEach(function(e){t[e._id]=e}),Object.keys(t).map(function(e){return t[e]})}(n),k=!0,e.abrupt("return",g);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=e.taskId,f=e.ajaxFacade,h=i(o),v=!1,k=!1,g=[];return function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=function(){if(v)throw new Error("Destroyed");return e[n].apply(e,arguments)}}),t}({on:h.on,once:h.once,off:h.off,onAny:h.onAny,getById:l,getAll:t,save:u,update:c,deleteById:d,localSave:function(e){k&&(n(e),h.emit("localSave"))},localUpdate:function(e){k&&(r(e),h.emit("localUpdate"))},localDeleteById:function(e){k&&g.some(function(t){return t._id===e})&&(s(e),h.emit("localDelete"))},localReset:function(){k=!1,g=[],h.emit("localReset")},destroy:function(){v=!0,h.emit("destroy"),h.removeListenersForAll()}})}},"+TczBPWG2Q":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("daBvwhfNte"),n("8HtX21uAQC"),!1,null,null,null);e.exports=a.exports},"+UACBaabjv":function(e,t,n){var a=n("VcL+WasjrP"),i=n("9FASgPn3Jt"),o=n("LN6cGD0Ow+");e.exports=function(e){return o(e)?a(e,!0):i(e)}},"+d4TTWMto5":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function i(e,t){return e.toTaskId===t?e.fromTaskId:e.toTaskId}function o(e){return{groupTitle:e.organizationName,boards:e.boards.map(function(e){return{boardId:e.boardId,boardName:e.name,readOnly:e.readOnly}})}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n("w2qL3+Ra8i"),l=n("ksiZ/Wws4x"),u=n("rEK1kr4M5E"),c=n("pyNLKmSUdC"),d=n("50u+wdY68T"),m=n("wrXUy9PdXv"),p=n("yKS169xhxh"),f=n("ly9CaayYMf"),h=["Depends on","Required by","Relates to"];e.exports=function(e){function t(e,t){var n=t.currentTaskId,a=e.filter(function(e){return e.relatedTaskModel}).map(function(e){return e.relatedTaskModel});return e.filter(function(e){return function(e,t,n){return a.some(function(t){return t.taskId===i(e,n)})}(e,0,n)}).sort(function(e,t){return e.createdTimestamp.localeCompare(t.createdTimestamp)}).map(function(e){return function(e,t){var n=t.taskModels,a=t.currentTaskId,o=i(e,a),s=n.find(function(e){return e.taskId===o}),l=s.taskBoardId===T?"/board/"+s.taskBoardId+"#/task-details/"+o:"/t/"+o;return r({relationId:e._id,taskUrl:l,relationTypeText:function(e,t){return"dependsOn"===e.relationType?e.toTaskId===t?"Required by":"Depends on":"Relates to"}(e,a)},s)}(e,{taskModels:a,currentTaskId:n})})}var n=function(){var e=a(regeneratorRuntime.mark(function e(n){var a,i,o=n.getters,r=n.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=1,e.next=4,D.getAll({suppressGlobalErrorHandler:!0});case 4:a=e.sent,e.next=18;break;case 7:return e.prev=7,e.t0=e.catch(1),e.prev=9,e.next=12,D.getAll({suppressGlobalErrorHandler:!0});case 12:a=e.sent,e.next=18;break;case 15:e.prev=15,e.t1=e.catch(9),r("SET_LOAD_FAILED",!0);case 18:i=t(a,{currentTaskId:o.taskId}),r("SET_RELATION_ITEMS",i);case 20:case"end":return e.stop()}},e,this,[[1,7],[9,15]])}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o,r=t.state,c=t.getters,d=t.commit,m=t.dispatch,f=n.query,h=n.boardId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&r.searching&&u.abort(C),p.clear(S),d("SET_RETRY_SEARCH_COUNTDOWN_SECONDS",0),d("SET_SEARCH_QUERY",f),d("SET_SEARCH_HITS",[]),d("SET_MORE_HITS_AVAILABLE",!1),d("SET_SEARCH_FAILED",!1),d("SET_SEARCHING",!1),d("SET_INDEXING",!1),s.isQueryTooShort(r.searchQuery)){e.next=34;break}return e.prev=10,d("SET_SEARCHING",!0),e.next=14,b(r.searchQuery,{boardId:h});case 14:if(a=e.sent,d("SET_SEARCHING",!1),"indexing"!==a.status){e.next=24;break}return d("SET_INDEXING",!0),e.next=20,m("runRetrySearchCountdown");case 20:return e.next=22,m("search",{query:f,boardId:h});case 22:e.next=29;break;case 24:d("SET_INDEXING",!1),i=a.hits.filter(function(e){return e.taskId!==c.taskId}),o=function(e){var t=e.board;return e.hits.map(function(e){var n=t.swimlanes.find(function(t){return l(t.uniqueId,e.taskSwimlaneId)}),a=t.columns.find(function(t){return t.uniqueId===e.taskColumnId}),i={taskId:e.taskId,taskName:e.taskName,taskNumberFullText:e.taskNumberFullText,taskColor:e.taskColor,boardName:t.name,taskColumnIndex:t.columns.findIndex(function(t){return t.uniqueId===e.taskColumnId}),taskColumnName:a.name,taskSortOrder:e.taskSortOrder};return n&&(i.taskSwimlaneIndex=t.swimlanes.findIndex(function(t){return l(t.uniqueId,e.taskSwimlaneId)}),i.taskSwimlaneName=n.name),a.groupByDate&&e.taskDateFinished&&(i.taskDateFinished=e.taskDateFinished),i})}({board:a.board,hits:i}),d("SET_SEARCH_HITS",o),d("SET_MORE_HITS_AVAILABLE",a.moreResultsAvailable);case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(10),u.isAbortError(e.t0)||(d("SET_SEARCH_FAILED",!0),d("SET_SEARCHING",!1),d("SET_INDEXING",!1));case 34:case"end":return e.stop()}},e,this,[[10,31]])}));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i,r=t.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r("SET_BOARD_GROUPS_LOADING",!0),e.next=3,w.getAddDialogData();case 3:n=e.sent,a=n.boardGroups,i=a.map(o),r("SET_BOARD_GROUPS",i),r("SET_BOARD_GROUPS_LOADING",!1);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o,s,l,u=t.state,c=t.getters,m=t.dispatch,p=n.hitModel,f=n.boardId,h=n.relationType;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.taskId,i=void 0,i="requiredBy"===h?{fromTaskId:a,toTaskId:c.taskId,relationType:"dependsOn"}:{fromTaskId:c.taskId,toTaskId:a,relationType:h},!(o=u.relationItems.find(function(e){return e.taskId===a}))){e.next=13;break}return e.next=7,D.getById(o.relationId);case 7:if(s=e.sent,function(e,t){return e.fromTaskId===t.fromTaskId&&e.toTaskId===t.toTaskId&&e.relationType===t.relationType}(i,s)){e.next=12;break}return l=r({},s,i),e.next=12,D.update(l);case 12:return e.abrupt("return");case 13:return i.relatedTaskModel={taskId:a,taskBoardId:f,taskName:p.taskName,taskNumberFullText:p.taskNumberFullText,taskColor:p.taskColor,taskBoardName:p.boardName,taskColumnIndex:p.taskColumnIndex,taskColumnName:p.taskColumnName,taskSwimlaneIndex:p.taskSwimlaneIndex,taskSwimlaneName:p.taskSwimlaneName,taskDateFinished:p.taskDateFinished,taskSortOrder:p.taskSortOrder},i.createdTimestamp=(new Date).toISOString(),d.showLoading(),e.next=18,D.save(i,{isFirstResource:!c.task.hasRelations});case 18:if(c.task.hasRelations){e.next=21;break}return e.next=21,m("updateTask",{hasRelations:!0},{root:!0});case 21:d.hideLoading();case 22:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i=n.boardId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C=y.searchForTaskByName(t,{boardId:i}),e.next=3,C;case 3:return a=e.sent,C=null,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),T=e.boardId,y=e.boardSearcher,I=e.singleTaskResourceRepositoryFactory,w=e.taskRelationAjaxFacade,x=e.userBoardSettingsRepository,C=void 0,D=void 0,S=void 0;return{namespaced:!0,state:{view:x.useBoardViewForTaskRelations()?"board":"list",currentBoardId:T,visible:!1,focusSection:!1,focusTaskId:null,addVisible:!1,searching:!1,indexing:!1,searchFailed:!1,loadFailed:!1,moreHitsAvailable:!1,boardGroupsLoading:!1,searchQuery:"",retrySearchCountdownSeconds:0,boardGroups:[],searchHits:[],relationItems:[]},getters:{task:function(e,t,n){return n.task},taskId:function(e,t){return t.task.taskId},searchResultMessage:function(e){return 0===e.searchQuery.length?"":e.indexing?"Indexing data. Retrying in "+e.retrySearchCountdownSeconds+" seconds...":e.searchFailed?"Search failed":s.isQueryTooShort(e.searchQuery)?"Type "+s.MIN_LETTERS+" letters to start searching...":0===e.searchHits.length?"No results found":""},relationItemGroups:function(e){var t=f(e.relationItems,function(e){return e.relationTypeText}),n=[];return h.forEach(function(a){var i=t[a];i&&(i.sort(function(t,n){return m(t,n,e.currentBoardId)}),n.push({title:a,relations:i}))}),n},relationCount:function(e){return e.relationItems.length}},mutations:{SET_VISIBLE:function(e,t){e.visible=t},SET_FOCUS_SECTION:function(e,t){e.focusSection=t},SET_FOCUS_TASK_ID:function(e,t){e.focusTaskId=t},SET_ADD_VISIBLE:function(e,t){e.addVisible=t},SET_SEARCHING:function(e,t){e.searching=t},SET_SEARCH_QUERY:function(e,t){e.searchQuery=t},SET_SEARCH_HITS:function(e,t){e.searchHits=t},SET_SEARCH_FAILED:function(e,t){e.searchFailed=t},SET_LOAD_FAILED:function(e,t){e.loadFailed=t},SET_BOARD_GROUPS_LOADING:function(e,t){e.boardGroupsLoading=t},SET_RELATION_ITEMS:function(e,t){e.relationItems=t},SET_BOARD_GROUPS:function(e,t){e.boardGroups=t},SET_RETRY_SEARCH_COUNTDOWN_SECONDS:function(e,t){e.retrySearchCountdownSeconds=t},SET_MORE_HITS_AVAILABLE:function(e,t){e.moreHitsAvailable=t},SET_INDEXING:function(e,t){e.indexing=t},SET_VIEW:function(e,t){e.view=t}},actions:{init:function(e){var t=e.dispatch,n=e.getters;(D=I.createRelationRepository(n.taskId)).on("localSave localDelete localUpdate localReset save preDelete preUpdate",function(){t("loadRelations")})},destroy:function(e){e.state,(0,e.dispatch)("resetAdd"),D.destroy()},focusSection:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("SET_FOCUS_SECTION",!1),t("SET_FOCUS_TASK_ID",null),n.showBoardView&&n.focusTaskId?(t("SET_VIEW","board"),t("SET_FOCUS_TASK_ID",n.focusTaskId)):t("SET_FOCUS_SECTION",!0)},resetAdd:function(e){var t=e.state,n=e.commit;C&&t.searching&&u.abort(C),p.clear(S),S=null,C=null,n("SET_SEARCH_HITS",[]),n("SET_SEARCHING",!1),n("SET_SEARCH_FAILED",!1),n("SET_MORE_HITS_AVAILABLE",!1),n("SET_BOARD_GROUPS_LOADING",!1),n("SET_INDEXING",!1),n("SET_SEARCH_QUERY",""),n("SET_RETRY_SEARCH_COUNTDOWN_SECONDS",0)},search:c.debounce(v,300),loadRelations:n,addRelationFromSearchHit:g,deleteRelation:function(e,t){D.deleteById(t)},runRetrySearchCountdown:function(e){var t=e.state,n=e.commit;return new Promise(function(e){n("SET_RETRY_SEARCH_COUNTDOWN_SECONDS",5),S=p.every(1e3,function(){n("SET_RETRY_SEARCH_COUNTDOWN_SECONDS",t.retrySearchCountdownSeconds-1),1===t.retrySearchCountdownSeconds&&e()})})},loadBoardGroups:k,warmUpBoardSearcher:function(e,t){y.warmUpIndexIfNeeded({boardId:t})},showBoardView:function(e){(0,e.commit)("SET_VIEW","board"),x.setRelationsBoardView()},showListView:function(e){(0,e.commit)("SET_VIEW","list"),x.setRelationsListView()}}}}},"+d9A1oo0vN":function(e,t,n){var a=n("5CyzkQsNGA");e.exports=function(e){var t=a(e),n=t%1;return t==t?n?t-n:t:0}},"/0lPXI0LsK":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("cxAIFAsF52"),n("y7t0rJSFyM"),!1,null,null,null);e.exports=a.exports},"/NGIRj4LZ0":function(e,t,n){var a=n("BblMhK+GyB"),i=n("lW7lJLb+/N"),o=n("wrrSE9nqYe"),r=n("urtKYWJSM7"),s=n("PnXa42nM0t"),l=n("X7FwpvisBf"),u=n("Jpv1OAiBRi");e.exports=function(e,t,n){var c=-1;t=a(t.length?t:[u],s(i));var d=o(e,function(e,n,i){return{criteria:a(t,function(t){return t(e)}),index:++c,value:e}});return r(d,function(e,t){return l(e,t,n)})}},"/SJJ953kd9":function(e,t,n){"use strict";e.exports=n("wK/ph/oh98")},"/nqO3IZCNa":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");n("IpLvl/p887"),n("v04zesWxjP"),n("9KurapB+nY"),e.exports=function(e){function t(){g||(a.contextMenu({selector:l+" .task",zIndex:0,build:function(e,t){if(t.originalEvent&&(b||d.wasTouchUsedLast()))return!1;var a=e.attr("data-taskId"),i=s.getTaskById(a),o=r({columnId:i.columnId,swimlaneId:i.swimlaneId}),l=(0,p[o])({task:i,$task:e});if(0===l.length)return!1;l.forEach(function(e){if(!k[e.split(":")[0]])throw new Error("Invalid key: "+e)});var u=[];return Object.keys(v).forEach(function(e){var t=v[e];if(l.includes(e)){var a=n(t,e,i);u.push(a)}else if(t.items){var o=Object.keys(t.items),r=l.map(function(e){return e.split(":")[0]}),s=o.filter(function(e){return r.includes(e)});if(s.length){var c=[];s.forEach(function(e){var a=t.items[e];"function"==typeof a?l.filter(function(t){return t.split(":")[0]===e}).forEach(function(e){c.push(a(i,e))}):c.push(n(a,e,i))}),u.push({key:e,name:t.name,icon:t.icon,items:c})}}}),{items:u}}}),a(document).on("touchstart.taskContextMenu",function(){b=!0}).on("touchend.taskContextMenu touchcancel.taskContextMenu",function(e){0===e.originalEvent.touches.length&&(b=!1)}),g=!0)}function n(e,t,n){return e.build?e.build(n):{key:t,name:e.name,icon:e.icon,callback:h}}function i(e,t){var n="expand"+e,a=e.toLowerCase();return{key:n,type:"checkboxAndImageIcon",name:e,selected:t,imageClass:"context-expand-"+a,change:function(e,t,n){o(function(e){e.section=a}).call(e[0],"expandSection",null,n)}}}function o(e){return function(t,n,i){var o=a(this).closest(".task"),l=o.attr("data-taskId"),u=s.getTaskById(l),c=r({columnId:u.columnId,swimlaneId:u.swimlaneId}),d=f[c],m={action:t,$task:o,task:u,event:i};e(m),d(m)}}function r(e){return[e.columnId,e.swimlaneId||""].join("/")}var s=e.taskRepository,l=e.containerSelector,u=e.taskContextMenuItemFactory,c=e.taskSettingsHelper,d=e.pointerMode,m=e.boardColumnRepository,p={},f={},h=o(function(){}),v={openTask:{name:"Open task",icon:"openTask"},editTask:{name:"Edit task",icon:"edit"},expandSection:{build:function(e){var t=[],n=e.description.trim().length>0,a=c.getForTask(e);if(n){var o=a.isDescriptionExpanded();t.push(i("Description",o))}if(e.subTasks.length>0){var r=a.isSubTasksExpanded();t.push(i("Subtasks",r))}return{key:"expandSection",name:"Expand sections",icon:"expandSections",items:t}}},timer:{build:function(e){return u.createTimerItem({handler:function(t){var n=r({columnId:e.columnId,swimlaneId:e.swimlaneId});(0,f[n])(t)}})}},selectInTimer:{name:"Select in timer",icon:"selectInTimer"},startTimerForTask:{name:"Start timer",icon:"selectInTimer"},move:{name:"Move",icon:"move",items:{moveColumn:function(e,t){var n=t.split(":")[1];return{key:t,name:"Move to "+m.getColumnById(n).name,icon:"moveTaskRight",callback:o(function(e){e.action="moveColumn",e.moveToColumnId=n})}},moveRight:{name:"Move right",icon:"moveTaskRight"},moveTop:{name:"Move to top",icon:"moveTop"},moveBottom:{name:"Move to bottom",icon:"moveBottom"},moveAdvanced:{name:"Move advanced",icon:"moveAdvanced"}}},editDate:{name:"Edit date",icon:"editTaskGroupDate"},setColor:{build:function(e){return u.createSetColorItem({selectedColorValue:e.color,handler:function(t){var n=r({columnId:e.columnId,swimlaneId:e.swimlaneId});(0,f[n])(t)}})}},editMembers:{name:"Assign members",icon:"editTaskMembers"},copyAfter:{name:"Copy here",icon:"copyTask"},link:{name:"Task URL",icon:"link"},remove:{name:"Delete",icon:"taskDelete"}},k=function(){var e={};return Object.keys(v).forEach(function(t){e[t]=!0;var n=v[t];n.items&&Object.keys(n.items).forEach(function(t){e[t]=!0})}),e}(),g=!1,b=!1;return t(),{enable:t,disable:function(){g&&(a.contextMenu("destroy",l+" .task"),a(document).off(".taskContextMenu"),g=!1)},setShowHandlerForCell:function(e,t){var n=r(e);p[n]=t},setActionHandlerForCell:function(e,t){var n=r(e);f[n]=t}}}},"0/YaoHluYk":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.mapMutations,s=n("MsGyxL+QFM"),l=n("utzbvpgxGf"),u=n("MEPIwEbOBN");e.exports={data:function(){return{addDialogVisible:!1,menuVisible:!1,menuOpenedFromKeyboard:!1,menuItemOpenedFromKeyboard:!1}},computed:a({},o(["task","readOnly"]),{timeSpentText:function(){return s.formatTimeWithUnits(this.task.totalSecondsSpent)},textClasses:function(){var e=["taskDetails-propertyValue taskDetails-timeSpent"];return(this.menuVisible||this.addDialogVisible)&&e.push("taskDetails-timeSpent--active"),e}}),methods:a({},r({showTimeLog:"SHOW_TIMELOG"}),{showMenuFromKeyboard:function(){this.menuOpenedFromKeyboard=!0,this.showMenu()},showMenu:function(){this.menuVisible=!0},menuClose:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.menuVisible=!1,!this.menuOpenedFromKeyboard){e.next=6;break}return this.menuOpenedFromKeyboard=!1,e.next=5,this.$nextTick();case 5:this.menuItemOpenedFromKeyboard||this.focusTimeSpentText();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),addTimeEntryClick:function(){this.menuOpenedFromKeyboard&&(this.menuItemOpenedFromKeyboard=!0),this.addDialogVisible=!0},openTimeLogClick:function(){this.showTimeLog(),this.menuOpenedFromKeyboard&&(this.menuItemOpenedFromKeyboard=!0)},addDialogClose:function(){this.addDialogVisible=!1,this.menuItemOpenedFromKeyboard&&(this.menuItemOpenedFromKeyboard=!1,this.focusTimeSpentText())},getPositionRelativeToTimeSpent:function(){return{my:"left top",at:"left bottom",of:this.$refs.timeSpentText}},focusTimeSpentText:function(){this.$refs.timeSpentText.focus()}}),components:{"kf-menu":l,"add-manual-time-entry":u}}},"06DjhYJ9Ox":function(e,t,n){"use strict";e.exports=function(e,t){for(var n=0,a=e.length;n<a;n++)if(t(e[n]))return n;return-1}},"0FvRrd0aS9":function(e,t,n){var a=n("5cZt+ZS8+Y");e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},"0Gi7wj4yiH":function(e,t,n){var a=n("wppep/zJLa"),i=n("3til+no9ro"),o=n("p/0cqC9K/5"),r=a?a.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(r&&e&&e[r])}},"0J1ocNnKYP":function(e,t,n){var a=n("4/4oss3DrV")(Object.keys,Object);e.exports=a},"0LghV00Anz":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("TS0ILVVaKW"),o=n("R6wa7XS/Su"),r=n("2z18+jHlI7"),s=n("3qmz3wED6s"),l=n("H/QV61slXi"),u=n("hVghEIrzSQ");n("4kpML86yvO"),e.exports=function(e){function t(){O.expanded()?n():c()}function n(){O.expanded(!1)}function c(){var e=a(".toolbar-filterButton").offset();A.css("left",e.left-15+"px"),l.toTopOfStack(A,".stackable"),O.expanded(!0);var t=u.getUserOptions(_);O.userItems(t),D.wasMouseUsedLast()&&O.userFilterFocus(!0)}function d(){var e={},t=O.colorFilter();t&&(e.colorValue=t);var n=O.userIdFilter();n&&(e.userId=n);var a=O.dueDateFilter();a&&(e.dueDateValue=a);var i=O.labelNames();return i.length&&(e.labelNames=i),e}function m(){return O.userIdFilter()||O.colorFilter()||O.labelNames().length||O.dueDateFilter()}function p(){return O.userFilterFocus()||O.colorFilterFocus()||O.labelInputFocus()||O.dueDateFilterFocus()}function f(e){e?s.addContext({name:"boardFilter",includeInputs:!0,map:{esc:function(){O.userFilterFocus(!1).colorFilterFocus(!1).labelInputFocus(!1),t()}}}):s.deleteContextByName("boardFilter")}function h(){O.expanded(!1)}function v(){O.showSettings(!O.showSettings())}function k(){O.userIdFilter("").colorFilter("").dueDateFilter(""),R.reset()}function g(e){e?M.saveBoardFilter(O.filterValuesToPersist()):M.clearBoardFilter()}function b(e){O.rememberFilter()&&M.saveBoardFilter(e)}function T(e){R.setFocus(e)}function y(e){e?S.setUserFilter(e):S.clearUserFilter()}function I(e){e?S.setColorFilter(e):S.clearColorFilter()}function w(e){S.setLabelFilter(e.slice(0))}function x(e){if(e){var t=u.getDueDateFilterParamsFromValue(e);S.setDueDateFilter(t)}else S.clearDueDateFilter()}function C(){var e=a("#boardFilterDialog-colorFilter");u.appendColorOptions(e[0],E)}var D=e.pointerMode,S=e.boardFilter,E=e.boardColorRepository,_=e.userRepository,M=e.userBoardSettingsRepository,R=new r({taskLabelRepository:e.taskLabelRepository,positionAutoCompleteAbove:!0}),O=void 0,A=void 0;return{initAndExtendModel:function(e){A=a("#boardFilterDialog"),C(),E.on("change",function(){var e=a("#boardFilterDialog-colorFilter"),t=e.val();e.empty(),C(),E.getEnabledColors().some(function(e){return e.value===t})?e.val(t):O.colorFilter("")}),function(){var e=M.getBoardFilterOrNull(),t=function(e){var t={userId:"",colorValue:"",labelNames:[],dueDateValue:""};return e?(e.colorValue&&(t.colorValue=e.colorValue),e.userId&&(t.userId=e.userId),e.labelNames&&(t.labelNames=e.labelNames.slice()),e.dueDateValue&&(t.dueDateValue=e.dueDateValue),t):t}(e);(O=i.mapping.fromJS({expanded:!1,showSettings:!1,rememberFilter:!!e,userItems:u.getUserOptions(_),userIdFilter:t.userId,userFilterFocus:!1,colorFilter:t.colorValue,colorFilterFocus:!1,labelNames:t.labelNames,labelInputFocus:!1,dueDateItems:u.getDateOptions(),dueDateFilter:t.dueDateValue,dueDateFilterFocus:!1})).dialogFocused=i.pureComputed(p),O.hasFiltering=i.pureComputed(m),O.filterValuesToPersist=i.pureComputed(d),Object.assign(O,{closeDialogClicked:h,resetFilterClicked:k,settingsIconClicked:v}),O.dialogFocused.subscribe(f),O.labelInputFocus.subscribe(T),O.userIdFilter.subscribe(y),O.colorFilter.subscribe(I),O.labelNames.subscribe(w),O.dueDateFilter.subscribe(x),O.rememberFilter.subscribe(g),O.filterValuesToPersist.subscribe(b)}(),function(){var e=R,t=A.find(".boardFilterDialog-labelFilterWrapper");e.initForElement(t[0]),e.on("changed",function(e){var t=e.labels.map(function(e){return e.name});o(t,O.labelNames())||O.labelNames(t)}),e.setLabels(O.labelNames().map(function(e){return{name:e}})),e.on("focused",function(){O.labelInputFocus(!0)}),e.on("blurred",function(){O.labelInputFocus(!1)})}(),e.filter=O},toggleVisibility:t,show:c,hide:n,_getModel:function(){return O}}}},"0aIAK9HGGP":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("t7vbi3q7qC"),n("uZWvrC7II4"),!1,null,null,null);e.exports=a.exports},"0dZmkGnuy3":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("z+daIxH19V"),n("eY/7mbkRsw"),!1,null,null,null);e.exports=a.exports},"0uwOc4mjsI":function(e,t,n){"use strict";var a=n("KlbSyjR5mY"),i=n("iayxx/E6kY"),o=n("NKFQkhZ/hO");e.exports=function(e){function t(e,t){var n=r(e);a.reportsFree().then(function(e){t(e).loadInto(n)})}function n(e,t){var n=r(e);a.reportsPremium().then(function(e){t(e).loadInto(n)})}function r(e){var t=i(e);return t.open(),t}function s(e){return e.BoardCalendar({boardId:y,boardName:I,columns:w,swimlanes:x,taskRepository:S,taskDialog:D,userPermissionService:F,userBoardSettingsRepository:L,boardColorRepository:R,boardFilter:P,taskLabelRepository:E,userRepository:C,boardCalendarFeedRepository:e.BoardCalendarFeedRepository({boardId:y,userId:b}),pointerMode:B})}function l(e){return e.BoardHistoryDialog({boardId:y,userRepository:C})}function u(e){return e.TimeSpentReportController({userId:b,boardId:y,userRepository:C,taskDialog:D,taskRepository:S,colorOptionsFactory:M,boardColorRepository:R,taskLabelRepository:E,manualTimeEntryRepository:O,workEntryRepository:A,swimlanes:x})}function c(e){return e.EstimateReport({boardId:y,columns:w,swimlanes:x,taskRepository:S,userRepository:C,colorOptionsFactory:M,boardColorRepository:R,taskLabelRepository:E,userAvatarHelper:N,estimationType:U})}function d(e){return e.TaskCountReport({boardId:y,columns:w,swimlanes:x,taskRepository:S,userRepository:C,colorOptionsFactory:M,boardColorRepository:R,taskLabelRepository:E,userAvatarHelper:N})}function m(e){return e.CumulativeFlow({boardId:y,boardName:I,swimlanes:x,colorOptionsFactory:M,taskLabelRepository:E,userRepository:C,estimationType:U})}function p(e){return e.CycleAndLeadTime({boardId:y,boardName:I,swimlanes:x,boardColumnRepository:_,colorOptionsFactory:M,taskLabelRepository:E,userRepository:C})}function f(e){return e.Throughput({boardId:y,swimlanes:x,boardColumnRepository:_,userRepository:C,boardColorRepository:R,taskLabelRepository:E,estimationType:U})}function h(e){return e.Burndown({boardId:y,swimlanes:x,boardColumnRepository:_,userRepository:C,boardColorRepository:R,taskLabelRepository:E,estimationType:U})}function v(e){var t=e.TaskForecastRenderHelper({swimlanes:x,boardColumnRepository:_,boardColorRepository:R}),n=e.PlanningHelpDialog(),a=e.ForecastPlanningToolbarController({planningHelpDialog:n}),i=e.ForecastPlanningController({toolbarController:a,boardColumnRepository:_,boardFilter:P,taskForecastRenderHelper:t,planningHelpDialog:n,boardStorage:V});H().setForecastPlanningController(i);var o=e.TaskForecasterFactory({taskRepository:S,boardColumnRepository:_,swimlanes:x}),r=e.ForecastingAdvancedSettingsDialog({boardId:y,boardColorRepository:R,pointerMode:B});return e.ForecastingReport({boardId:y,boardName:I,columns:w,swimlanes:x,boardColumnRepository:_,colorOptionsFactory:M,boardColorRepository:R,taskLabelRepository:E,userRepository:C,taskRepository:S,taskDialog:D,boardStorage:V,forecastPlanningController:i,taskForecasterFactory:o,taskForecastRenderHelper:t,advancedSettingsDialog:r})}function k(e){return e.PomodoroStatistics({boardId:y,boardName:I,userFullName:T})}function g(e){return e.Print({boardId:y,userRepository:C,colorOptionsFactory:M,taskLabelRepository:E,boardFilter:P})}var b=e.userId,T=e.userFullName,y=e.boardId,I=e.boardName,w=e.columns,x=e.swimlanes,C=e.userRepository,D=e.taskDialog,S=e.taskRepository,E=e.taskLabelRepository,_=e.boardColumnRepository,M=e.colorOptionsFactory,R=e.boardColorRepository,O=e.manualTimeEntryRepository,A=e.workEntryRepository,N=e.userAvatarHelper,F=e.userPermissionService,L=e.userBoardSettingsRepository,P=e.boardFilter,B=e.pointerMode,V=e.boardStorage,H=e.getBoardViewController,U=e.estimationType;return{showBoardHistory:function(){n({elementId:"boardHistoryDialog"},l)},showBoardCalendar:function(){n({elementId:"boardCalendar"},s)},showBurndown:function(){w.length>1?n({elementId:"burndownDialog"},h):o.alert("You need at least 2 columns to view a Burndown report")},showCumulativeFlow:function(){n({elementId:"cumulativeFlowDialog"},m)},showCycleAndLeadTime:function(){n({elementId:"cycleAndLeadTimeDialog"},p)},showThroughput:function(){n({elementId:"throughputDialog"},f)},showForecasting:function(){n({elementId:"forecastingDialog"},v)},showPomodoroStatistics:function(){t({elementId:"pomodoroStatisticsDialog"},k)},showPrint:function(){t({elementId:"printDialog"},g)},showTaskCountReport:function(){n({elementId:"taskCountReportDialog"},d)},showEstimateReport:function(){n({elementId:"timeEstimateReportDialog"},c)},showTimeSpentReport:function(){n({elementId:"timeSpentReportDialog"},u)}}}},"15Lbf5Ql9+":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("UVj1gkG2j4"),n("JVeC5kEgXF"),!1,null,null,null);e.exports=a.exports},"16DDosKMMr":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{elementClass:"addSubTaskListTemplate",title:"Save template",appendTo:".appendWrapper",position:e.position},on:{saveRequested:e.save,closed:e.close}},[n("div",{staticClass:"taskDetails-formRow"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.templateName,expression:"templateName",modifiers:{trim:!0}},{name:"focus-mouse",rawName:"v-focus-mouse"}],ref:"nameInput",staticClass:"addSubTaskListTemplateName-input taskDetails-formInput taskDetails-formCell",attrs:{maxlength:"50",type:"text"},domProps:{value:e.templateName},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.save(t)):null},input:function(t){t.target.composing||(e.templateName=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",{staticClass:"taskDetails-formButtons taskDetails-formRow"},[n("button",{staticClass:"taskDetails-formCell taskDetails-formCell--right button button--success",on:{click:e.save}},[e._v("\n            Save\n        ")])])])},staticRenderFns:[]}},"1KkDuqVNta":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("GJr1xTV04Q"),n("hpIcJXP7Cd"),!1,null,null,null);e.exports=a.exports},"1bdAnilZcH":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("timeLog"),s=r.mapState,l=r.mapActions,u=r.mapGetters,c=n("LG1ynL8Huw"),d=n("utzbvpgxGf"),m=n("MEPIwEbOBN"),p=n("NKFQkhZ/hO"),f=n("MsGyxL+QFM");n("kPXMvJIjHV"),n("3yz/kx2JkK"),n("JOCBxO5V3I"),n("HNsrs/OU/N"),n("gRduait4db"),e.exports={data:function(){return{menuItemId:null,menuItemTarget:null,addManualTimeEntryVisible:!1}},computed:a({},o(["task","readOnly","isPremium","readOnly"]),s(["loading","totalSecondsSpentDiff"]),u(["dateGroups","entries"]),{dateGroupListClasses:function(){var e=["taskTimeLog-dateGroupList"];return this.readOnly&&e.push("taskTimeLog-dateGroupList--readOnly"),e},avatarClasses:function(){return"taskTimeLog-itemAvatar task-avatar task-avatar--"+this.task.color},timeSpentDiffText:function(){return Math.abs(this.totalSecondsSpentDiff)<60?"":f.formatTimeWithUnits(this.totalSecondsSpentDiff)}}),methods:a({},l(["loadTimeEntries","editTimeEntry","deleteTimeEntry","exportToExcel"]),{getAddEntryDialogPosition:function(){return{my:"left top",at:"left bottom+5px",of:this.$refs.add}},addEntryClick:function(){this.addManualTimeEntryVisible=!0},addManualTimeEntryClose:function(){this.addManualTimeEntryVisible=!1},getEntryTypeClasses:function(e){var t=["taskTimeLog-itemType"];return"manual"===e.entryType?t.push("taskTimeLog-itemType--manual"):"pomodoro"===e.entryType?e.disturbanceReason?t.push("taskTimeLog-itemType--pomodoroFail"):t.push("taskTimeLog-itemType--pomodoroSuccess"):"stopwatch"===e.entryType&&t.push("taskTimeLog-itemType--stopwatch"),t},getTooltiHtmlForEntry:function(e){var t=e.typeText,n=e.disturbanceReason,a=["<strong>"+t+"</strong>"];return n&&a.push('Stopped with reason "'+n+'"'),a.join("<br>")},itemClick:function(e){if(!this.readOnly){var t=this.$refs[e.itemId][0].querySelector(".taskTimeLog-itemMore");this.editTimeEntry({entryId:e.entryId,target:t})}},itemMoreClick:function(e,t){this.menuItemId=e.itemId,this.menuItemTarget=t.target},getItemMenuPosition:function(){return{my:"right top",at:"right bottom+2px",of:this.menuItemTarget}},onMenuEdit:function(){var e=this,t=this.entries.find(function(t){return t.itemId===e.menuItemId});this.editTimeEntry({entryId:t.entryId,target:this.menuItemTarget})},onMenuDelete:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.involvesMultipleTasks&&n.push("This will delete the entry and decrease the time spent on <em>ALL</em> involved tasks."),t.spansMultipleDays&&n.push("<strong>Note</strong>: The entry spans multiple days and will be deleted from all of them."),n.push(n.length?"Are you sure you want to continue?":"Are you sure you want to delete the entry?"),a=n.map(function(e){return"<p>"+e+"</p>"}).join(""),e.next=7,p.confirmHtml(a);case 7:(i=e.sent)&&this.deleteTimeEntry(t.entryId);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),hideMenu:function(){this.menuItemId=null,this.menuItemTarget=null}}),mounted:function(){this.task.totalSecondsSpent>0&&this.loadTimeEntries()},components:{"sub-view-header":c,"kf-menu":d,"add-manual-time-entry":m}}},"1h/YovctkI":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("0iPhQ5GI5H"),o=n("CXfR8Bb8Nd"),r=n("YXLpapl1k8"),s=n("o+f2pbDByQ"),l=n("VnFKtsC1ap"),u=n("EWBjBVnz0H"),c=n("aD17rJKlPM"),d=n("dV5nFHhTxp"),m=n("RZa6jUTo1A"),p=n("zpAnPUxVQg"),f=n("ATkpfOX3XK"),h=n("0uwOc4mjsI"),v=n("2Tugof5cFB"),k=n("jjj4fEj17t"),g=n("o5gLpei3fK"),b=n("2XvabWpZeT"),T=n("I78kXH4/jt"),y=n("k8wMS9oQ2n"),I=n("1o7wnubTxZ"),w=n("KAdy1FAL8S"),x=n("xYbrIhp1PS"),C=n("kY1ZEVCPA3"),D=n("d28dIODZu6"),S=n("PI55PZUUtQ"),E=n("QzBtks7hgf"),_=n("s9ebpazH5K"),M=n("brWB+wScTx"),R=n("5FDFGxYzHQ"),O=n("GU665b5GLB"),A=n("qVvtsuIicD"),N=n("MoDmcdZcO4"),F=n("AuW5ZH3K7f"),L=n("FRAnNwouzc"),P=n("2RWWg0kTrJ"),B=n("p1sv9J/v16"),V=n("zgdbQcXUW1"),H=n("9JAEVl+HAI"),U=n("WGmCs9ZXGI"),W=n("teRrWHx7l3"),j=n("GX0H/ktlL3"),K=n("xtrLvpzgJW"),G=n("Ke5Yuiq+tE"),z=n("7HcALohOSV"),Y=n("eu8k+Qqs5O"),$=n("hVghEIrzSQ"),q=n("0LghV00Anz"),Q=n("d43RGnW1Nr"),J=n("VmtaGW84r2"),Z=n("DBhU590yCh"),X=n("MYNFXHagiK"),ee=n("mq2Pi2c6Kv"),te=n("vPodq/6mM+"),ne=n("NKFQkhZ/hO"),ae=n("50u+wdY68T"),ie=n("HOr2IPxSN6"),oe=n("yRIulUCe/V"),re=n("/nqO3IZCNa"),se=n("7UiVNRW/oC"),le=n("SFsG77Eoxd"),ue=n("JPl8SvVTyQ"),ce=n("7VEEMb+TWV"),de=n("56vdwrc/u2"),me=n("K0eErBJEzS"),pe=n("oHr12kS+ja"),fe=n("d7qy3hh7LL"),he=n("laW6a8X5ru"),ve=n("BVHt5qytOU"),ke=n("BfkDCp+2Hy"),ge=n("grJi43wAtN"),be=n("LO+gL1DyKR"),Te=n("aittrcMLxP"),ye=n("QJnCDK7oGm"),Ie=n("K+t7ofM93M"),we=n("L+R46TTXra"),xe=n("RyzQOUNNaK"),Ce=n("fkNGPuT49E"),De=n("MBRpX1IwOm"),Se=n("g4htqslKNg"),Ee=n("VF9ScwKnrQ"),_e=n("9dWBDcFWZA"),Me=n("GvDe5pu1sq"),Re=n("ru7EfbYWOC"),Oe=n("KYPgIdRcLQ"),Ae=n("vAFMrvDpcb"),Ne=n("E6ZzB2N0TW"),Fe=n("QND5zXxSjt"),Le=n("v8WmNzb/4E"),Pe=n("R3QejrDoNb"),Be=n("DaOOytMETX");n("5NmzUcivbB");var Ve='<p>The page did not load correctly. Click <strong>OK</strong> to reload page.</p><div style="font-size: 10px">Error: Missing socket.io</div>';e.exports=function(e){function t(){var e=function(){var e=window.location.hash;return e.startsWith("#")?e.substr(1).split("/").filter(function(e){return!!e}):[]}();if(!(e.length<2))if("task-details"===e[0]){var t=e[1];if(2===e.length)n(),Ue(t);else if(4===e.length&&"comments"===e[2])n(),We(t);else if(5===e.length&&"relations"===e[2]){n();var a=e[4];je(t,a)}}else if("task-highlight"===e[0]){var o=e[1];n(),function(e){setTimeout(function(){setTimeout(function(){var t=i('.task[data-taskId="'+e+'"]')[0];if(t){var n=Se("highlight-task");t.dispatchEvent(n)}},500)})}(o)}}function n(){var e=""+window.location,t=e.indexOf("#");if(t>=0){var n=e.substr(0,t+1);window.history.replaceState(null,"",n)}}function He(){var e=Et.getOuterHeight(),t=i("#board-wrapper");t.css("bottom",e+"px");var n=i(".systemMessage");if(n.length){var a=0;n.toArray().forEach(function(e){var t=i(e),n=t.offset().top+t.outerHeight();a=Math.max(a,n)}),t.css("top",a+"px")}else t.css("top","");if(!t.hasClass("board-wrapper-swimlanes")){var o=i("#board-wrapper-innerHeight"),r=i(".board-taskListCell"),s=(r.filter(":visible").eq(0).offset()||{top:0}).top,l=o.outerHeight()+o.offset().top-s-11;r.css("height",l+"px")}}var Ue=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut.waitUntilClosedIfClosing();case 2:if(!Ut.isOpen()){e.next=4;break}return e.abrupt("return");case 4:ae.showLoading(),pt.getTaskOrNullLocalOrRemote(t,function(e){ae.hideLoading(),e&&Ut.openEditTask(e)});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut.waitUntilClosedIfClosing();case 2:if(!Ut.isOpen()){e.next=4;break}return e.abrupt("return");case 4:ae.showLoading(),pt.getTaskOrNullLocalOrRemote(t,function(e){ae.hideLoading(),e&&Ut.openEditTaskShowingComments(e)});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut.waitUntilClosedIfClosing();case 2:if(!Ut.isOpen()){e.next=4;break}return e.abrupt("return");case 4:ae.showLoading(),pt.getTaskOrNullLocalOrRemote(t,function(e){ae.hideLoading(),e&&Ut.openEditTaskShowingRelations(e,{showBoardView:!0,focusTaskId:n})});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),Ke=e.HistoryPresentationBuilder,Ge=e.BoardSearchDialog,ze=e.ExportDialog,Ye=e.ImportDialog,$e=e.MassUpdateTasksDialog,qe=e.MassUpdateTasksAjaxFacade,Qe=e.EventHistoryRepository,Je=e.TaskAttachmentRepository,Ze=e.BoardSearcher,Xe=void 0,et=void 0,tt=void 0,nt=void 0,at=void 0,it=void 0,ot=void 0,rt=void 0,st=void 0,lt=void 0,ut=void 0,ct=void 0,dt=void 0,mt=void 0,pt=void 0,ft=void 0,ht=void 0,vt=void 0,kt=void 0,gt=void 0,bt=void 0,Tt=void 0,yt=void 0,It=void 0,wt=void 0,xt=void 0,Ct=void 0,Dt=void 0,St=void 0,Et=void 0,_t=void 0,Mt=void 0,Rt=void 0,Ot=void 0,At=void 0,Nt=void 0,Ft=void 0,Lt=void 0,Pt=void 0,Bt=void 0,Vt=void 0,Ht=void 0,Ut=void 0,Wt=void 0,jt=void 0,Kt=void 0,Gt=void 0,zt=void 0,Yt=void 0,$t=void 0,qt=void 0,Qt=void 0,Jt=void 0,Zt=void 0,Xt=void 0,en=void 0,tn=void 0,nn=void 0,an=void 0,on=void 0,rn=void 0,sn=void 0,ln=void 0,un=void 0,cn=void 0,dn=void 0,mn=void 0,pn=void 0,fn=void 0,hn=void 0,vn=void 0,kn=void 0,gn=void 0,bn=void 0,Tn=void 0,yn=void 0,In=void 0,wn=void 0,xn=void 0,Cn=void 0,Dn=void 0,Sn=void 0,En=void 0,_n=void 0,Mn=void 0,Rn=void 0,On=void 0,An=void 0,Nn=void 0,Fn=void 0,Ln=void 0,Pn=void 0,Bn=void 0,Vn=void 0,Hn=void 0,Un=void 0,Wn=void 0,jn=void 0,Kn=void 0,Gn=void 0,zn=void 0,Yn=void 0,$n=void 0;return{bootstrap:Ce.wrapFunction(function(e){if(!window.io)return ne.alertHtml(Ve,function(){window.location.reload()});!function(e){var t=ie.unpack;e.forEach(function(e){e.tasks.forEach(t)})}(e.taskSections),wn=e.taskSections,at=e.dropboxAppKey,it=e.boxClientId,ot=e.googleApiClientId,_t=e.boardId,rt=e.boardName,st=e.organizationId,lt=e.organizationName,ut=e.userId,ct=e.userFullName,dt=e.userEmail,Rt=e.swimlanes,Mt=e.columns,ln=e.newTasksPosition,un=e.defaultMemberIsCreator,cn=e.defaultMemberUserId,dn=e.defaultMemberIsResponsible,mn=e.defaultDueDateTime,xn=e.boardOwnerUserId,Cn=e.users,Dn=e.userBoardSettings,Sn=e.userTimerSettings,En=e.userBoardRole,_n=e.boardColors,Mn=e.eventProperties,Rn=e.isPremium,On=e.isOrganizationDeactivated||!1,Vn=e.timerState,Yn=e.useNewTaskDialog,$n=e.completedOnboardingTypes,An=e.estimationType,Xe=window.kf_commonLoginController,et=Xe.getBoardSelectController(),tt=Xe.getWindowToken(),nt=Xe.getCsrf(),(Bt=Xe.getAdministrationPopoverController()).setCurrentBoard({type:"board",organizationId:st,organizationName:lt,boardId:_t,name:rt,ownerUserId:xn,users:Cn,userRole:En,isPremium:Rn}),rn=M(),Zt=te(),Wt=G(),an=H({prefix:ut+":"+_t}),kt=u({columns:Mt,boardId:_t}),pt=r({boardId:_t,taskSections:wn}),gt=l({taskRepository:pt}),vt=ve({taskRepository:pt}),Un=c(),Tn=Te({boardColumnRepository:kt,newTasksPosition:ln,taskRepository:pt}),Nn=we({boardColumnRepository:kt,taskSortOrderGenerator:Tn,taskRepository:pt}),(In=ye({boardColumnRepository:kt,taskRepository:pt})).init(),yn=be({growlController:Wt,taskRepository:pt,boardColumnRepository:kt}),function(){var e=ge({columns:Mt,taskRepository:pt,taskSortOrderGenerator:Tn});e.init(),e.on("repeatingTaskCopied",function(e){yn.notify(e.copyTaskId)})}(),function(){var e=_({userId:ut,boardColumnRepository:kt});Ie({taskRepository:pt,taskDateEvaluator:e}).init()}(),Tt=L(),yt=P(),bt=F({taskCommentAjaxFacade:Tt,taskRelationAjaxFacade:yt}),ft=d({users:Cn}),Ct=m({invitations:e.pendingBoardInvitations}),Dt=p({invitations:e.pendingOrganizationInvitations}),ht=V({boardId:_t,userBoardSettings:Dn,userTimerSettings:Sn,boardStorage:an}),xt=function(){if(Je)return Je({boardId:_t,csrf:nt})}(),It=Qe&&Qe(),wt=function(){var e=he.createProviderFromTaskRepository(pt);return s({boardId:_t,localTaskLabelProvider:e})}(),mt=X({userBoardRole:En,userId:ut,isPremium:Rn,isOrganizationDeactivated:On}),St=Q(),Ke&&(sn=Ke({userAvatarHelper:R})),on=E({userId:ut,boardStorage:an,taskRepository:pt}),Hn=_e({taskRepository:pt,workEntryRepository:gt,manualTimeEntryRepository:vt}),Nt=K({userBoardSettingsRepository:ht,pointerMode:Zt}),Kt=J({boardId:_t,colors:_n}),Gt=Z({boardColorRepository:Kt}),Lt=k({boardId:_t,swimlanes:Rt,taskRepository:pt,growlController:Wt,taskMover:Nn,pointerMode:Zt,newTasksPosition:ln}),Pt=g({taskRepository:pt,taskSortOrderGenerator:Tn,boardColumnRepository:kt}),Yt=ze?ze({boardId:_t,colorOptionsFactory:Gt,userRepository:ft,taskLabelRepository:wt}):null,$t=Ye?Ye({boardId:_t,boardColumnRepository:kt,swimlanes:Rt,csrf:nt}):null,Bn=function(){var e=window.io.connect("/board-changes");return e.on("connect",function(){e.emit("subscribe",{boardId:_t,windowToken:tt})}),e}(),Ot=S({taskRepository:pt,userBoardSettingsRepository:ht,manualTimeEntryRepository:vt,workTimerSession:on,workTimerSoundPlayer:Xt,workEntryRepository:gt,userId:ut,userFullName:ct,boardId:_t,boardName:rt,documentTitleFacade:St,desktopNotifier:W(),windowUnloadManager:U,settingsDialog:Nt,pointerMode:Zt,boardStorage:an,growlController:Wt,showWorkLogDialog:function(){Vt.show()}}),Pn=function(){var e=on.getClientId(),t=Ee({boardId:_t,userId:ut,timerClientId:e,workTimerDialog:Ot,userRepository:ft,userBoardSettingsRepository:ht,timerState:Vn,pointerMode:Zt,workTimerSession:on});return Bn.on("timerState/update",function(e){t.setState(e)}),t}(),jt=function(){var e=Y({timerStateController:Pn}),t=ht.getBoardFilterOrNull();if(t&&(t.colorValue&&e.setColorFilter(t.colorValue),t.userId&&e.setUserFilter(t.userId),t.labelNames&&e.setLabelFilter(t.labelNames.slice()),t.dueDateValue)){var n=$.getDueDateFilterParamsFromValue(t.dueDateValue);e.setDueDateFilter(n)}return e}(),nn=q({taskLabelRepository:wt,boardFilter:jt,boardColorRepository:Kt,userRepository:ft,pointerMode:Zt,userBoardSettingsRepository:ht}),zt=ee({boardId:_t,boardColorRepository:Kt,defaultMemberIsCreator:un,defaultMemberUserId:cn,defaultMemberIsResponsible:dn,userId:ut}),jn=Ae({userRepository:ft,pendingBoardInvitationRepository:Ct,pendingOrganizationInvitationRepository:Dt,userPermissionService:mt}),Kn=Ne({boardId:_t,userRepository:ft,pendingBoardInvitationRepository:Ct,pendingOrganizationInvitationRepository:Dt,userPermissionService:mt,pointerMode:Zt}),Gn=Fe({taskMembersDialog:Kn,taskRepository:pt}),At=function(){var e=window.location,t=e.protocol+"//"+e.host;return A({basePath:t,pointerMode:Zt})}(),zn=Be({isPremium:Rn}),Ht=function(){if(Ze)return Ze({boardId:_t,taskRepository:pt,taskCommentAjaxFacade:Tt,taskAttachmentRepository:xt})}(),Ut=function(){var e=pe({boardId:_t});return Yn?Pe({userId:ut,boardId:_t,boardName:rt,taskRepository:pt,boardColorRepository:Kt,userPermissionService:mt,userRepository:ft,singleTaskResourceRepositoryFactory:bt,taskRelationAjaxFacade:yt,timeEntryRepository:Un,manualTimeEntryRepository:vt,workEntryRepository:gt,pendingBoardInvitationRepository:Ct,pendingOrganizationInvitationRepository:Dt,userAvatarHelper:R,editTimeEntryDialog:Hn,boardColumnRepository:kt,isPremium:Rn,estimationType:An,defaultDueDateTime:mn,taskMembersDialog:Kn,taskMemberProfileDialog:jn,moveTaskController:Lt,taskLinkDialog:At,printTaskDialog:e,eventHistoryRepository:It,eventProperties:Mn,swimlanes:Rt,sortOrderGenerator:N,taskAttachmentRepository:xt,taskLabelRepository:wt,dropboxAppKey:at,boxClientId:it,googleApiClientId:ot,timerStateController:Pn,taskSortOrderGenerator:Tn,workTimerDialog:Ot,userBoardSettingsRepository:ht,copyTaskController:Pt,taskCopyNotifier:yn,boardFilter:jt,keyboardShortcutsDialog:zn,boardSearcher:Ht,onboardingFacade:Le({completedOnboardingTypes:$n}),subTaskListTemplateAjaxFacade:B()}):window.kf_TaskDialog({eventProperties:Mn,isPremium:Rn,defaultDueDateTime:mn,userId:ut,boardId:_t,boardName:rt,columns:Mt,swimlanes:Rt,dropboxAppKey:at,boxClientId:it,googleApiClientId:ot,userRepository:ft,taskRepository:pt,pendingBoardInvitationRepository:Ct,pendingOrganizationInvitationRepository:Dt,taskCommentRepository:Tt,eventHistoryRepository:It,taskAttachmentRepository:xt,windowUnloadManager:U,userPermissionService:mt,sortOrderGenerator:N,boardColorRepository:Kt,taskFactory:zt,pointerMode:Zt,taskLabelRepository:wt,userAvatarHelper:R,boardFilter:jt,historyPresentationBuilder:sn,userBoardSettingsRepository:ht,taskSortOrderGenerator:Tn,moveTaskController:Lt,taskLinkDialog:At,printTaskDialog:e,taskGroupDateDialogFactory:rn,taskMover:Nn,timeEntryRepository:Un,manualTimeEntryRepository:vt,workEntryRepository:gt,editTimeEntryDialog:Hn,taskMemberProfileDialog:jn,taskMembersDialog:Kn})}(),Jt=Ge?Ge({boardId:_t,boardColumnRepository:kt,taskRepository:pt,taskDialog:Ut,boardSearcher:Ht}):null,tn=O({boardId:_t}),qt=function(){var e=mt.canMassUpdateTasks();return $e&&e?$e({massUpdateTasksAjaxFacade:qe({boardId:_t}),taskLabelRepository:wt,taskDialog:Ut,taskRepository:pt,boardColorRepository:Kt,userRepository:ft,boardColumnRepository:kt,swimlanes:Rt}):null}(),Qt=mt.canRestoreTasks()?fe({boardId:_t,swimlanes:Rt,boardColumnRepository:kt,userRepository:ft,userPermissionService:mt}):null,gn=de({taskRepository:pt,userRepository:ft,boardColorRepository:Kt,userAvatarHelper:R}),pn=oe({boardColumnRepository:kt}),fn=re({containerSelector:"#board-wrapper",taskRepository:pt,taskContextMenuItemFactory:gn,taskSettingsHelper:pn,pointerMode:Zt,boardColumnRepository:kt}),Wn=Oe(),(Xt=v({workTimerDialog:Ot,userBoardSettingsRepository:ht})).init(),en=z({boardId:_t,isPremium:Rn,userEmail:dt,keyboardShortcutsDialog:zn}),Ft=h({userId:ut,userFullName:ct,boardId:_t,boardName:rt,columns:Mt,swimlanes:Rt,userRepository:ft,taskDialog:Ut,taskRepository:pt,taskLabelRepository:wt,boardColumnRepository:kt,colorOptionsFactory:Gt,boardColorRepository:Kt,userAvatarHelper:R,userPermissionService:mt,userBoardSettingsRepository:ht,boardFilter:jt,pointerMode:Zt,boardStorage:an,estimationType:An,manualTimeEntryRepository:vt,workEntryRepository:gt,getBoardViewController:function(){return Ln}}),Vt=j({boardId:_t,workEntryRepository:gt,manualTimeEntryRepository:vt,editTimeEntryDialog:Hn,isPremium:Rn,premiumInfoDialog:tn,reportLoader:Ft,logDataRepository:ke({boardId:_t})}),(Et=f({isPremium:Rn,workTimerDialog:Ot,exportDialog:Yt,importDialog:$t,massUpdateTasksDialog:qt,recycleBinDialog:Qt,reportLoader:Ft,userBoardSettingsRepository:ht,boardFilterDialog:nn,boardSearchDialog:Jt,assistanceDialog:en,premiumInfoDialog:tn,userPermissionService:mt,boardColorRepository:Kt,estimationType:An})).init(),kn=function(){if(!mt.canChangeTaskProperties(["sortOrder","columnId","swimlaneId","dateFinished"]))return le();var e=se({columns:Mt,swimlanes:Rt,taskRepository:pt,boardFilter:jt});return e.init(),e}(),hn=function(){if(mt.canEditTasks())return ue({taskRepository:pt,taskSelectionController:kn})}(),vn=function(){if(mt.canUseTaskContextMenu()){var e=ce({taskRepository:pt,taskSelectionController:kn,taskContextMenu:fn,taskContextMenuItemFactory:gn,moveTaskController:Lt,bulkTaskDeleteController:hn,taskMembersDialog:Kn});return e.init(),e}}(),Fn=function(){var e=b({columns:Mt,swimlanes:Rt,workTimerDialog:Ot,userPermissionService:mt,boardSelectController:et,boardFooter:Et,taskSelectionController:kn,bulkTaskDeleteController:hn,taskDialog:Ut,taskFactory:zt,taskSortOrderGenerator:Tn,taskRepository:pt,keyboardShortcutsDialog:zn});return e.init(),e}(),bn=function(){var e=me({pointerMode:Zt});return e.init(),e}(),function(){var e=o(function(){i("body").scrollTop(0)},100);i("body").scroll(e)}(),setTimeout(function(){["date.png","grippable.png","pin-small.png"].forEach(function(e){(new Image).src="/img/"+e})},100),"#premiumInfo"===window.location.hash&&(n(),Et.showPremiumInfoDialog()),Ot.handleRescueOfUnsavedWork(),function(){if(navigator.userAgent.includes("iPad")){var e=document.createElement("meta");e.name="viewport",e.content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no",document.head.appendChild(e);var t=document.createElement("meta");t.name="viewport-fit",t.content="contain",document.head.appendChild(t)}}(),function(){Ln=De({boardId:_t,userId:ut,boardColumnRepository:kt,swimlanes:Rt,estimationType:An,userBoardSettingsRepository:ht,taskRepository:pt,workTimerSession:on,userAvatarHelper:R,userRepository:ft,userPermissionService:mt,taskDialog:Ut,taskContextMenu:fn,headerContextMenu:bn,workTimerDialog:Ot,pointerMode:Zt,copyTaskController:Pt,moveTaskController:Lt,taskGroupDateDialogFactory:rn,taskMover:Nn,taskLinkDialog:At,taskFactory:zt,taskSortOrderGenerator:Tn,boardKeyboardShortcutHandler:Fn,boardFilter:jt,taskDateWatcher:In,taskSelectionController:kn,midnightNotifier:xe,timerStateController:Pn,adminDialogController:Wn,pendingBoardInvitationRepository:Ct,pendingOrganizationInvitationRepository:Dt,taskMembersContextMenuController:Gn,useNewTaskDialog:Yn,taskMemberProfileDialog:jn});var e=document.getElementById("board-wrapper");Ln.renderTo(e)}(),function(){var e=o(He,100);i(window).resize(e),Et.on("heightChange",e),He(),setTimeout(He,1e3),Re.on("close",He)}(),function(){var e=an.get("taskIdToOpenOnPageLoad");e&&an.remove("taskIdToOpenOnPageLoad"),t(),e&&Ue(e)}(),T({windowToken:tt,socket:Bn,boardId:_t,taskRepository:pt}).startListening(),y({windowToken:tt,socket:Bn,boardId:_t,userRepository:ft}).startListening(),I({socket:Bn,pendingBoardInvitationRepository:Ct}).startListening(),w({socket:Bn,pendingOrganizationInvitationRepository:Dt}).startListening(),x({socket:Bn,singleTaskResourceRepositoryFactory:bt}).start(),C({socket:Bn,singleTaskResourceRepositoryFactory:bt}).start(),D({socket:Bn,boardColorRepository:Kt}).start(),U.addUnloadWork(function(){W.closeAll()}),Me.addIsPageReloadOkayCallback(function(){return!Ot.isTaskRunning()&&Ut.isPageReloadOkay()}),Me.onBeforeReload(function(){var e=Ut.getOpenTaskId();e&&an.set("taskIdToOpenOnPageLoad",e)}),window.addEventListener("hashchange",t)})}}},"1ik1xQFimA":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("timeEstimate"),s=r.mapState,l=r.mapMutations,u=r.mapActions,c=n("MsGyxL+QFM"),d=n("lb46iHLaM4");e.exports={data:function(){return{focusTextOnDone:!1}},computed:a({},o(["task","readOnly"]),s({editTimeEstimateVisible:"editVisible"}),{timeEstimateText:function(){return c.formatTimeWithUnits(this.task.totalSecondsEstimate)||"0h"},textClasses:function(){var e=["taskDetails-propertyValue taskDetails-timeEstimate taskDetails-editableProperty"];return this.editTimeEstimateVisible&&e.push("taskDetails-editableProperty--active"),e}}),methods:a({},l({setEditTimeEstimateVisible:"SET_EDIT_VISIBLE"}),u(["updateTimeEstimate","deleteTimeEstimate"]),{getTimeEstimateTextPosition:function(){return{my:"left top",at:"left bottom",of:this.$refs.timeEstimateText}},showEditTimeEstimate:function(){this.readOnly||this.setEditTimeEstimateVisible(!0)},showEditTimeEstimateFromKeyboard:function(){this.readOnly||(this.focusTextOnDone=!0,this.showEditTimeEstimate())},editTimeEstimateClose:function(){this.setEditTimeEstimateVisible(!1),this.focusTextOnDone&&(this.focusTextOnDone=!1,this.$refs.timeEstimateText.focus())}}),components:{"edit-time-estimate":d}}},"1o7wnubTxZ":function(e,t,n){"use strict";e.exports=function(e){function t(e){var t=e.boardInvitation;i.localAdd(t)}function n(e){var t=e.boardInvitationId;i.localDeleteById(t)}var a=e.socket,i=e.pendingBoardInvitationRepository;return{startListening:function(){a.on("boardInvitationSent",t),a.on("boardInvitationAccepted",n),a.on("boardInvitationRejected",n),a.on("boardInvitationCanceled",n)},stopListening:function(){a.off("boardInvitationSent",t),a.off("boardInvitationAccepted",n),a.off("boardInvitationRejected",n),a.off("boardInvitationCanceled",n)}}}},"1uxCB6qLdY":function(e,t,n){"use strict";var a=n("0FvRrd0aS9"),i=n("0iPhQ5GI5H"),o=n("TS0ILVVaKW"),r=n("4PyK1Icykd"),s=n("3qmz3wED6s");n("sSX1a7FI2N");var l="click.popoverMenu";o.components.register("popover-menu",{viewModel:function(e){function t(){var e=v.selectedItem();e&&e.itemClicked(e)}function n(){for(var e=v.items(),t=0;t<e.length;t++){var n=e[t];if(n.itemSelected())return n}return null}function r(e){return e.enable&&!e.enable()}function u(){v.visible(!1)}function c(){var t=e.menu.sections().map(function(e){return e.items}).map(o.unwrap);return a(t)}function d(e){e?setTimeout(function(){s.addContext({name:h,map:{esc:u,up:p,down:f,"enter,space":t}}),v.focus(!0),i(document).on(l,u)},0):(function(){var e=v.selectedItem();e&&e.itemSelected(!1)}(),s.deleteContextByName(h),i(document).off(l))}function m(e,t){t.stopPropagation()}function p(){var e=v.selectedItem(),t=v.items();if(e){e.itemSelected(!1);var n=t.indexOf(e);0===n?t[t.length-1].itemSelected(!0):t[n-1].itemSelected(!0)}else t[t.length-1].itemSelected(!0)}function f(){var e=v.selectedItem(),t=v.items();if(e){e.itemSelected(!1);var n=t.indexOf(e);n===t.length-1?t[0].itemSelected(!0):t[n+1].itemSelected(!0)}else t[0].itemSelected(!0)}var h=Math.random()+Date.now(),v=null;return(v=o.mapping.fromJS({visible:!1,focus:!1,title:null,sections:[],position:null,defaultKeyboardContext:""})).items=o.pureComputed(c),v.selectedItem=o.pureComputed(n),v.items().forEach(function(e){Object.assign(e,{itemDisabled:r,itemSelected:o.observable(!1),itemClicked:function(e){return function(t,n){t.toggle||u(),e(t,n)}}(e.itemClicked)})}),Object.assign(v,e.menu,{menuClicked:m}),v.visible.subscribe(d),v},template:r()})},"2Axb2VkjD1":function(e,t,n){var a=n("EiMJcB+3xe");e.exports=function(e){var t=a(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},"2JJlSkUcHj":function(e,t,n){"use strict";function a(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new a,this._eventsCount=0}var r=Object.prototype.hasOwnProperty,s="~";Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(s=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=s?s+e:e,a=this._events[n];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var i=0,o=a.length,r=new Array(o);i<o;i++)r[i]=a[i].fn;return r},o.prototype.emit=function(e,t,n,a,i,o){var r=s?s+e:e;if(!this._events[r])return!1;var l,u,c=this._events[r],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,a),!0;case 5:return c.fn.call(c.context,t,n,a,i),!0;case 6:return c.fn.call(c.context,t,n,a,i,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var m,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,a);break;default:if(!l)for(m=1,l=new Array(d-1);m<d;m++)l[m-1]=arguments[m];c[u].fn.apply(c[u].context,l)}}return!0},o.prototype.on=function(e,t,n){var a=new i(t,n||this),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.once=function(e,t,n){var a=new i(t,n||this,!0),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,i){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new a:delete this._events[o],this;var r=this._events[o];if(r.fn)r.fn!==t||i&&!r.once||n&&r.context!==n||(0==--this._eventsCount?this._events=new a:delete this._events[o]);else{for(var l=0,u=[],c=r.length;l<c;l++)(r[l].fn!==t||i&&!r[l].once||n&&r[l].context!==n)&&u.push(r[l]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new a:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new a:delete this._events[t])):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,e.exports=o},"2L2LX5H0BM":function(e,t,n){var a=n("e5TXoHk/Cf"),i=n("GmNUBKa31M"),o=n("OuyBMWWFiO"),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!r[a(e)]}},"2NNlzTg4EW":function(e,t){var n=Date.now;e.exports=function(e){var t=0,a=0;return function(){var i=n(),o=16-(i-a);if(a=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"2RWWg0kTrJ":function(e,t,n){"use strict";var a=n("rEK1kr4M5E"),i=n("R9zOpUcM5X"),o=n("hHlQBZdXtr");e.exports=function(){var e=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o(t),delete n.relatedTaskModel,e.next=4,a.jsonPost({url:"/task-relation/save",data:n});case 4:i=e.sent,t._id=i;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return{getAllForTask:i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.get({url:"/task/"+e+"/relations",suppressGlobalErrorHandler:t.suppressGlobalErrorHandler})}),save:i(e),update:i(function(e){var t=o(e);return delete t.relatedTaskModel,a.jsonPost({url:"/task-relation/"+e._id+"/update",data:t})}),deleteById:i(function(e){return a.jsonPost({url:"/task-relation/"+e+"/delete"})}),getAddDialogData:function(){return a.get({url:"/task-relation/add-dialog-data"})}}}},"2Tugof5cFB":function(e,t,n){"use strict";var a=n("9nJm49KDlC"),i=3e3,o=5e3,r=8e3,s=3e4,l=3;e.exports=function(e){function t(){w=!0,T()&&h()}function n(){g(),T()&&R.playTimes(s,l)}function u(){w=!1,g(),b()}function c(){g(),b()}function d(){T()&&R.play()}function m(){var e=I.getTimerSettings(),t=e.alarmSound!==O,n=e.alarmVolumePercentage!==A;(t||n)&&(b(),k(e,!0));var a=e.tickingSound!==S,i=e.tickingVolumePercentage!==E,o=e.tickingMode!==C;(a||i||o)&&(g(),v(e,i||a),h())}function p(){h()}function f(){g(),b()}function h(){var e=I.getTimerSettings().tickingMode;"never"===e?g():"start-only"===e&&(clearTimeout(M),M=setTimeout(function(){D.fadeTo(0,o),x=!1},r)),"always"!==e&&"start-only"!==e||!x&&w&&(D.softPlay(E/100),x=!0)}function v(e,t){C=e.tickingMode,S=e.tickingSound,E=e.tickingVolumePercentage,D=new a("/sound/ticking/"+S);var n=E/100;D.setVolume(n),D.setLoopEnabled(!0),t&&I.isSoundEnabled()&&!w&&(D.play(),x=!0,_=setTimeout(function(){w||g()},i))}function k(e,t){O=e.alarmSound,A=e.alarmVolumePercentage,(R=new a("/sound/alarms/"+O)).setVolume(A/100),t&&I.isSoundEnabled()&&R.play()}function g(){D.stop(),clearTimeout(M),clearTimeout(_),x=!1}function b(){R&&R.stop()}function T(){return I.isSoundEnabled()}var y=e.workTimerDialog,I=e.userBoardSettingsRepository,w=!1,x=!1,C=null,D=null,S=null,E=null,_=void 0,M=void 0,R=null,O=null,A=null;return{init:function(){a.isSoundSupported()&&(function(){var e=I.getTimerSettings();v(e),k(e)}(),y.on("workStarted",t).on("workOverDue",n).on("workStopped",u).on("breakStarted",c).on("breakOverDue",d),I.on("timerSettingsChanged",m).on("soundEnabled",p).on("soundDisabled",f))}}}},"2WowFETCZ9":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("home").mapState,s=i.createNamespacedHelpers("members").mapState,l=i.createNamespacedHelpers("files").mapState,u=i.createNamespacedHelpers("subTasks").mapState,c=i.createNamespacedHelpers("labels").mapState,d=i.createNamespacedHelpers("comments").mapState,m=i.createNamespacedHelpers("relations").mapState,p=n("77GmKa7xtE"),f=n("VMYNC16Q0W"),h=n("QW9J5IqaQ8"),v=n("TlikZI6ml7"),k=n("o/5gjJ4irr"),g=n("g/ihlJRoIz"),b=n("5whSrxbWCt"),T=n("403dfETBE1"),y=n("cWag6eBPTR"),I=n("UcDIndQo1w"),w=n("HWRvlVImAu"),x=n("sItIK3wUWW"),C=n("eT8iNZssPQ"),D=n("JATp8q/Vqu");e.exports={computed:a({},o(["task","isPremium"]),r(["boardColumns"]),l({filesVisible:"visible"}),d({commentsVisible:"visible"}),u({subTasksVisible:"visible"}),s({membersVisible:"visible"}),c({labelsVisible:"visible"}),m({relationsVisible:"visible"})),components:{name:p,highlights:f,description:v,members:k,labels:g,"due-dates":b,"time-estimate":T,"points-estimate":y,"time-spent":I,subtasks:w,comments:x,files:C,relations:D,color:h}}},"2XvabWpZeT":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("0iPhQ5GI5H"),o=n("3qmz3wED6s"),r=n("EWUDtfBmmZ"),s=n("DaOOytMETX"),l=[1,2,3,4,5,6,7,8,9,0,"a","b","c"].join(","),u=1500;e.exports=function(e){function t(e){v.hasSelection()&&(e.shiftKey?k.forceDeleteSelectedTasks("taskDeletedFromKeyboardShortcut"):k.confirmAndDeleteSelectedTasks("taskDeletedFromKeyboardShortcut"))}function n(){clearTimeout(x),o.deleteContextByName("timer")}function c(e){var t=g.createEmptyTask();t.columnId=e.columnId,t.swimlaneId=e.swimlaneId,t.sortOrder=T.generateSortOrderForAddingTaskToCell(e),b.openNewTask(t)}var d=e.swimlanes,m=e.workTimerDialog,p=e.userPermissionService,f=e.boardSelectController,h=e.boardFooter,v=e.taskSelectionController,k=e.bulkTaskDeleteController,g=e.taskFactory,b=e.taskDialog,T=e.taskSortOrderGenerator,y=e.taskRepository,I=e.keyboardShortcutsDialog,w=r(["addTaskKeyPress","cancelAddTaskKeyPress","addTaskToColumnKeyPress","addTaskToCellKeyPress","navigateUpKeyPress","navigateDownKeyPress","navigateLeftKeyPress","navigateRightKeyPress"]),x=void 0;return{init:function(){i("body").on("click",".board-keyShortcutOverlay",function(){var e=o.getCurrentContext();"board-addTask-column"!==e&&"board-addTask-swimlane"!==e||(o.deleteContextByName(e),w.emit("cancelAddTaskKeyPress"))}),function(){var e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({b:function(){f.toggleExpansionFromKeyboard()},h:function(){h.showAssistanceDialog()},r:function(){h.showReportsMenu()},m:function(){h.showMiscMenu()},f:function(e){e.preventDefault(),h.showFilter()}},s.keyboardShortcut,function(e){e.preventDefault(),I.toggleShow({contextName:"Board"})});p.canUseTimer()&&Object.assign(e,{t:function(){m.show(),clearTimeout(x),o.addContext({name:"timer",map:{m:function(){m.toggleMode(),n()}}}),x=setTimeout(n,u)},"shift+t":function(){m.isShowing()||m.show(),m.enableTaskSelect()},s:function(){m.clockButtonKeyboardShortcutPressed()}}),p.canAddTasks()&&(e.a=function(){!function(){var e={esc:function(){o.deleteContextByName("board-addTask-column"),w.emit("cancelAddTaskKeyPress")}};e[l]=function(e,t){e.preventDefault(),o.deleteContextByName("board-addTask-column");var n=i('.column-keyHint[data-key="'+t+'"]');if(n.length){var a=n.attr("data-columnId");d.length>1?function(){var e={esc:function(){o.deleteContextByName("board-addTask-swimlane"),w.emit("cancelAddTaskKeyPress")}};e[l]=function(e,t){e.preventDefault(),o.deleteContextByName("board-addTask-swimlane");var n=i('.swimlane-keyHint[data-key="'+t+'"]');if(n.length){var a={columnId:n.attr("data-columnId"),swimlaneId:n.attr("data-swimlaneId")};c(a),w.emit("addTaskToCellKeyPress",a)}else w.emit("cancelAddTaskKeyPress")},o.addContext({name:"board-addTask-swimlane",map:e})}():c({columnId:a}),w.emit("addTaskToColumnKeyPress",a)}else w.emit("cancelAddTaskKeyPress")},o.addContext({name:"board-addTask-column",map:e})}(),w.emit("addTaskKeyPress")}),h.hasSearchInput()&&(e["ctrl+f,cmd+f"]=function(e){e.preventDefault(),h.focusSearchInput()});var r={up:function(e){e.preventDefault(),w.emit("navigateUpKeyPress")},down:function(e){e.preventDefault(),w.emit("navigateDownKeyPress")},left:function(e){e.preventDefault(),w.emit("navigateLeftKeyPress")},right:function(e){e.preventDefault(),w.emit("navigateRightKeyPress")},enter:function(){var e=v.getSelectedTaskIdsInOrder();if(1===e.length){var t=y.getTaskById(e[0]);b.openEditTask(t)}},esc:function(){v.hasSelection()&&v.clearSelection()}};p.canEditTasks()&&(r["del,shift+del"]=t),function(e){var t=this;Object.keys(e).forEach(function(n){var a=e[n];e[n]=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];v.hasSelection()&&v.clearSelection(),a.apply(t,n)}})}(e),o.addContext({name:"board",map:a({},e,r)})}()},on:w.on}}},"2YJ0Y+cJmC":function(e,t,n){"use strict";e.exports=function(e){return function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];if("function"!=typeof n[n.length-1])return new Promise(function(t){e.apply(void 0,n.concat([t]))});e.apply(void 0,n)}}},"2ZfDWAhX6F":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskHistory"},[n("sub-view-header",{attrs:{title:"History"}},[n("div",{staticClass:"taskDetails-editSelectWrapper"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.filterValue,expression:"filterValue"}],staticClass:"taskHistory-filter taskDetails-editSelect",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterValue=t.target.multiple?n:n[0]},e.filterChange]}},[n("option",{attrs:{value:""}},[e._v("Show all events")]),e._v(" "),n("option",{attrs:{value:"taskCreated"}},[e._v("Task created")]),e._v(" "),n("option",{attrs:{value:"taskChanged"}},[e._v("Task changed")]),e._v(" "),n("optgroup",{attrs:{label:"Task property changed: "}},e._l(e.taskChangedPropertyFilterOptions,function(t){return n("option",{domProps:{value:t.value}},[e._v("\n                        "+e._s(t.text)+"\n                    ")])})),e._v(" "),n("option",{attrs:{value:"taskCommentCreated"}},[e._v("Comment added")]),e._v(" "),n("option",{attrs:{value:"taskCommentDeleted"}},[e._v("Comment deleted")]),e._v(" "),n("option",{attrs:{value:"taskCommentTextChanged"}},[e._v("Comment changed")]),e._v(" "),n("option",{attrs:{value:"taskRelationCreated"}},[e._v("Relation added")]),e._v(" "),n("option",{attrs:{value:"taskRelationDeleted"}},[e._v("Relation deleted")]),e._v(" "),n("option",{attrs:{value:"taskRelationChanged"}},[e._v("Relation changed")]),e._v(" "),n("option",{attrs:{value:"taskAttachmentCreated"}},[e._v("File added")]),e._v(" "),n("option",{attrs:{value:"taskAttachmentDeleted"}},[e._v("File deleted")]),e._v(" "),n("option",{attrs:{value:"taskDeleted"}},[e._v("Task deleted")]),e._v(" "),n("option",{attrs:{value:"taskRestored"}},[e._v("Task restored")])])])]),e._v(" "),e.loading?n("div",{staticClass:"taskHistory-loading loading loading--noText"},[n("div",{staticClass:"loadingSpinner loadingSpinner--semiTransparent"})]):0===e.entryItems.length?n("div",{staticClass:"taskHistory-noEntries"},[e._v("\n        No entries found\n    ")]):n("div",{staticClass:"taskHistory-entries"},e._l(e.entryItems,function(e){return n("task-history-entry",{key:e.key,attrs:{initialEntry:e}})}))],1)},staticRenderFns:[]}},"2ibmMR3lBv":function(e,t,n){var a=n("p/0cqC9K/5"),i=n("bgO78Ra6Le"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||r.test(e)||!o.test(e)||null!=t&&e in Object(t)}},"2juhUb49yF":function(e,t,n){var a=n("UuxzYNRyeK");e.exports=function(e){var t=[],n=e||{};return function(e){t.push("<div"+a.attr("id",e,!0,!0)+' class="fullScreenDialog fullScreenDialog--loading ui-front"><div class="fullScreenDialog-overlay"></div><div class="fullScreenDialog-container"><div class="fullScreenDialog-loadingWidget">Loading...</div><div class="fullScreenDialog-content"></div></div></div>')}.call(this,"id"in n?n.id:"undefined"!=typeof id?id:void 0),t.join("")}},"2nZJaLy5kj":function(e,t,n){"use strict";function a(e){try{return e()}catch(e){return function(e){console&&console.error&&console.error(e)}(e),null}}function i(){var e={};return{getItem:function(t){return t in e?e[t]:null},setItem:function(t,n){e[t]=""+n},removeItem:function(t){delete e[t]}}}var o=void 0;try{o=window.localStorage||i()}catch(e){o=i()}"string"==typeof o.setItem&&delete o.setItem,e.exports={get:function(e){return a(function(){var t=o.getItem(e);return null!==typeof t?JSON.parse(t):null})},set:function(e,t){a(function(){o.setItem(e,JSON.stringify(t))})},remove:function(e){a(function(){o.removeItem(e)})}}},"2rs9mg/Lpj":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div data-bind="css: { \'recycleBinDialog--showHelp\': showHelp }" class="recycleBinDialog"><div class="fullScreenDialog-header"><h2 class="fullScreenDialog-title">Recycle bin</h2><div class="fullScreenDialog-toolbar-right"><button data-bind="click: helpClicked" class="fullScreenDialog-toolbar-button recycleBinDialog-helpButton icons-help icons-gray">Help</button></div><button class="fullScreenDialog-close icons-close icons-gray"></button></div><div class="fullScreenDialog-body"><p data-bind="visible: permissionNoticeVisible" class="recycleBinDialog-noticeText"> <strong>Note:</strong> You can only view and restore tasks that you have deleted yourself.<br><strong>Board owners</strong> and <strong>Board administrators</strong> can view and restore tasks deleted by anyone.</p><div data-bind="visible: messageVisible" class="recycleBinDialog-messageWrapper"><div data-bind="visible: loadingVisible" class="fullScreenDialog-messageBox">Loading tasks...</div><div data-bind="visible: emptyRecycleBinMessageVisible" class="fullScreenDialog-messageBox">Recycle bin is empty</div></div><div data-bind="visible: !messageVisible()" class="recycleBinDialog-contentWrapper scroll scroll--large"><table class="recycleBinDialog-table"><thead><tr class="recycleBinDialog-tableHeaderRow"><th class="recycleBinDialog-tableHeader recycleBinDialog-taskNameTableHeader">Task name</th><th class="recycleBinDialog-tableHeader">Location</th><th class="recycleBinDialog-tableHeader">Deleted by</th><th class="recycleBinDialog-tableHeader">Deleted at</th><th class="recycleBinDialog-tableHeader">Unrestorable after</th><th class="recycleBinDialog-tableHeader"></th><th class="recycleBinDialog-tablePaddingHeader"></th></tr></thead><tbody data-bind="foreach: deletedTasks"><tr class="recycleBinDialog-tableRow"><td class="recycleBinDialog-tableCell recycleBinDialog-taskNameTableCell"><div data-bind="text: taskName, css: taskClasses, attr: { title: taskName }" class="taskBox taskBox--stretch"></div></td><td data-bind="text: locationText, attr: { title: locationText }" class="recycleBinDialog-tableCell recycleBinDialog-locationTableCell"></td><td data-bind="text: deletedByUserFullName" class="recycleBinDialog-tableCell"></td><td data-bind="text: deletedTimeText" class="recycleBinDialog-tableCell"></td><td data-bind="text: expiresTimeText" class="recycleBinDialog-tableCell"></td><td class="recycleBinDialog-tableCell"><button data-bind="click: $root.restoreClicked" class="recycleBinDialog-restoreButton">Restore</button></td><td class="recycleBinDialog-tablePaddingCell"></td></tr></tbody></table></div></div></div>'),t.join("")}},"2z18+jHlI7":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("dALRNNrcBj"),o=n("TS0ILVVaKW"),r=n("LV1rcwSSYD").findIndex,s=n("TsDCveOwoX"),l=n("7HSyYjyQSN"),u=n("EWUDtfBmmZ"),c=n("3ga/HyXKa2"),d=n("GFE05gAGeP");n("IpLvl/p887"),n("pvSEXQHycq"),n("37f966GnSA");var m=20,p=8,f=9,h=[",".charCodeAt(0),";".charCodeAt(0),13],v=27;e.exports=function(e){function t(e){var t=[0,P.labels().length];e.forEach(function(e){t.push(o.mapping.fromJS({name:e.name,pinned:e.pinned||!1}))}),P.labels.splice.apply(P.labels,t),F.close()}function n(e,t){a(t.target).closest(".taskLabelInput-menuWrapper").length>0||(g(),k())}function k(){P.isReadOnly()||P.inputFocus(!0)}function g(){P.isSingleLine()&&P.expanded(!0)}function b(e,t){var n=a(t.currentTarget),i=P.labels().map(function(e){return e.name()});F.toggleOpen(n,i),g(),t.stopPropagation()}function T(e,t){P.isReadOnly()||(a(t.currentTarget).trigger(jQuery.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY})),t.stopPropagation())}function y(){return setTimeout(function(){S()},0),!0}function I(e,t){var n=P.inputValue(),a=t.which;if(a===f){if(!t.shiftKey&&n.length>0)return D(),!1;P.autoCompleteOpen()||P.menuOpen()||P.expanded(!1)}if(a===v&&(P.autoCompleteOpen()||P.menuOpen()||P.expanded(!1)),a===p&&0===n.length){var i=P.labels().length;i&&P.labels.splice(i-1,1)}return!0}function w(e,t){var n=t.which;return!(h.indexOf(n)>=0&&(D(),1))}function x(e){var t=P.labels(),n=r(t,function(t){return t.name()===e});n>=0&&P.labels.splice(n,1)}function C(e){(e=function(e){return c.clean(e).trim()}(e))&&(P.labels().some(function(t){return t.name()===e})||P.labels.push(o.mapping.fromJS({name:e,pinned:!1})))}function D(){if(!P.isReadOnly()){S();var e=P.inputValue().trim();e&&(P.labels().some(function(t){return t.name()===e})?(P.invalidToAdd(!0),setTimeout(function(){P.invalidToAdd(!1)},1e3)):(P.inputValue(""),P.labels.push(o.mapping.fromJS({name:e,pinned:!1})),N.ensureClosed()))}}function S(){var e=P.inputValue(),t=c.clean(e);P.inputValue(t)}function E(){P.menuOpen(!0)}function _(e){P.menuOpen(!1),"doneButtonClicked"===e.type&&k()}function M(){var e=B.find(".taskLabelInput-contentWrapper").width(),t=B.find(".taskLabelInput-input").width(),n=a("<div/>").css({position:"absolute",visibility:"hidden",display:"block","white-space":"nowrap"});a("body").append(n);var i=0,o=e-i,r=o>0,s=[],l=P.labels().every(function(t){return n.append(function(e){return a("<div/>").attr({class:"taskLabelInput-label"+(e.pinned()?" taskLabelInput-pinned":"")}).text(e.name())}(t)),i=n.outerWidth(),o=e-i,(r=o>0)?s.push({name:t.name(),pinned:t.pinned()}):s.pop(),r});return n.remove(),P.hasHiddenLabels(!l),P.inputFit(o>=t),s}function R(){setTimeout(function(){F.updatePosition()},0)}var O=!!e.disableMultiLine,A=!!e.enablePinning,N=s({taskLabelRepository:e.taskLabelRepository,positionAbove:e.positionAutoCompleteAbove}),F=e.taskLabelMenuDialog||l({taskLabelRepository:e.taskLabelRepository,positionAbove:e.positionMenuAbove}),L=u.createStandalone(["changed","focused","blurred"]),P=void 0,B=void 0,V=void 0;return{on:L.on,off:L.off,initForElement:function(e){if(B)throw Error("Already initialized.");B=a(e),function(){var e=B.attr("data-bind");e=(e?e+", ":"")+"stopBindingBelow: true",B.attr("data-bind",e);var t=d({uniqueId:i("taskLabelInput-"),disableMultiLine:O,labelMaxLength:m});B.html(t),V=B.children(".taskLabelInput")}(),(P=o.mapping.fromJS({isSingleLine:O,isReadOnly:!1,inputFocus:!1,autoCompleteOpen:!1,menuOpen:!1,inputValue:"",invalidToAdd:!1,labels:[],hasHiddenLabels:!1,inputFit:!1,expanded:!1,wrapperFocus:!1,inputPlaceholder:"Add labels..."})).wrapperTabindex=o.computed(function(){return P.isSingleLine()&&!P.inputFocus()?"0":null}),P.isSortable=o.computed(function(){return!P.isReadOnly()}),P.focus=o.computed(function(){return P.inputFocus()||P.expanded()||P.autoCompleteOpen()||P.menuOpen()}),P.inputVisible=o.computed(function(){return!P.isReadOnly()&&(!P.isSingleLine()||P.expanded()||P.inputFit())}),Object.assign(P,{inputKeyPressed:w,inputKeyDown:I,inputPaste:y,labelClicked:T,menuClicked:b,wrapperClicked:n}),P.labelsToExport=o.computed(function(){return P.labels().map(function(e){return{name:e.name(),pinned:e.pinned()}})}),P.labelsToExport.subscribe(function(e){L.trigger("changed",{type:"changed",labels:e}),R()}),P.collapsedLabels=o.computed(M),P.focus.subscribe(function(e){e?(L.trigger("focused",{type:"focused"}),R()):L.trigger("blurred",{type:"blurred"})}),P.wrapperFocus.subscribe(function(e){e&&(g(),k())}),P.expanded.subscribe(function(e){a(document).off(".taskLabelInput-expanded"),e&&a(document).on("click.taskLabelInput-expanded",function(e){var t=a(e.target),n=t.closest(".taskLabelInput").length>0,i=t.closest(".ui-autocomplete").length>0,o=t.closest(".context-menu-root").length>0;!(n||i||o)&&P.expanded(!1)})}),o.applyBindings(P,V[0]),function(){var e=V.find(".taskLabelInput-input"),t=N;t.initForElement(e[0]),t.on("labelSelected",D),t.on("opened",function(){P.autoCompleteOpen(!0)}),t.on("closed",function(){P.autoCompleteOpen(!1)}),t.setItemFilter(function(e){return P.labels().every(function(t){return t.name()!==e})})}(),a.contextMenu({selector:"#"+V.attr("id")+" .taskLabelInput-label",zIndex:0,events:{show:function(){return!P.isReadOnly()}},build:function(e){var t=e.index(),n=P.labels()[t],a={items:{}};return A&&(n.pinned()?a.items.unpin={name:"Unpin",icon:"taskLabelUnpin",callback:function(){n.pinned(!1)}}:a.items.pin={name:"Pin",icon:"taskLabelPin",callback:function(){n.pinned(!0)}}),a.items.remove={name:"Delete",icon:"taskLabelDelete",callback:function(){P.labels.splice(t,1)}},a}}),F.on("open",E),F.on("close",_),F.on("labelAdded",C),F.on("labelRemoved",x)},setLabels:t,reset:function(){t([]),P.inputValue("").inputFocus(!1).autoCompleteOpen(!1).invalidToAdd(!1)},setReadOnly:function(e){P.isReadOnly(!!e)},getUncommitedValue:function(){return P.inputValue()},tryAddUncommitedLabel:D,setFocus:function(e){P.inputFocus(e)},_getModel:function(){return P}}}},"33jGYQ+kO/":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("+K0gboT8ug"),n("2ZfDWAhX6F"),!1,null,null,null);e.exports=a.exports},"33vLZR6JHW":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function i(e){setTimeout(function(){throw e})}function o(e){var t=1===e.length?"":"s";c.alert("There was an error while uploading the file"+t)}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n("SJI6FcOvAZ").createNamespacedHelpers("files"),l=s.mapState,u=s.mapActions,c=n("NKFQkhZ/hO"),d=n("KlbSyjR5mY"),m=n("lJ8hpUa00E");n("natLtIr/Gc");var p=void 0,f=void 0,h=void 0,v=void 0,k=void 0,g=void 0;e.exports={props:["position"],computed:r({},l(["dropboxAppKey","googleApiClientId","boxClientId","attachmentsUploading"])),methods:r({},u(["uploadFiles","saveFiles"]),{close:function(){this.$emit("close")},uploadClick:function(){this.attachmentsUploading?c.alert("Upload already in progress. Please wait for it to finish."):this.$refs.fileUpload.click()},dropboxClick:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dropboxAssetPromise;case 2:Dropbox.choose({multiselect:!0,success:function(e){t.saveFilesForType(e,"dropbox")}});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),googleDriveClick:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.googleAuthPromise;case 2:g?this.showGoogleDrivePicker():gapi.auth.authorize({client_id:this.googleApiClientId,scope:["https://www.googleapis.com/auth/drive.readonly"],immediate:!1},function(e){e&&!e.error&&(g=e.access_token,t.showGoogleDrivePicker())});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),boxClick:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v;case 2:k?k.closePopup():(k=new BoxSelect({clientId:this.boxClientId,linkType:"shared",multiselect:!0})).success(function(e){t.saveFilesForType(e,"box")}),k.launchPopup();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showGoogleDrivePicker:function(){var e=a(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h;case 2:(t=(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCS).addView(new google.picker.DocsView(google.picker.ViewId.DOCS).setEnableTeamDrives(!0)).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).setOAuthToken(g).setCallback(function(e){if(e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var t=e[google.picker.Response.DOCUMENTS];n.saveFilesForType(t,"googleDrive")}}).build()).setVisible(!0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveFilesForType:function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$emit("close"),e.prev=1,e.next=4,this.saveFiles({files:t,attachmentType:n});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),i(e.t0),o(t);case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}(),fileUploadChange:function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$emit("close"),n=t.target.files,a=m(n),r=a.valid,s=a.message,r){e.next=6;break}return c.alert(s),e.abrupt("return");case 6:return e.prev=6,e.next=9,this.uploadFiles({files:n});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),i(e.t0),o(n);case 15:case"end":return e.stop()}},e,this,[[6,11]])}));return function(t){return e.apply(this,arguments)}}()}),mounted:function(){p=d.dropbox(this.dropboxAppKey),f=d.googleAuth(),h=d.googlePicker(),v=d.box()}}},"35TLn5Mz3n":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("y1UYZh3awB"),n("tHoFfra/bN"),!1,null,null,null);e.exports=a.exports},"36s86rKoBA":function(e,t,n){"use strict";n("natLtIr/Gc"),e.exports={props:["isPopover","headerTitle"]}},"37f966GnSA":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("06DjhYJ9Ox"),o=n("TS0ILVVaKW"),r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s=[];o.bindingHandlers.autosizeInputWidth={init:function(e){o.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=i(s,function(t){return t.inputElement===e}),n=s[t];t>=0&&(n.$mirror&&n.$mirror.remove(),s.splice(t,1))}),a(e).on("change keydown keyup paste",function(){!function(e){var t=a(e),n=s.find(function(t){return t.inputElement===e});n?clearTimeout(n.timeoutId):(n={inputElement:e},s.push(n)),n.timeoutId=setTimeout(function(){var e=t.val();if(e){var i=void 0;n.$mirror?i=n.$mirror:(i=a('<span style="position:absolute; top:-999px; left:0; white-space:pre; visibility:hidden;"/>'),r.forEach(function(e){i.css(e,t.css(e))}),a("body").append(i),setTimeout(function(){n.$mirror&&(n.$mirror.remove(),delete n.$mirror)},5e3),n.$mirror=i),i.text(e);var o=i.width()+15;t.css("width",o+"px")}else t.css("width","")},30)}(e)})}}},"3Q8vlszyms":function(e,t,n){var a=n("Gsi0AaklkF"),i=n("E1jMEKQhS0");e.exports=function(e,t){return null!=e&&i(e,t,a)}},"3T5QVV5VuR":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addTaskDialog-wrapper appendWrapper",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.wrapperClick(t)}}},[e.saving?n("div",{staticClass:"addTaskDialog-clickOverlay"}):e._e(),e._v(" "),n("div",{class:e.dialogClasses},[n("button",{staticClass:"addTaskDialog-close",on:{click:e.tryClose}}),e._v(" "),n("div",{staticClass:"addTaskDialog-properties"},[n("div",{staticClass:"addTaskDialog-formRow addTaskDialog-nameWrapper"},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.nameValue,expression:"nameValue",modifiers:{trim:!0}},{name:"autosize",rawName:"v-autosize"},{name:"block-characters",rawName:"v-block-characters",value:"\n\r\t",expression:"'\\n\\r\\t'"}],ref:"nameInput",staticClass:"addTaskDialog-name taskDetails-editNameInput taskDetails-editInput taskDetails-editInput--inline",attrs:{placeholder:"Task name..."},domProps:{value:e.nameValue},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.saveAndClose(t)):null},input:function(t){t.target.composing||(e.nameValue=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",{staticClass:"addTaskDialog-formRow"},[n("div",{staticClass:"addTaskDialog-iconWrapper"},[n("div",{class:"addTaskDialog-colorIcon addTaskDialog-colorIcon--"+e.colorValue,on:{click:e.colorClick}})]),e._v(" "),n("div",{staticClass:"taskDetails-editSelectWrapper taskDetails-editSelectWrapper--stretch"},[n("button",{ref:"colorSelect",staticClass:"addTaskDialog-color taskDetails-editSelect",on:{click:e.colorClick,keydown:e.colorSelectKeydown}},[e._v("\n                        "+e._s(e.colorName)+"\n                    ")]),e._v(" "),e.colorSelectMenuVisible?n("color-select",{attrs:{canEdit:e.canEditColors,options:e.colorItems,selectedValue:e.colorValue,position:e.getColorSelectMenuPosition(),width:e.colorSelectMenuWidth},on:{hide:e.onColorSelectMenuHide,rename:e.onColorRename,select:e.onColorSelect,move:e.onColorMove}}):e._e()],1)]),e._v(" "),n("div",{staticClass:"addTaskDialog-iconButtons"},[n("button",{ref:"membersButton",staticClass:"addTaskDialog-iconButton",attrs:{title:e.editMembersTitle},on:{click:e.editMembersClick,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void e.editMembersKeydownEnter(t):null},function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void e.editMembersKeydownEnter(t):null}]}},[n("i",{staticClass:"addTaskDialog-editMembers icons-members addTaskDialog-icon icons-gray"}),e._v("\n                    Members\n                ")]),e._v(" "),n("button",{ref:"labelsButton",staticClass:"addTaskDialog-iconButton",attrs:{title:e.editLabelsTitle,"t-id":"addTaskDialog-editLabels"},on:{click:e.editLabelsClick,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void e.editLabelsKeydownEnter(t):null},function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void e.editLabelsKeydownEnter(t):null}]}},[n("i",{staticClass:"icons-task-labels addTaskDialog-icon"}),e._v("\n                    Labels\n                ")]),e._v(" "),n("button",{ref:"descriptionButton",staticClass:"addTaskDialog-iconButton addTaskDialog-descriptionButton",attrs:{title:e.editDescriptionTitle},on:{click:e.editDescriptionClick,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.editDescription(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.editDescription(t)):null}]}},[n("i",{staticClass:"icons-task-description addTaskDialog-icon icons-gray"}),e._v("\n                    Description\n                ")]),e._v(" "),n("button",{ref:"more",staticClass:"addTaskDialog-iconButton",on:{click:e.moreClick,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void e.moreKeydownEnter(t):null},function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void e.moreKeydownEnter(t):null}]}},[n("i",{staticClass:"addTaskDialog-moreIcon icons-more-horizontal addTaskDialog-icon"}),e._v("\n                    More\n                ")]),e._v(" "),e.moreMenuVisible?n("kf-menu",{attrs:{position:e.getPositionRelativeToMore()},on:{close:e.moreMenuClose}},[n("item",{attrs:{text:"Add due date",iconClass:"icons-task-dueDates addTaskDialog-menuIcon"},on:{click:e.addDueDateClick}}),e._v(" "),"points"===e.estimationType?n("item",{attrs:{text:"Add points estimate",iconClass:"icons-task-timer addTaskDialog-menuIcon"},on:{click:e.addPointsEstimateClick}}):n("item",{attrs:{text:"Add time estimate",iconClass:"icons-task-timer addTaskDialog-menuIcon"},on:{click:e.addTimeEstimateClick}}),e._v(" "),n("item",{attrs:{text:"Add other info",iconClass:"addTaskDialog-menuHelp addTaskDialog-helpIcon addTaskDialog-menuIcon"},on:{click:e.showHelpText}})],1):e._e(),e._v(" "),e.addTimeEstimateVisible?n("edit-time-estimate",{attrs:{position:e.getPositionRelativeToMore()},on:{done:e.updateTimeEstimate,delete:e.deleteTimeEstimate,close:e.hideAddTimeEstimate}}):e._e(),e._v(" "),e.addPointsEstimateVisible?n("edit-points-estimate",{attrs:{position:e.getPositionRelativeToMore()},on:{done:e.updatePointsEstimate,close:e.hideAddPointsEstimate}}):e._e(),e._v(" "),e.addDueDateVisible?n("edit-due-date",{attrs:{position:e.getPositionRelativeToMore()},on:{done:e.addDueDateDone,close:e.addDueDateClose}}):e._e(),e._v(" "),e.helpTextVisible?n("popover-dialog",{attrs:{position:e.getPositionRelativeToMore(),title:"Add other information",elementClass:"addTaskDialog-helpDialog"},on:{closed:e.helpTextDialogClose}},[n("div",{staticStyle:{"font-size":"14px"}},[n("strong",[e._v("Subtasks")]),e._v(", "),n("strong",[e._v("comments")]),e._v(" and other information\n                        can be added by opening the details view for the task.\n                    ")])]):e._e()],1),e._v(" "),e.hasFlowingProperties?n("div",{staticClass:"addTaskDialog-optionalProperties"},[e.membersVisible?n("div",{staticClass:"addTaskDialog-optionalProperty"},[n("label",{staticClass:"addTaskDialog-editLabel"},[e._v("Members")]),e._v(" "),n("member-list",{staticClass:"addTaskDialog-propertyValue"})],1):e._e(),e._v(" "),e.labelsVisible?n("div",{staticClass:"addTaskDialog-optionalProperty"},[n("label",{staticClass:"addTaskDialog-editLabel"},[e._v("Labels")]),e._v(" "),n("label-list",{staticClass:"addTaskDialog-propertyValue"})],1):e._e(),e._v(" "),e.task.totalSecondsEstimate?n("div",{staticClass:"addTaskDialog-optionalProperty"},[n("label",{staticClass:"addTaskDialog-editLabel"},[e._v("Time estimate")]),e._v(" "),n("time-estimate",{ref:"estimate",staticClass:"addTaskDialog-propertyValue"})],1):e._e(),e._v(" "),e.task.pointsEstimate?n("div",{staticClass:"addTaskDialog-optionalProperty"},[n("label",{staticClass:"addTaskDialog-editLabel"},[e._v("Estimate")]),e._v(" "),n("points-estimate",{ref:"estimate",staticClass:"addTaskDialog-propertyValue"})],1):e._e(),e._v(" "),e.dueDates.length?n("div",{staticClass:"addTaskDialog-optionalProperty"},[n("label",{staticClass:"addTaskDialog-editLabel"},[e._v("Due date")]),e._v(" "),n("due-date-list",{staticClass:"addTaskDialog-dueDates addTaskDialog-propertyValue"})],1):e._e()]):e._e(),e._v(" "),e.descriptionVisible?n("div",{staticClass:"addTaskDialog-descriptionSection"},[n("label",{staticClass:"addTaskDialog-editLabel"},[e._v("Description")]),e._v(" "),e.descriptionVisible?n("text-editor",{staticClass:"taskDetails-descriptionEditor",attrs:{focus:e.descriptionFocus,allowEmpty:!0,value:e.task.description||"",renderHtml:e.renderDescriptionHtml,showActionButtons:!1,autoHide:!1,placeholder:"Add description...",inputClass:"taskDetails-editDescriptionInput"},on:{input:e.setTaskDescription,blur:e.onDescriptionBlur}}):e._e()],1):e._e()]),e._v(" "),n("div",{staticClass:"addTaskDialog-footer"},[n("div",{staticClass:"addTaskDialog-buttonWrapper"},[n("button",{staticClass:"addTaskDialog-button button",staticStyle:{width:"140px"},attrs:{id:"addTaskDialog-saveAndAddMore",disabled:e.saving},on:{click:e.saveAndAddMore}},[e._v("\n                    "+e._s(e.saveAndAddMoreText)+"\n                ")]),e._v(" "),n("span",{staticClass:"addTaskDialog-shortcutHint"},[e._v("Ctrl + Shift + Enter")])]),e._v(" "),n("div",{staticClass:"addTaskDialog-buttonWrapper"},[n("button",{staticClass:"addTaskDialog-button button",staticStyle:{width:"160px"},attrs:{disabled:e.saving},on:{click:e.saveAndOpenDetails}},[e._v("\n                    "+e._s(e.saveAndOpenDetailsText)+"\n                ")]),e._v(" "),n("span",{staticClass:"addTaskDialog-shortcutHint"},[e._v("Shift + Enter")])]),e._v(" "),n("div",{staticClass:"addTaskDialog-buttonWrapper"},[n("button",{staticClass:"addTaskDialog-button button",staticStyle:{width:"115px"},attrs:{disabled:e.saving},on:{click:e.saveAndClose}},[e._v("\n                    "+e._s(e.saveAndCloseText)+"\n                ")]),e._v(" "),n("span",{staticClass:"addTaskDialog-shortcutHint"},[e._v("Ctrl + Enter")])])])])])},staticRenderFns:[]}},"3a8WRQu0Li":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("lRwfdXqfkY"),o=n("rEK1kr4M5E"),r=n("50u+wdY68T"),s=n("/0lPXI0LsK"),l=window;e.exports=function(){function e(){f.$destroy()}var t=function(){var t=a(regeneratorRuntime.mark(function t(o){var l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p=o.boardId,l=o.columns,(f=new i({render:function(e){return e(s,{props:{isPopover:d,boardId:p,boardName:o.boardName,swimlane:o.swimlane,columns:l,initialTaskLimits:function(e,t){return e.map(function(e){var n=e.columnId,a=e.value;return{columnName:t.find(function(e){return e.uniqueId===n}).name,columnId:n,value:a}})}(o.taskLimits,l)},on:{saveSwimlane:this.saveSwimlane,cancelEditSwimlane:this.cancelEditSwimlane}})},methods:{saveSwimlane:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.showLoading(),e.next=3,n(t);case 3:r.hideLoading(),d?m.location.reload():c.redirectToPath("/administration/board/"+p+"/swimlanes");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),cancelEditSwimlane:function(){d?e():c.redirectToPath("/administration/board/"+p+"/swimlanes")}}})).$mount(),t.abrupt("return",f.$el);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uniqueId||"null",e.next=3,o.jsonPost({url:"/administration/board/"+p+"/swimlanes/"+n+"/update",data:t});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=u.router,d=u.isPopover,m=u.window||l,p=void 0,f=void 0;return{render:t,destroy:e,getData:function(e){var t=e.boardId,n=e.swimlaneId;return o.get("/administration/board/"+t+"/swimlanes/"+n)}}}},"3ga/HyXKa2":function(e,t,n){"use strict";function a(e){return[",",";","\t"].forEach(function(t){var n=e.indexOf(t);n>=0&&(e=e.substring(0,n))}),e}e.exports={clean:a,cleanAndTrim:function(e){return a(e).trim()}}},"3pnaQtvm0l":function(e,t,n){"use strict";function a(e){var t=e.totalCount,n=e.hasMore,a=e.isFilterActive,i=e.filterCount,o=e.totalOverdueCount,r=e.taskLimit,s=[];r&&t>r&&s.push("*LIMIT EXCEEDED*");var l=o>0;if(a&&s.push("Filtered tasks: "+i),l&&s.push("Overdue tasks: "+o),a||l)s.push("Total tasks: "+t);else{var u="Task count: "+t;n&&(u+="+"),s.push(u)}return r&&s.push("Task limit: "+r),s.join("\n")}e.exports={getCountAndLimitText:function(e){var t=e.totalCount,n=e.isFilterActive,a=e.filterCount,i=e.taskLimit;return n?a:t+" / "+i},getCountAndLimitTitle:function(e){return a({totalCount:e.totalCount,hasMore:e.hasMore,isFilterActive:e.isFilterActive,filterCount:e.filterCount,taskLimit:e.taskLimit})},getCollapsedCountTitle:function(e){return a({totalCount:e.totalCount,hasMore:e.hasMore,isFilterActive:e.isFilterActive,filterCount:e.filterCount,totalOverdueCount:e.totalOverdueCount,taskLimit:e.taskLimit})+"\n\nClick to expand"}}},"3til+no9ro":function(e,t,n){var a=n("pK4YXlGLpL"),i=n("OuyBMWWFiO"),o=Object.prototype,r=o.hasOwnProperty,s=o.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return i(e)&&r.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},"3w4yJBMT7d":function(e,t,n){function a(e){if("string"==typeof e)return e;if(r(e))return o(e,a)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var i=n("wppep/zJLa"),o=n("BblMhK+GyB"),r=n("p/0cqC9K/5"),s=n("bgO78Ra6Le"),l=1/0,u=i?i.prototype:void 0,c=u?u.toString:void 0;e.exports=a},"3yz/kx2JkK":function(e,t,n){"use strict";function a(e){return e<10?"0"+e:e}n("lRwfdXqfkY").component("duration-input",{props:{value:{default:0,required:!0},showUnits:{type:Boolean,default:!0},showSeconds:{type:Boolean,default:!1},alwaysShowMinutes:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1}},data:function(){return{editText:this.getFormattedValueFromSeconds(this.value)}},watch:{value:function(){var e=this.getFormattedValueFromSeconds(this.value),t=this.$el===document.activeElement;e&&!t&&(this.editText=e)},editText:function(){this.$el.value!==this.editText&&(this.$el.value=this.editText)}},render:function(e){return e("input",{domProps:{value:this.editText,readonly:this.readOnly,type:"text"},on:{input:this.input,focus:this.focus,blur:this.blur,keydown:this.keydown},class:"timeInput"})},methods:{input:function(e){this.editText=e.target.value;var t=this.getTotalSecondsFromRawTextOrNull(this.editText);this.$emit("update",t)},keydown:function(e){13!==e.keyCode||function(e){return e.ctrlKey||e.shiftKey||e.metaKey||e.altKey}(e)||this.$emit("enter")},focus:function(){this.readOnly||0===this.value&&(this.editText="")},blur:function(){var e=this.getFormattedValueFromSeconds(this.value);e&&(this.editText=e)},getTotalSecondsFromRawTextOrNull:function(e){var t=function(e){if(null===e||void 0===e)return null;if(""===(e=e.trim()))return 0;"."===e[0]&&(e="0"+e);var t=e.match(/\d+/g);if(!t)return null;if(t.length>3)return null;var n=e.match(/[A-z]+/g),a=e.match(/\d+\s*(hours?|h)/i);a&&(a=a[1]);var i=e.match(/\d+\s*(minutes?|min|m)/i);i&&(i=i[1]);var o=e.match(/\d+\s*(seconds?|sec|s)/i);if(o&&(o=o[1]),n&&!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.every(function(e){return n.includes(e)})}(n,a,i,o))return null;if(1===t.length&&!a){var r=t[0];i?(t[0]="0",t[1]=r):o?(t[0]="0",t[1]="0",t[2]=r):3===r.length?(t[0]=r[0],t[1]=r.substr(1)):4===r.length?(t[0]=r.substr(0,2),t[1]=r.substr(2)):r.length>=5&&(t[0]=r.substr(0,2),t[1]=r.substr(2,2),t[2]=r.substr(4))}if(i&&o&&!a&&(t[2]=t[1],t[1]=t[0],t[0]=0),i&&!a&&!o){var s=e.indexOf("m"),l=e.indexOf(t[0])+t[0].length,u=l===s,c=e.length>l+i.length;if(u&&c){var d=t[0],m=t[1];t[0]="0",t[1]=d,t[2]=m}}a&&o&&!i&&(t[2]=t[1],t[1]=0);var p=t.map(function(e){return parseInt(e,10)}),f=p[0]||0,h=p[1]||0,v=p[2]||0;return/\./.test(e)&&(h=60*parseFloat("0."+h)),3600*f+60*h+v}(e);return t&&!this.showSeconds&&(t-=t%3600%60),t},getFormattedValueFromSeconds:function(e){return null===e||void 0===e?null:function(e,t){return function(e){var t=e.hours,n=e.minutes,i=e.seconds,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t,s=n,l=i;if(!o.showUnits){var u=a(r)+":"+a(s);return o.showSeconds&&(u+=":"+a(l)),u}if(r+="h",s+="m",l+="s",o.alwaysShowMinutes){var c=r+" "+s;return o.showSeconds&&(c+=" "+l),c}var d=[];return t>0&&d.push(r),t&&n&&d.push(" "),n>0&&d.push(s),o.showSeconds&&i>0&&(t&&!n?d.push(" 0m "):(n||t)&&d.push(" "),d.push(l)),d.join("")||"0h"}({hours:Math.floor(e/3600),minutes:Math.floor(e%3600/60),seconds:e%3600%60},t)}(e,{showUnits:this.showUnits,showSeconds:this.showSeconds,alwaysShowMinutes:this.alwaysShowMinutes})}}})},"4/4oss3DrV":function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},"403dfETBE1":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("hfoBtchUYn"),n("yuOLe7/bMF"),!1,null,null,null);e.exports=a.exports},"41+b++N4lL":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"41P+ol6ovf":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.mapActions,s=i.createNamespacedHelpers("relations"),l=s.mapGetters,u=s.mapActions,c=n("RNfSVdyTQ7"),d=n("utzbvpgxGf");e.exports={data:function(){return{menuRelationId:null}},computed:a({},o(["task","readOnly"]),l(["relationItemGroups"])),methods:a({},r(["close"]),u(["deleteRelation"]),{getTaskPositionText:function(e){var t="";if(e.taskBoardName&&e.taskBoardId!==this.task.boardId&&(t+=e.taskBoardName+", "),t+=e.taskColumnName,e.taskSwimlaneName&&(t+=" / "+e.taskSwimlaneName),e.taskDateFinished){var n=c.parseIsoDateString(e.taskDateFinished);t+=" ("+c.friendlyDateString(n,{friendlyTodayAndYesterday:!0})+")"}return t},getTaskFullName:function(e){var t=e.taskNumberFullText,n=e.taskName;return t?t+": "+n:n},getTaskColorClasses:function(e){return"taskDetails-relationTaskColor taskDetails-relationTaskColor--"+e.taskColor},getMoreIconClasses:function(e){var t=["taskDetails-relationMore taskDetails-moreIcon icons--button icons-more icons-gray"];return e===this.menuRelationId&&t.push("taskDetails-moreIcon--menuOpen"),t},menuIconClick:function(e){this.menuRelationId=e},hideMenu:function(){this.menuRelationId=null},getRelationMenuPosition:function(e){return{my:"right top",at:"right bottom+2px",of:this.$refs["relationMoreButton-"+e][0]}},showAddRelation:function(){this.$emit("showAddRelation",{position:this.getPositionRelativeToAdd()})},getPositionRelativeToAdd:function(){return{my:"left top",at:"left bottom+5px",of:this.$refs.addRelation}}}),components:{"kf-menu":d}}},"49I84NZ+5f":function(e,t,n){function a(e){var t=this.__data__=new i(e);this.size=t.size}var i=n("Xk23d7c+U8"),o=n("4y4DGg+usj"),r=n("TpjKOgR3VJ"),s=n("skbsh2rJvJ"),l=n("9ocJ63fZS/"),u=n("fwYFHR3qR0");a.prototype.clear=o,a.prototype.delete=r,a.prototype.get=s,a.prototype.has=l,a.prototype.set=u,e.exports=a},"4N036f+mEN":function(e,t,n){var a=n("bViCOLaR5Y")(n("MIhMQmxRht"),"WeakMap");e.exports=a},"4PyK1Icykd":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div data-bind="visible: visible, popoverMenu: position, click: menuClicked, hasFocus: focus" tabindex="0" class="popoverMenu stackable"><div class="popoverMenu-arrow"></div>\x3c!-- ko if: $data.title--\x3e<h3 data-bind="text: title" class="popoverMenu-title"></h3>\x3c!-- /ko--\x3e\x3c!-- ko foreach: sections--\x3e\x3c!-- ko foreach: items--\x3e<div data-bind="css: { \'popoverMenu-item-disabled\': itemDisabled($data), selected: $data.itemSelected }, click: itemClicked" class="popoverMenu-item">\x3c!-- ko if: $data.itemIcon--\x3e<i data-bind="attr: { \'class\': \'popoverMenu-itemIcon \' + itemIcon() }"></i>\x3c!-- /ko--\x3e\x3c!-- ko if: $data.itemText--\x3e<span data-bind="text: itemText" class="popoverMenu-itemText"></span>\x3c!-- /ko--\x3e\x3c!-- ko if: $data.itemHtml--\x3e<span data-bind="html: itemHtml" class="popoverMenu-itemHtml"></span>\x3c!-- /ko--\x3e\x3c!-- ko if: "toggle" in $data--\x3e<input type="checkbox" data-bind="checked: toggle" class="popoverMenu-toggle"><div data-bind="css: { \'popoverMenu-toggleChecked\': toggle }" class="popoverMenu-toggleLabel"><div class="popoverMenu-toggleLabel-off">OFF</div><div class="popoverMenu-toggleLabel-on">ON</div></div>\x3c!-- /ko--\x3e</div>\x3c!-- /ko--\x3e\x3c!-- ko if: $index() !== ($parent.sections().length - 1)--\x3e<div class="popoverMenu-divider"></div>\x3c!-- /ko--\x3e\x3c!-- /ko--\x3e</div>'),t.join("")}},"4TwFvc/gMQ":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-property"},[t("label",{staticClass:"taskDetails-propertyLabel"},[this._v("Estimate")]),this._v(" "),t("points-estimate")],1)},staticRenderFns:[]}},"4kpML86yvO":function(e,t,n){"use strict";function a(e,t){var n=t.showing,a=t.whitelist,s=void 0===a?[]:a;return function(t){var a=t.target,l={x:t.pageX,y:t.pageY},u=n(),c=o(l,e)||i(a,e),d=s.some(function(e){return r(e).toArray().some(function(e){return o(l,e)||i(a,e)})});u&&!c&&!d&&n(!1)}}function i(e,t){if(t)return r(t).is(e)||r.contains(t,e)}function o(e,t){var n=e.x,a=e.y,i=r(t),o=i.offset(),s=i.outerWidth(),l=i.outerHeight();o.right=o.left+s,o.bottom=o.top+l;var u=o.left,c=o.right,d=o.top,m=o.bottom;return n>=u&&n<=c&&a>=d&&a<=m}var r=n("0iPhQ5GI5H"),s=n("dALRNNrcBj"),l=n("TS0ILVVaKW");l.bindingHandlers.clickOutsideToClose={init:function(e,t){var n=l.unwrap(t()),i=n.showing,o=r(document),u="click."+s("clickOutsideToClose"),c=i.subscribe(function(t){t?setTimeout(function(){o.on(u,a(e,n))},0):o.off(u)});i()&&setTimeout(function(){i()&&o.on(u,a(e,n))},0),l.utils.domNodeDisposal.addDisposeCallback(e,function(){o.off(u),c.dispose()})}}},"4kxX9GcXDl":function(e,t,n){var a,i,o;i=[t,e],void 0!==(o="function"==typeof(a=function(e,t){"use strict";function n(e){var t=i.get(e);t&&t.destroy()}function a(e){var t=i.get(e);t&&t.update()}var i="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,a){-1===e.indexOf(n)&&(e.push(n),t.push(a))},delete:function(n){var a=e.indexOf(n);a>-1&&(e.splice(a,1),t.splice(a,1))}}}(),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var r=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){function t(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(){var t=e.style.height,n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),a=document.documentElement&&document.documentElement.scrollTop;e.style.height="";var i=e.scrollHeight+r;0!==e.scrollHeight?(e.style.height=i+"px",s=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),a&&(document.documentElement.scrollTop=a)):e.style.height=t}function a(){n();var a=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),r="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(r!==a?"hidden"===i.overflowY&&(t("scroll"),n(),r="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==i.overflowY&&(t("hidden"),n(),r="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==r){l=r;var s=o("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var r=null,s=e.clientWidth,l=null,u=function(){e.clientWidth!==s&&a()},c=function(t){window.removeEventListener("resize",u,!1),e.removeEventListener("input",a,!1),e.removeEventListener("keyup",a,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",a,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",a,!1),window.addEventListener("resize",u,!1),e.addEventListener("input",a,!1),e.addEventListener("autosize:update",a,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:c,update:a}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),a()}()}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e}),t.exports=r})?a.apply(t,i):a)&&(e.exports=o)},"4ozjojDa8l":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n("SJI6FcOvAZ"),s=n("BBRimJTtLK"),l=n("hHlQBZdXtr"),u=n("eDMz2kV05f"),c=n("DYr3LNjvFe"),d=n("6ZJgYc0D1o"),m=n("9mCzW2nVKL"),p=n("7FLwSpu6tV"),f=n("cbOVbjzRZ+"),h=n("+d4TTWMto5"),v=n("Q8mw2gjaKr"),k=n("MWmSSh/6n+"),g=n("ZHsQkwJRX0"),b=n("Bd9AjJ3Q3M"),T=n("QLbyXdnFI6"),y=n("shG5vVCK1/"),I=n("eRPlM76AxR"),w=n("DB/+IDOs02"),x=n("WGmCs9ZXGI"),C=n("8/IhxR7Jzb"),D=n("gL+JUHZP0k");e.exports=function(e){function t(e){return{taskId:e._id,boardId:e.boardId,name:e.name,number:l(e.number),description:e.description,columnId:e.columnId,swimlaneId:e.swimlaneId,dateFinished:e.dateFinished,color:e.color,hasComments:e.hasComments,hasAttachments:e.hasAttachments,hasRelations:e.hasRelations,subTasks:e.subTasks.map(n),labels:l(e.labels),totalSecondsSpent:e.totalSecondsSpent||0,totalSecondsEstimate:e.totalSecondsEstimate||0,pointsEstimate:e.pointsEstimate||0,dates:l(e.dates),members:function(e){var t=[];e.responsibleUserId&&t.push({userId:e.responsibleUserId,role:"Responsible"});var n=l(e.members),i=n.find(function(e){return"Responsible"===e.role});return i&&(n=n.filter(function(e){return e!==i}),t.push(i)),t.push.apply(t,a(e.collaborators.map(function(e){return{userId:e.userId}}))),t.push.apply(t,a(n)),t}(e)}}function n(e){return{name:e.name,finished:!!e.finished}}var S=function(){var e=i(regeneratorRuntime.mark(function e(t,n){var a,i,r,u=t.state;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=A.getTaskById(u.task.taskId),i=o({},a,l(n)),r=C.getMergeData({originalTask:a,changedTask:i}),s(r)){e.next=6;break}return e.next=6,A.mergeTask({taskId:a._id,taskData:r,masterEvent:"taskSavedFromTaskDialog"});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=i(regeneratorRuntime.mark(function e(t){var n=t.state;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.deleteTaskById({taskId:n.task.taskId,masterEvent:"taskDeletedFromTaskDialog",suppressGlobalErrorHandler:!0});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),_=e.task,M=e.userId,R=e.boardId,O=e.boardName,A=e.taskRepository,N=e.boardColorRepository,F=e.userPermissionService,L=e.singleTaskResourceRepositoryFactory,P=e.userRepository,B=e.timeEntryRepository,V=e.manualTimeEntryRepository,H=e.workEntryRepository,U=e.pendingBoardInvitationRepository,W=e.pendingOrganizationInvitationRepository,j=e.editTimeEntryDialog,K=e.userAvatarHelper,G=e.isPremium,z=e.estimationType,Y=e.boardColumnRepository,$=e.defaultDueDateTime,q=e.taskMembersDialog,Q=e.taskMemberProfileDialog,J=e.taskLabelsDialog,Z=e.moveTaskController,X=e.copyTaskDialog,ee=e.eventHistoryRepository,te=e.eventProperties,ne=e.taskLinkDialog,ae=e.printTaskDialog,ie=e.swimlanes,oe=e.sortOrderGenerator,re=e.taskAttachmentRepository,se=e.dropboxAppKey,le=e.googleApiClientId,ue=e.boxClientId,ce=e.timerStateController,de=e.subTasksPersistDebounceTime,me=e.workTimerDialog,pe=e.userBoardSettingsRepository,fe=e.closeTaskDetails,he=e.onboardingFacade,ve=e.subTaskListTemplateAjaxFacade,ke=e.maxSubTaskCount,ge=e.keyboardShortcutsDialog,be=e.boardSearcher,Te=e.taskRelationAjaxFacade,ye=void 0,Ie=void 0,we=void 0,xe=void 0,Ce=void 0,De={home:u({boardColumnRepository:Y,moveTaskController:Z,copyTaskDialog:X,swimlanes:ie,isPremium:G}),color:c({boardColorRepository:N,userPermissionService:F}),subTasks:d({subTasksPersistDebounceTime:de,subTaskListTemplateAjaxFacade:ve,maxSubTaskCount:ke}),timeLog:m({userId:M,boardId:R,boardName:O,userRepository:P,taskRepository:A,timeEntryRepository:B,manualTimeEntryRepository:V,workEntryRepository:H,editTimeEntryDialog:j,userAvatarHelper:K}),labels:v({taskRepository:A,taskLabelsDialog:J}),comments:k({userId:M,userAvatarHelper:K,swimlanes:ie,userPermissionService:F,singleTaskResourceRepositoryFactory:L,userRepository:P}),dueDates:g({boardColumnRepository:Y,defaultDueDateTime:$}),members:b({userAvatarHelper:K,taskMembersDialog:q,taskMemberProfileDialog:Q,timerStateController:ce,pendingBoardInvitationRepository:U,pendingOrganizationInvitationRepository:W}),timeEstimate:T(),pointsEstimate:y(),manualTimeEntry:I(),timer:w({workTimerDialog:me,userBoardSettingsRepository:pe})};return G?Object.assign(De,{history:p({eventHistoryRepository:ee,eventProperties:te}),files:f({boardId:R,sortOrderGenerator:oe,taskAttachmentRepository:re,dropboxAppKey:se,googleApiClientId:le,boxClientId:ue}),relations:h({boardId:R,singleTaskResourceRepositoryFactory:L,taskRelationAjaxFacade:Te,boardSearcher:be,userBoardSettingsRepository:pe})}):Object.assign(De,{history:{namespaced:!0},relations:{namespaced:!0},files:{namespaced:!0}}),new r.Store({state:{view:"home",task:t(_),readOnly:!F.canEditTasks(),isPremium:G,estimationType:z,onboardingVisible:he.isRemaining("taskDetails"),users:l(P.getAllOrderedByFullName()),now:Date.now()},getters:{isPageReloadOkay:function(e,t){return!(t["home/hasUnsavedName"]||t["home/hasUnsavedDescription"]||t["comments/hasUnsavedComment"]||t["subTasks/hasUnsavedSubTask"])}},mutations:{MERGE_TASK:function(e,t){Object.assign(e.task,t)},SET_TASK:function(e,t){e.task=t},SHOW_TIMELOG:function(e){e.view="time-log"},SHOW_HISTORY:function(e){e.view="history"},SHOW_HOME:function(e){e.view="home"},SET_ONBOARDING_VISIBLE:function(e,t){e.onboardingVisible=t},SET_USERS:function(e,t){e.users=t},SET_NOW:function(e,t){e.now=t}},actions:{init:function(e){var t=e.state,n=e.getters,a=e.dispatch;ye=function(e){var n=e.taskId;t.task.taskId===n&&a("handleTaskRepositoryMerge")},Ie=function(e){var n=e.taskId;t.task.taskId===n&&fe()},A.on("localMerge preMerge",ye),A.on("localDelete preDelete",Ie),we=function(){a("refreshUsers")},P.on("localAdd localDelete",we),a("initNowUpdater"),Ce=function(){if(!n.isPageReloadOkay)return"You have unsaved task changes. Please save them before leaving the page."},x.addUnloadCheck(Ce),Object.keys(De).forEach(function(e){var t=De[e];t.actions&&t.actions.init&&a(e+"/init")})},destroy:function(e){var t=e.dispatch;A.off("localMerge preMerge",ye),A.off("localDelete preDelete",Ie),P.off("localAdd localDelete",we),clearTimeout(xe),x.removeUnloadCheck(Ce),t("subTasks/onBeforeClose"),Object.keys(De).forEach(function(e){var n=De[e];n.actions&&n.actions.destroy&&t(e+"/destroy")})},show:function(e){e.state,e.commit;var t=e.dispatch;t("members/refreshTimerClients"),t("home/updateSectionVisibility"),t("home/loadAsyncSectionsWithLoadingIndicator")},updateTask:S,deleteTask:E,handleTaskRepositoryMerge:function(e){var n=e.state,a=e.commit,i=e.dispatch,o=t(A.getTaskById(n.task.taskId)),r=D.getDiff({oldObj:n.task,newObj:o});s(r)||(a("MERGE_TASK",r),i("home/updateSectionVisibility"),i("home/loadAsyncSections"))},showTaskUrlDialog:function(e,t){var n=e.state,a=t.position,i=t.positionAboveSelector,o=A.getTaskById(n.task.taskId);ne.showForTask({appendTo:".appendWrapper",task:o,position:a,positionAboveSelector:i})},showPrintDialog:function(e,t){var n=e.state,a=t.positionAbove,i=A.getTaskById(n.task.taskId);ae.open(i,{positionAbove:a})},close:function(){fe()},completeOnboarding:function(e){var t=e.commit;he.complete("taskDetails"),t("SET_ONBOARDING_VISIBLE",!1)},refreshUsers:function(e){(0,e.commit)("SET_USERS",l(P.getAllOrderedByFullName()))},initNowUpdater:function(e){var t=e.commit;!function e(){t("SET_NOW",Date.now());var n=60-(new Date).getSeconds();xe=setTimeout(e,1e3*n)}()},showKeyboardShortcuts:function(){ge.toggleShow({contextName:"Task details"})}},modules:De})}},"4y4DGg+usj":function(e,t,n){var a=n("Xk23d7c+U8");e.exports=function(){this.__data__=new a,this.size=0}},"56vdwrc/u2":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");e.exports=function(e){function t(e){return function(t,n,o){var r=a(this).closest(".task"),s=r.attr("data-taskId"),l=i.getTaskById(s);e({action:t,$task:r,task:l,event:o})}}var n=e.boardColorRepository,i=e.taskRepository;return{createTimerItem:function(e){return{key:"timer",name:"Timer",icon:"selectInTimer",items:[{key:"timerSelect",name:"Select in timer",icon:"selectInTimer",callback:t(function(t){t.action="selectInTimer",e.handler(t)})},{key:"timerStart",name:"Start timer",icon:"selectInTimer",callback:t(function(t){t.action="startTimerForTask",e.handler(t)})}]}},createSetColorItem:function(e){var a=[],i=e.selectedColorValue;return n.getEnabledColors().forEach(function(n){var o=["context-noIndent","taskColor-"+n.value];n.value===i&&o.push("context-bold"),a.push({key:"setColor"+n.value,name:n.showName,className:o.join(" "),callback:t(function(t){t.action="setColor",t.colorValue=n.value,e.handler(t)})})}),{key:"setColor",name:"Color",icon:"taskColor",items:a}}}}},"5CyzkQsNGA":function(e,t,n){var a=n("iS0ZxjVw8a");e.exports=function(e){return e?(e=a(e))===1/0||e===-1/0?1.7976931348623157e308*(e<0?-1:1):e==e?e:0:0===e?e:0}},"5KGII0oTEc":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div data-bind="visible: showNoEntriesExist()" class="workLogDialog-noEntriesExist">No entries exist for the last 14 days</div><div data-bind="visible: !showNoEntriesExist()" class="workLogDialog-scrollWrapper scroll scroll--rounded">\x3c!-- ko foreach: dateGroups--\x3e<div class="workLogDialog-dateGroup dialog-box dialog-box-full"><div class="workLogDialog-dateGroup-header"><h2 data-bind="text: title" class="workLogDialog-dateGroup-title"></h2><span data-bind="text: totalTimeText" class="workLogDialog-dateGroup-totalTime"></span><span data-bind="text: pomodorosText, visible: pomodorosText" class="workLogDialog-dateGroup-pomodoros"></span><span data-bind="text: flowPointsText, visible: flowPointsText" class="workLogDialog-dateGroup-flowPoints"></span></div>\x3c!-- ko foreach: items--\x3e<div data-bind="css: { \'workLogDialog-item-successfulPomodoro\': $root.isSuccessfulPomodoroItem($data), \'workLogDialog-item-failedPomodoro\': $root.isFailedPomodoroItem($data) }" class="workLogDialog-item"><div class="workLogDialog-taskAndDescriptionWrapper"><div data-bind="foreach: taskNames" class="workLogDialog-taskNames"><div data-bind="text: $data" class="workLogDialog-taskName truncate"></div></div><div data-bind="text: description" class="workLogDialog-description"></div></div><div class="workLogDialog-durationWrapper"><span data-bind="text: durationText" class="workLogDialog-duration"></span></div><div class="workLogDialog-timespanWrapper"><span data-bind="text: timespanText" class="workLogDialog-timespan"></span></div><div class="workLogDialog-buttonWrapper"><button data-bind="click: $root.editItemClicked" title="Edit entry" class="workLogDialog-editButton icons-edit"></button><button data-bind="click: $root.deleteItemClicked" title="Delete entry" class="workLogDialog-deleteButton icons-delete"></button></div></div>\x3c!-- /ko--\x3e</div>\x3c!-- /ko--\x3e<div class="workLogDialog-footerMessage"><strong>Note:</strong> Only entries from the last 14 days are shown.\x3c!-- ko if: isPremium--\x3e<span> For more advanced reporting, use&nbsp;<button data-bind="click: timeSpentReportClicked" class="workLogDialog-link">Time spent report</button></span>\x3c!-- /ko--\x3e\x3c!-- ko ifnot: isPremium--\x3e<span> More advanced time reporting is available in&nbsp;<button data-bind="click: premiumClicked" class="workLogDialog-link">Premium</button></span>\x3c!-- /ko--\x3e</div></div>'),t.join("")}},"5SZpnDbLSO":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("33vLZR6JHW"),n("DIGfLZ43Sy"),!1,null,null,null);e.exports=a.exports},"5U5YYakxHR":function(e,t,n){var a=n("yeiRObb3yq");e.exports=function(e,t,n){var i=null==e?void 0:a(e,t);return void 0===i?n:i}},"5cZt+ZS8+Y":function(e,t,n){function a(e,t,n,r,s){var l=-1,u=e.length;for(n||(n=o),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?a(c,t-1,n,r,s):i(s,c):r||(s[s.length]=c)}return s}var i=n("srROM87tjO"),o=n("0Gi7wj4yiH");e.exports=a},"5uxdCD9gGD":function(e,t,n){"use strict";var a=["KB","MB","GB"];e.exports={format:function(e){if(e<50)return"0 KB";var t=-1,n=e;do{n/=1024,t++}while(n>=1024);var i=n>10?0:1;return n.toFixed(i)+" "+a[t]}}},"5whSrxbWCt":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("869I8lWGd9"),n("FRXtt7XDhB"),!1,null,null,null);e.exports=a.exports},"633X2H1oeT":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("name"),e._v(" "),n("highlights"),e._v(" "),n("div",{staticClass:"taskDetails-properties"},[n("color"),e._v(" "),e.membersVisible?n("members"):e._e(),e._v(" "),e.labelsVisible?n("labels"):e._e(),e._v(" "),e.task.totalSecondsSpent>=60?n("time-spent"):e._e(),e._v(" "),e.task.totalSecondsEstimate?n("time-estimate"):e._e(),e._v(" "),e.task.pointsEstimate?n("points-estimate"):e._e(),e._v(" "),e.task.dates.length?n("due-dates"):e._e()],1),e._v(" "),n("description"),e._v(" "),e.subTasksVisible?n("subtasks"):e._e(),e._v(" "),e.isPremium?[e.relationsVisible?n("relations"):e._e(),e._v(" "),e.filesVisible?n("files"):e._e()]:e._e(),e._v(" "),e.commentsVisible?n("comments"):e._e()],2)},staticRenderFns:[]}},"68Edc7t3hC":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("7gqpEfr4/c"),o=n("WbZhUyZtRc");e.exports=function(e){function t(e,t){return a({},e,{index:t,fadeOut:!1})}function n(e){var t=r.getColumnById(e.targetColumnId),n={status:e.status,dueTimestamp:e.dueTimestamp,targetColumnId:e.targetColumnId,targetColumnName:t.name,isOverdue:h.isDateOverdue(e)};if(!e.repeat)return n;n.repeat=e.repeat;var a=r.getAll(),i=o({columns:a,repeat:e.repeat});return n.description=i.getDescriptionText(),n}var r=e.boardColumnRepository,s=e.userPermissionService,l=e.workTimerSession,u=e.workTimerDialog,c=e.boardFilter,d=e.taskSelectionController,m=e.taskAvatarFactory,p=e.forecastPlanningController,f=e.estimationType,h=i({boardColumnRepository:r});return{create:function(e,a){var i=e._id,o="points"===f;return{taskId:i,name:e.name,color:e.color,description:e.description,number:e.number,labels:e.labels,validDates:function(e){var t=r.getAll();return e.dates.filter(function(e){return t.some(function(t){return t.uniqueId===e.targetColumnId})}).map(n)}(e),totalSecondsSpent:e.totalSecondsSpent,totalSecondsAdded:l.getTotalSecondsAddedForTask(i),totalSecondsEstimate:o?0:e.totalSecondsEstimate,pointsEstimate:o?e.pointsEstimate:0,userAvatars:m.createForTask(e),subTasks:e.subTasks.map(t),subTasksReadOnly:!s.canChangeTaskProperties(["subTasks"]),sortOrder:e.sortOrder,hasComments:e.hasComments,hasAttachments:e.hasAttachments,hasRelations:e.hasRelations,descriptionVisible:a.showDescription,allLabelsVisible:a.showLabels,subTasksVisible:a.showSubTasks||a.showUnfinishedSubTasks,showUnfinishedSubTasksDisplaySettingEnabled:a.showUnfinishedSubTasks,onlyUnfinishedSubTasksVisible:a.showUnfinishedSubTasks,maxSubTasksToShow:a.maxSubTasksToShow,dueDateDisplayMode:a.dueDateDisplayMode,dueDatesVisibilityMode:0,isHiddenByFilter:c.isTaskHiddenByFilter(e),selected:d.isTaskSelected(i),selectedByTimer:function(e){var t=u.isShowing()||u.isTaskRunning();return!!u.isTaskSelected(e)&&!!t}(i),forecast:function(e){return p&&p.isInPlanningMode()?p.getForecastModelForTask(e):null}(e)}},setForecastPlanningController:function(e){p=e}}}},"6Gs9Sfe3CX":function(e,t,n){"use strict";var a=n("hHlQBZdXtr");e.exports={toMembers:function(e){var t=e.collaborators,n=void 0===t?[]:t,a=e.responsibleUserId,i=void 0===a?null:a,o=e.members,r=void 0===o?[]:o,s=n.map(function(e){return{userId:e.userId}});return i&&s.push({userId:i,role:"Responsible"}),s.push.apply(s,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)),s},fromMembers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},n=e.filter(function(e){return e.userId}),i=n.find(function(e){return"Responsible"===e.role});i?t.responsibleUserId=i.userId:i||(t.responsibleUserId=null);var o=n.filter(function(e){return"Responsible"!==e.role}).map(function(e){return{userId:e.userId}});t.collaborators=o;var r=e.filter(function(e){return e.boardInvitationId||e.organizationInvitationId}).map(function(e){return a(e)});return t.members=r,t}}},"6LoNwDpxCS":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isPopover?n("popover-dialog",{attrs:{elementClass:"adminDialog",showHeader:!0,dimOverlay:!0,clickOutsideToClose:!1,title:e.headerTitle,scrollWrapper:!0}},[n("div",{staticClass:"adminBox adminBox-noMenu"},[e._t("default")],2)]):n("div",{staticClass:"adminBox adminBox-noMenu"},[n("header",{staticClass:"adminBox-header"},[n("h1",{staticClass:"adminBox-title"},[e._v(e._s(e.headerTitle))])]),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},"6M3wtgGDVV":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-relationBoardView"},[e._l(e.boards,function(t){return n("div",{ref:"board-"+t.boardId,refInFor:!0,staticClass:"relationBoardView-board"},[n("div",{staticClass:"relationBoardView-boardHeader"},[n("div",{staticClass:"relationBoardView-boardName"},[e._v("\n                "+e._s(t.name)+"\n            ")]),e._v(" "),e.readOnly?e._e():n("button",{ref:"addRelationForBoard",refInFor:!0,staticClass:"taskDetails-addRelation button",on:{click:function(n){e.showAddRelationForBoard(t)}}},[e._v("\n                Add relation\n            ")])]),e._v(" "),n("div",{staticClass:"relationBoardView-swimlanes scroll"},e._l(t.swimlanes,function(a){return n("div",{staticClass:"relationBoardView-swimlane"},[a.name?n("div",{staticClass:"relationBoardView-swimlaneName"},[e._v(e._s(a.name))]):e._e(),e._v(" "),n("div",{staticClass:"relationBoardView-columns"},e._l(t.columns,function(i){return n("div",{staticClass:"relationBoardView-column"},[n("div",{staticClass:"relationBoardView-columnName truncate"},[e._v(e._s(i.name))]),e._v(" "),e._l(e.getRelationModelsForCell(t.boardId,a.index,i.index),function(t){return n("div",{ref:e.getRelationModelRefKey(t),refInFor:!0,class:e.getRelationModelClasses(t),attrs:{tabindex:"0"},on:{click:function(n){e.taskClick(t)},keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13,n.key))return null;e.taskClick(t)}}},[n("span",{staticClass:"relationBoardView-taskName"},[e._v(e._s(e.getTaskFullName(t)))])])})],2)}))])}))])}),e._v(" "),e.relationDialogModel?n("popover-dialog",{attrs:{showHeader:!1,position:e.getRelationDialogPosition(),elementClass:"relationBoardView-relationDialog"},on:{closed:e.closeRelationDialog}},[n("div",{staticClass:"relationBoardView-relationDialog-content"},[n("div",{staticClass:"relationBoardView-relationDialog-aside"},[n("div",{class:e.relationDialogTaskColorClasses})]),e._v(" "),n("div",{staticClass:"relationBoardView-relationDialog-main"},[n("div",{staticClass:"relationBoardView-relationDialog-relationInfo"},[n("div",{staticClass:"relationBoardView-relationDialog-relationType"},[e._v("\n                        "+e._s(e.relationDialogModel.relationTypeText)+"\n                    ")]),e._v(" "),n("div",{staticClass:"relationBoardView-relationDialog-taskName"},[e._v("\n                        "+e._s(e.relationDialogModel.taskName)+"\n                    ")])]),e._v(" "),n("button",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse"}],staticClass:"relationBoardView-relationDialog-action button",on:{click:e.openTaskFromDialogClick}},[e._v("\n                    Open task\n                ")]),e._v(" "),n("button",{staticClass:"relationBoardView-relationDialog-action button button--danger",on:{click:e.deleteRelationClick}},[e._v("\n                    Delete relation\n                ")])]),e._v(" "),n("div",[n("button",{staticClass:"popoverDialog-close popoverDialog-close--inner icons-close icons-gray",attrs:{tabindex:"-1"},on:{click:e.closeRelationDialog}})])])]):e._e()],2)},staticRenderFns:[]}},"6ZJgYc0D1o":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n("hHlQBZdXtr");e.exports=function(e){var t=function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.save(n);case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a=t.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getAll();case 2:(n=e.sent).sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}),a("SET_SUBTASKS_TEMPLATES",o(n));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i=t.dispatch,r=t.getters;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=o(r.visibleSubTasks),n.subTaskNames.map(function(e){a.push({name:e,finished:!1})}),i("schedulePersist",a);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,r=t.state,s=t.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o(r.subTaskListTemplates),i=a.findIndex(function(e){return e._id===n}),a.splice(i,1),s("SET_SUBTASKS_TEMPLATES",a),e.next=6,c.deleteById(n);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,r=t.state,s=t.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o(r.subTaskListTemplates),i=a.findIndex(function(e){return e._id===n._id}),a.splice(i,1,o(n)),s("SET_SUBTASKS_TEMPLATES",a),e.next=6,c.update(o(n));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),u=function(e,t){return void 0===e?5e3:e}(e.subTasksPersistDebounceTime),c=e.subTaskListTemplateAjaxFacade,d=void 0;return{namespaced:!0,state:{visible:!1,hasScheduledPersist:!1,addSubTaskName:"",addSubTaskFocus:!1,transientSubTasks:null,subTaskListTemplates:[],maxSubTaskCount:e.maxSubTaskCount||100},getters:{task:function(e,t,n){return n.task},visibleSubTasks:function(e,t){return e.transientSubTasks?e.transientSubTasks:t.task.subTasks},finishedSubTaskCount:function(e,t){return t.visibleSubTasks.filter(function(e){return e.finished}).length},totalSubTaskCount:function(e,t){return t.visibleSubTasks.length},hasUnsavedSubTask:function(e){return e.addSubTaskName.length>0}},mutations:{SET_VISIBLE:function(e,t){e.visible=t},SET_TRANSIENT_SUBTASKS:function(e,t){e.transientSubTasks=t},SHOW_ADD_SUBTASK:function(e){e.visible=!0,e.addSubTaskFocus=!0},SET_ADD_SUBTASK_NAME:function(e,t){e.addSubTaskName=t},SET_ADD_SUBTASK_FOCUS:function(e,t){e.addSubTaskFocus=t},SET_SUBTASKS_TEMPLATES:function(e,t){e.subTaskListTemplates=t}},actions:{onBeforeClose:function(e){var t=e.state,n=e.commit,a=e.dispatch,i=t.transientSubTasks;i&&(clearTimeout(d),a("updateTask",{subTasks:i},{root:!0}),n("SET_TRANSIENT_SUBTASKS",null))},addSubTask:function(e,t){var n=e.dispatch,a=e.getters,i=(e.commit,o(a.visibleSubTasks));i.push({name:t,finished:!1}),n("schedulePersist",i)},renameSubTask:function(e,t){var n=e.dispatch,a=e.getters,i=t.index,r=t.name,s=o(a.visibleSubTasks),l=s[i];l.name!==r&&(r.length?l.name=r:s.splice(i,1),n("schedulePersist",s))},setSubTaskFinished:function(e,t){var n=e.dispatch,a=e.getters,i=t.index,r=t.finished,s=o(a.visibleSubTasks),l=s[i];r!==l.finished&&(l.finished=r,n("schedulePersist",s))},deleteSubTaskAtIndex:function(e,t){var n=e.dispatch,a=e.getters,i=o(a.visibleSubTasks);i.splice(t,1),n("schedulePersist",i)},moveSubTask:function(e,t){var n=e.dispatch,a=e.getters,r=t.oldIndex,s=t.newIndex,l=o(a.visibleSubTasks),u=l.splice(r,1),c=i(u,1)[0];l.splice(s,0,c),n("schedulePersist",l)},reschedulePersistIfApplicable:function(e){var t=e.dispatch,n=e.state;n.transientSubTasks&&t("schedulePersist",n.transientSubTasks)},schedulePersist:function(e,t){var n=e.dispatch,a=e.commit,i=e.state;clearTimeout(d),i.transientSubTasks!==t&&a("SET_TRANSIENT_SUBTASKS",t),d=setTimeout(function(){n("updateTask",{subTasks:t},{root:!0}),a("SET_TRANSIENT_SUBTASKS",null)},u)},saveSubTaskListTemplate:t,loadSubTaskListTemplates:n,applySubTaskListTemplate:r,deleteSubTaskListTemplate:s,updateSubTaskListTemplate:l}}}},"6lht2Qe5Zr":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"filesSection",staticClass:"taskDetails-section taskDetails-filesSection",attrs:{id:"taskDetails-filesSection"}},[n("div",{staticClass:"taskDetails-sectionHeader"},[e._m(0),e._v(" "),n("h3",{staticClass:"taskDetails-sectionTitle"},[e._v("File attachments")]),e._v(" "),e.attachmentsCount?n("span",{staticClass:"taskDetails-sectionHeaderSecondaryText"},[e._v("\n            "+e._s(e.attachmentsCount)+"\n        ")]):e._e()]),e._v(" "),n("div",{staticClass:"taskDetails-sectionContent"},[e.attachmentsFailedToLoad?n("span",{staticClass:"taskDetails-errorMessage"},[e._v("\n            Failed to load files\n        ")]):e.loadingAsyncSections?n("div",{staticClass:"loading loading--noText"},[n("div",{staticClass:"loadingSpinner loadingSpinner--semiTransparent"})]):[e.readOnly?[e.attachments.length?n("div",{staticClass:"taskDetails-files"},e._l(e.attachments,function(t){return n("div",{class:e.fileWrapperClasses},[n("div",{staticClass:"taskDetails-file"},[n("div",{staticClass:"taskDetails-iconWrapper"},[n("img",{staticClass:"taskDetails-fileImage",attrs:{src:t.iconUrl}})]),e._v(" "),n("div",{staticClass:"taskDetails-fileInfo"},[n("span",{staticClass:"taskDetails-fileName truncate"},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"taskDetails-fileDetails"},[n("span",{staticClass:"taskDetails-fileUserName"},[e._v("\n                                        "+e._s(t.createdByFullName)+",\n                                    ")]),e._v(" "),n("span",{staticClass:"taskDetails-fileCreatedTime"},[e._v("\n                                        "+e._s(e.formatAttachmentTimestamp(t.createdTimestamp))+",\n                                    ")]),e._v(" "),n("span",{staticClass:"taskDetails-fileSize"},[e._v("\n                                        "+e._s(e.formatAttachmentSize(t.attachmentType,t.size))+"\n                                    ")])])]),e._v(" "),n("a",{staticClass:"taskDetails-fileLink taskDetails-editableProperty",attrs:{href:t.link,target:"_blank"}})])])})):e._e()]:e._e(),e._v(" "),e.readOnly?e._e():[e.attachments.length?n("sortable",{staticClass:"taskDetails-files",attrs:{element:"div",options:e.getSortableOptions()},on:{update:e.onSortUpdate}},e._l(e.attachments,function(t,a){return n("div",{class:e.fileWrapperClasses},[n("div",{staticClass:"taskDetails-file"},[n("div",{staticClass:"taskDetails-iconWrapper"},[n("img",{staticClass:"taskDetails-fileImage",attrs:{src:t.iconUrl}})]),e._v(" "),n("div",{staticClass:"taskDetails-fileInfo"},[n("span",{staticClass:"taskDetails-fileName truncate"},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"taskDetails-fileDetails"},[n("span",{staticClass:"taskDetails-fileUserName"},[e._v("\n                                        "+e._s(t.createdByFullName)+",\n                                    ")]),e._v(" "),n("span",{staticClass:"taskDetails-fileCreatedTime"},[e._v("\n                                        "+e._s(e.formatAttachmentTimestamp(t.createdTimestamp))+",\n                                    ")]),e._v(" "),n("span",{staticClass:"taskDetails-fileSize"},[e._v("\n                                        "+e._s(e.formatAttachmentSize(t.attachmentType,t.size))+"\n                                    ")])])]),e._v(" "),n("div",{staticClass:"taskDetails-focusPlaceholder",attrs:{tabindex:"0"},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.openAttachmentAtIndex(a)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.openAttachmentAtIndex(a)}]}}),e._v(" "),n("a",{staticClass:"taskDetails-fileLink taskDetails-editableProperty",attrs:{href:t.link,target:"_blank",tabindex:"-1"}})]),e._v(" "),n("button",{class:e.getMoreIconClasses(t.attachmentId),on:{click:function(n){e.menuAttachmentId=t.attachmentId}}}),e._v(" "),t.attachmentId===e.menuAttachmentId?n("kf-menu",{attrs:{position:e.getFileMenuPosition(),appendTo:".appendWrapper"},on:{close:e.hideMenu}},[n("item",{attrs:{text:"Delete",iconClass:"menu-icon-delete"},on:{click:e.onMenuDelete}})],1):e._e()],1)})):e._e(),e._v(" "),n("div",{staticClass:"taskDetails-formRow taskDetails-filesAddButtonWrapper"},[n("button",{ref:"addFile",staticClass:"taskDetails-filesAddButton button",attrs:{disabled:e.attachmentsUploading},on:{click:e.showAddFile}},[e._v("\n                        Attach file\n                    ")]),e._v(" "),n("span",{staticClass:"taskDetails-filesAddButtonByline"},[e._v(e._s(e.addFileByline))])]),e._v(" "),e.addFileVisible?n("add-file",{attrs:{position:e.getAddFileDialogPosition()},on:{close:e.addFileClose}}):e._e()]]],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-iconWrapper"},[t("i",{staticClass:"taskDetails-sectionHeaderIcon icons-task-files"})])}]}},"6ykgimBkJI":function(e,t,n){var a=n("49I84NZ+5f"),i=n("pkMvftKiht"),o=n("oaAhe+oMhd"),r=n("mFpPYk0cWj"),s=n("tQCTvyn8aV"),l=n("p/0cqC9K/5"),u=n("iyC2nzhlfj"),c=n("kwIbleHrEJ"),d="[object Arguments]",m="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,v,k){var g=l(e),b=l(t),T=g?m:s(e),y=b?m:s(t),I=(T=T==d?p:T)==p,w=(y=y==d?p:y)==p,x=T==y;if(x&&u(e)){if(!u(t))return!1;g=!0,I=!1}if(x&&!I)return k||(k=new a),g||c(e)?i(e,t,n,h,v,k):o(e,t,T,n,h,v,k);if(!(1&n)){var C=I&&f.call(e,"__wrapped__"),D=w&&f.call(t,"__wrapped__");if(C||D){var S=C?e.value():e,E=D?t.value():t;return k||(k=new a),v(S,E,n,h,k)}}return!!x&&(k||(k=new a),r(e,t,n,h,v,k))}},"7+vQopJ3rW":function(e,t,n){"use strict";e.exports={findAllIndexes:function(e,t){if("string"!=typeof e)throw new Error("text not string");if("string"!=typeof t)throw new Error("part not string");if(0===t.length)throw new Error("part can NOT be empty");for(var n=[],a=t.length,i=0;;){var o=e.substr(i).indexOf(t);if(o<0)return n;n.push(o+i),i+=o+a}}}},"71Gl/569CP":function(e,t,n){var a=n("LN6cGD0Ow+");e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!a(n))return e(n,i);for(var o=n.length,r=t?o:-1,s=Object(n);(t?r--:++r<o)&&!1!==i(s[r],r,s););return n}}},"77GmKa7xtE":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("lVQ1kWdcdr"),n("8z6wd+Fz/B"),!1,null,null,null);e.exports=a.exports},"7BjGihoavO":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}},"7FLwSpu6tV":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("RNfSVdyTQ7"),o=n("e9xRBbbPG2"),r=n("5FDFGxYzHQ"),s=n("S2F9/wSUHv"),l=24;e.exports=function(e){function t(e){return{showName:e.showName,oldTextHtml:n(e.oldText||"").replace(/\[ \]/g,"[&nbsp;&nbsp;]"),newTextHtml:n(e.newText||"").replace(/\[ \]/g,"[&nbsp;&nbsp;]")}}function n(e){return o.createHtmlFromText(e,{enableLinks:!0,enableLineBreaks:!0})}var u=function(){var e=a(regeneratorRuntime.mark(function e(t){var n=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("loadEntriesForTask");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i,o=t.commit,r=t.getters,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={taskId:r.taskId},(a=s.filter)&&(n.eventType=a.eventType,n.eventProperty=a.eventProperty),o("SET_LOADING",!0),e.next=6,d.getEntriesForTask(n);case 6:i=e.sent,o("SET_ENTRIES",i),o("SET_LOADING",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=e.eventHistoryRepository,m=0;return{namespaced:!0,state:{loading:!1,entries:[],taskChangedPropertyFilterOptions:e.eventProperties.map(function(e){return{value:"taskChanged:"+e.name,text:e.showName}})},getters:{taskId:function(e,t,n){return n.task.taskId},entryItems:function(e,a,u){return e.entries.map(function(e){return function(e,a){var u=a.now,c={_id:e.userId,fullName:e.userFullName,emailMD5:e.userEmailMD5,avatar:e.userAvatar},d=r.getImageUrl(c,{size:l}),p=e.changedProperties||[],f="taskRelationChanged"===e.itemType;return{key:++m,itemType:e.itemType,taskName:e.taskName,columnName:e.columnName,changedProperties:p.map(t),commentTextShort:e.commentText&&o.textMaxLength(e.commentText,20),commentTextHtml:e.commentText&&n(e.commentText),oldCommentTextHtml:e.oldCommentText&&n(e.oldCommentText),newCommentTextHtml:e.newCommentText&&n(e.newCommentText),attachmentName:e.attachmentName,relationHtml:s.getRelationHtmlForEntry(e),oldRelationHtml:f&&s.getOldRelationHtml(e),newRelationHtml:f&&s.getNewRelationHtml(e),relatedTaskName:s.getRelatedTaskName(e),userAvatarUrl:d,userFullName:e.userFullName,dateText:i.formatDateTimeShort(e.timestamp,{now:u})}}(e,{now:u.now})})}},mutations:{SET_LOADING:function(e,t){e.loading=t},SET_ENTRIES:function(e,t){e.entries=t},RESET:function(e){e.loading=!1,e.entries=[]}},actions:{show:u,hide:function(e){(0,e.commit)("RESET")},loadEntriesForTask:c}}}},"7HSyYjyQSN":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("zCnJNEeu5Z"),o=n("EWUDtfBmmZ");e.exports=function(e){function t(e,t){c||(d=e,function(e){c=a("<div/>",{class:"taskLabelMenuDialog"});var t=function(e){var t=l.getAllLocalSorted();return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),t}(e);if(t.length){var n=a("<div/>",{class:"taskLabelMenuDialog-list scroll scroll--horizontalHidden"});t.forEach(function(e){var t=a("<label/>",{class:"taskLabelMenuDialog-item"}),i=a('<input type="checkbox" />').attr({class:"taskLabelMenuDialog-item-checkbox","data-labelName":e});t.append(i);var o=a("<div/>",{class:"taskLabelMenuDialog-item-name",text:e});t.append(o),n.append(t)}),c.append(n)}else{var i=a("<div/>",{class:"taskLabelMenuDialog-message",text:"No recently used labels exist"});c.append(i)}var o=a("<div/>",{class:"taskLabelMenuDialog-footer"});c.append(o);var r=a("<button/>",{class:"taskLabelMenuDialog-doneButton btn btn-small",text:"Done"});o.append(r)}(t),t.forEach(function(e){c.find('input[data-labelName="'+i.encode(e)+'"]').prop("checked",!0)}),d.after(c),c.show(),s(),c.on("click",".taskLabelMenuDialog-doneButton",n),c.on("click","input",r),c.click(function(e){e.stopImmediatePropagation(),e.stopPropagation()}),a(document).on("click.taskLabelMenuDialog",function(e){c&&n(e)}),m.emit("open"))}function n(e){if(c){c.remove(),c=null,d=null,a(document).off("click.taskLabelMenuDialog");var t={};e?a(e.target).hasClass("taskLabelMenuDialog-doneButton")?(t.type="doneButtonClicked",t.originalEvent=e):a(e.currentTarget).is(document)&&(t.type="documentClicked",t.originalEvent=e):t.type="function",m.emit("close",t)}}function r(e){var t=a(e.target),n=t.attr("data-labelName");t.is(":checked")?m.emit("labelAdded",n):m.emit("labelRemoved",n),setTimeout(s,0)}function s(){c&&c.position(Object.assign({of:d},u))}var l=e.taskLabelRepository,u=e.positionAbove?{my:"right bottom",at:"right top"}:{my:"right top",at:"right bottom"},c=void 0,d=void 0,m=o.createStandalone(["labelAdded","labelRemoved","open","close"]);return{on:m.on,toggleOpen:function(e,a){c?n():t(e,a)},open:t,close:n,updatePosition:s}}},"7MmbaJBBjP":function(e,t){e.exports=function(){return[]}},"7UiVNRW/oC":function(e,t,n){"use strict";var a=n("ly9CaayYMf"),i=n("ilw/4udqjY"),o=n("EWUDtfBmmZ"),r=n("zHtWr7JDEv"),s=n("LID5hgrivl");e.exports=function(e){function t(e){var t=e.taskId;t in I&&(delete I[t],y.emit("taskSelectionChange"))}function n(){p()?document.addEventListener("selectstart",l,!1):document.removeEventListener("selectstart",l,!1)}function l(e){e.preventDefault()}function u(e,t){var n=b.find(function(t){return t.uniqueId===e}),a=k.getTasksInCell(e,t).tasks;return n.groupByDate?r.getTasksSortedByDateAndSortOrder(a):r.getTasksSortedBySortOrder(a)}function c(){document.removeEventListener("click",d,!1),p()&&setTimeout(function(){document.addEventListener("click",d,!1)},0)}function d(e){var t=3===e.which,n=!!s.closest(e.target,".task-selected");t&&n||function(e){return function(e){return e.ctrlKey||e.metaKey}(e)||e.shiftKey}(e)||m()}function m(){w||(p()&&(I=[],y.emit("taskSelectionChange")),document.removeEventListener("click",d,!1))}function p(){return f()>0}function f(){return Object.keys(I).length}function h(e){e in I||(I[e]=!0,y.emit("taskSelectionChange"),c())}function v(e){return e.columnId+"/"+(e.swimlaneId||"")}var k=e.taskRepository,g=e.boardFilter,b=e.columns,T=e.swimlanes,y=o.createStandalone(["taskSelectionChange","taskSelectedWithKeyboard"]),I={},w=!1;return{on:y.on,off:y.off,init:function(){k.on("preDelete localDelete",t),y.on("taskSelectionChange",n)},taskClickedWithCtrlOrMeta:function(e){!function(e){e in I?function(e){e in I&&(delete I[e],y.emit("taskSelectionChange"))}(e):h(e)}(e)},taskClickedWithShift:function(e){var t=k.getTaskById(e),n=u(t.columnId,t.swimlaneId).map(function(e){return e._id}),a=n.filter(function(e){return I[e]});if(0===a.length)h(e);else{for(var o=n.indexOf(e),r=i(a,function(e){var t=n.indexOf(e);return Math.abs(t-o)}),s=n.indexOf(r),l=Math.min(s,o),d=Math.max(s,o),m=[],p=l;p<=d;p++){var f=n[p],v=k.getTaskById(f);g.isTaskHiddenByFilter(v)||m.push(f)}m.length>0&&(m.forEach(function(e){I[e]=!0}),y.emit("taskSelectionChange"),c())}},taskSelectedWithKeyboard:function(e){h(e),y.emit("taskSelectedWithKeyboard",e)},hasSelection:p,getSelectedTaskIdsInOrder:function(){var e=Object.keys(I).map(function(e){return k.getTaskById(e)}),t=a(e,function(e){return v(e)}),n=[];return function(e){T.forEach(function(t){b.forEach(function(n){e({columnId:n.uniqueId,swimlaneId:t.uniqueId})})})}(function(e){var a=v(e);t[a]&&u(e.columnId,e.swimlaneId).map(function(e){return e._id}).filter(function(e){return!!I[e]}).forEach(function(e){n.push(e)})}),n},getSelectedTaskCount:f,isTaskSelected:function(e){return e in I},clearSelection:m,lockSelection:function(){w=!0},unlockSelection:function(){w=!1}}}},"7VEEMb+TWV":function(e,t,n){"use strict";var a=n("BBRimJTtLK"),i=n("0iPhQ5GI5H"),o=n("8/IhxR7Jzb"),r=n("hHlQBZdXtr");n("IpLvl/p887"),e.exports=function(e){function t(){k.hasSelection()?(g.disable(),w||(i.contextMenu({selector:".task-selected",zIndex:0,events:{show:s,hide:n},build:function(e){return{items:[function(e){return{key:"moveAdvanced",name:"Move advanced",icon:"moveAdvanced",callback:function(){!function(e){var t=k.getSelectedTaskIdsInOrder();k.unlockSelection(),k.clearSelection();var n=m(e);T.showBulkMoveAdvanced(t,{position:n})}(e)}}}(e),b.createSetColorItem({handler:function(e){h("taskColorSetFromBulkContextMenu",function(t){t.color=e.colorValue})}}),function(e){return k.getSelectedTaskIdsInOrder().some(function(e){var t=v.getTaskById(e);return t.responsibleUserId||t.collaborators.length||t.members.length})?function(e){return{key:"members",name:"Members",icon:"editTaskMembers",items:[{key:"assignMembers",name:"Assign members",icon:"editTaskMembers",callback:function(){x=!0,C=!0,I.on("confirm",d),I.on("close",c);var t=m(e);I.show({showConfirm:!0,confirmHelpText:"Any existing members will be replaced",confirmButtonText:"Assign",position:t})}},{key:"unassignMembers",name:"Unassign all members",icon:"taskUserNone",callback:l}]}}(e):function(e){return{key:"assignMembers",name:"Assign members",icon:"editTaskMembers",callback:function(){x=!0,C=!1,I.on("close",c);var t=m(e);I.show({position:t})}}}(e)}(e),{key:"delete",name:"Delete",icon:"taskDelete",callback:p}]}}}),w=!0)):(g.enable(),w&&(i.contextMenu("destroy",{selector:".task-selected"}),w=!1))}function n(){x?x=!1:f()}function s(){k.lockSelection()}function l(){h("taskMembersUnassignedFromBulkContextMenu",function(e){e.responsibleUserId=null,e.collaborators=[],e.members=[]})}function u(e){h("taskMembersSetFromBulkContextMenu",function(t){var n=e.find(function(e){return e.userId&&"Responsible"===e.role});n&&(t.responsibleUserId=n.userId),t.collaborators=e.filter(function(e){return e.userId&&!e.role}),t.members=e.filter(function(e){return e.boardInvitationId||e.organizationInvitationId})})}function c(e){C||u(e),I.off("confirm",d),I.off("close",c),f()}function d(e){u(e)}function m(e){return{my:"left top",at:"left+5px top+5px",of:e}}function p(e,t,n){x=!0,n.shiftKey?y.forceDeleteSelectedTasks("taskDeletedFromBulkContextMenu"):y.confirmAndDeleteSelectedTasks("taskDeletedFromBulkContextMenu")}function f(){setTimeout(function(){k.unlockSelection()},0)}function h(e,t){k.getSelectedTaskIdsInOrder().forEach(function(n){var i=v.getTaskById(n),s=r(i);t(s);var l=o.getMergeData({originalTask:i,changedTask:s});a(l)||v.mergeTask({taskId:n,taskData:l,masterEvent:e})})}var v=e.taskRepository,k=e.taskSelectionController,g=e.taskContextMenu,b=e.taskContextMenuItemFactory,T=e.moveTaskController,y=e.bulkTaskDeleteController,I=e.taskMembersDialog,w=!1,x=!1,C=!1;return{init:function(){k.on("taskSelectionChange",t)}}}},"7gqpEfr4/c":function(e,t,n){"use strict";var a=n("RNfSVdyTQ7");e.exports=function(e){function t(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).now,n=void 0===t?Date.now():t;return"active"===e.status&&!!i.getColumnById(e.targetColumnId)&&n>=Date.parse(e.dueTimestamp)}function n(e,t){return(Date.parse(e.dueTimestamp)-t)/864e5}var i=e.boardColumnRepository;return{isTaskOverdue:function(e){return e.dates.some(t)},isDateOverdue:t,formatDueDate:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).now,i=void 0===t?Date.now():t,o=new Date(e.dueTimestamp),r=n(e,i);return Math.abs(r)>60?a.friendlyDateTimeString(o):a.isToday(o,{now:i})?"Today "+a.getFriendlyTimeString(o):a.isTomorrow(o,{now:i})?"Tomorrow "+a.getFriendlyTimeString(o):0<r&&r<=5?a.weekdayTimeString(o):a.friendlyDateMonthTimeString(o)},formatDueDateShort:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).now,i=void 0===t?Date.now():t,o=new Date(e.dueTimestamp);if(a.isToday(o,{now:i}))return"Today "+a.getFriendlyTimeString(o);if(a.isTomorrow(o,{now:i}))return"Tomorrow "+a.getFriendlyTimeString(o);var r=n(e,i);if(0<r&&r<=5)return a.weekdayTimeString(o);var s=a.getMonthName(o.getMonth()).substr(0,3),l=a.getFriendlyTimeString(o),u=o.getFullYear();return u!==(new Date).getFullYear()?s+" "+o.getDate()+", "+u+" at "+l:s+" "+o.getDate()+" at "+l}}}},"8/IhxR7Jzb":function(e,t,n){"use strict";var a=n("gL+JUHZP0k");e.exports={getMergeData:function(e){var t=e.originalTask,n=e.changedTask,i=a.getDiff({oldObj:t,newObj:n});if("totalSecondsSpent"in i){var o=t.totalSecondsSpent,r=n.totalSecondsSpent;o||r?"number"==typeof i.totalSecondsSpent&&"number"==typeof o&&"number"==typeof r&&Math.floor(o/60)===Math.floor(r/60)&&delete i.totalSecondsSpent:delete i.totalSecondsSpent}if("totalSecondsEstimate"in i){var s=t.totalSecondsEstimate,l=n.totalSecondsEstimate;s||l||delete i.totalSecondsEstimate}if("pointsEstimate"in i){var u=t.pointsEstimate,c=n.pointsEstimate;u||c||delete i.pointsEstimate}if(void 0!==i.responsibleUserId&&(t.responsibleUserId||n.responsibleUserId||delete i.responsibleUserId),void 0!==i.hasComments&&(t.hasComments||!1!==n.hasComments||delete i.hasComments),void 0!==i.hasAttachments&&(t.hasAttachments||!1!==n.hasAttachments||delete i.hasAttachments),void 0!==i.hasRelations&&(t.hasRelations||!1!==n.hasRelations||delete i.hasRelations),void 0!==i.dateFinished&&(t.dateFinished||n.dateFinished||delete i.dateFinished),void 0!==i.number){var d=!t.number||!t.number.value,m=!n.number||!n.number.value;d&&m&&delete i.number}if(i.number&&t.number&&n.number){var p=t.number.value===n.number.value,f=(t.number.prefix||"")===(n.number.prefix||"");p&&f&&delete i.number}if(i.number&&void 0!==i.number.prefix){var h=!t.number||!t.number.prefix,v=!n.number||!n.number.prefix;h&&v&&delete i.number.prefix}return t.swimlaneId||n.swimlaneId?t.swimlaneId&&!n.swimlaneId&&(i.swimlaneId=null):delete i.swimlaneId,n.subTasks&&t.subTasks&&n.subTasks.length===t.subTasks.length&&n.subTasks.every(function(e,n){var a=t.subTasks[n];return e.name===a.name&&(e.finished===a.finished||!e.finished==!a.finished)})&&delete i.subTasks,n.collaborators&&t.collaborators&&n.collaborators.length===t.collaborators.length&&n.collaborators.every(function(e){return t.collaborators.some(function(t){return e.userId===t.userId})})&&delete i.collaborators,n.members&&t.members&&n.members.length===t.members.length&&n.members.every(function(e){return t.members.some(function(t){return e.role===t.role&&(e.boardInvitationId?e.boardInvitationId===t.boardInvitationId:!!e.organizationInvitationId&&e.organizationInvitationId===t.organizationInvitationId)})})&&delete i.members,i}}},"85Jx2TckYc":function(e,t,n){"use strict";function a(e){var t=e.start,n=e.end,a=e.bendPoint;return"M "+t.x+" "+t.y+" Q "+a.x+" "+a.y+" "+n.x+" "+n.y}function i(e){var t=o(e),n=t.getBoundingClientRect(),a=o(".taskDetails-wrapper");return{top:n.top+a.scrollTop,left:n.left,width:t.clientWidth,height:t.clientHeight}}var o=n("LID5hgrivl").$;e.exports={data:function(){return{wrapperHeight:"100%",loaded:!1,resizeTimeoutId:null,step:1,addButtonRect:{top:0,left:0,width:0,height:0},nameRect:{top:0,left:0,width:0,height:0},colorSelectRect:{top:0,left:0,width:0,height:0}}},computed:{addMessageBoxRect:function(){return{left:this.addButtonRect.left-250-40,top:this.colorSelectRect.top+100,width:250}},editMessageBoxRect:function(){return{left:this.colorSelectRect.left+this.colorSelectRect.width-50,top:this.colorSelectRect.top+100,width:250}},addMessageBoxStyle:function(){return{top:this.addMessageBoxRect.top+"px",left:this.addMessageBoxRect.left+"px"}},editMessageBoxStyle:function(){return{top:this.editMessageBoxRect.top+"px",left:this.editMessageBoxRect.left+"px"}},addButtonCircle:function(){var e=this.addButtonRect;return{cx:Math.round(e.left+e.width/2),cy:Math.round(e.top+e.height/2),r:Math.round(e.width/2+20)}},addButtonArrow:function(){var e={x:Math.round(this.addMessageBoxRect.left+this.addMessageBoxRect.width/2),y:this.addMessageBoxRect.top+2},t={x:this.addButtonCircle.cx-(this.addButtonCircle.r+30),y:this.addButtonCircle.cy+this.addButtonCircle.r/4};return a({start:e,end:t,bendPoint:{x:e.x-5,y:t.y+25}})},editColorArrow:function(){var e={x:Math.round(this.editMessageBoxRect.left+this.editMessageBoxRect.width/2),y:this.editMessageBoxRect.top+2},t={x:this.colorSelectRect.left+this.colorSelectRect.width+30,y:this.colorSelectRect.top+this.colorSelectRect.height+15};return a({start:e,end:t,bendPoint:{x:e.x-5,y:t.y+25}})},editNameArrow:function(){var e=Math.round(this.editMessageBoxRect.left+this.editMessageBoxRect.width/2),t={x:e,y:this.editMessageBoxRect.top+2},n={x:e,y:this.nameRect.top+this.nameRect.height+32};return"M "+t.x+" "+t.y+" "+n.x+" "+n.y}},methods:{stepDone:function(){2===this.step?this.$emit("complete"):this.step=2},updateHeightAndRects:function(){var e=o(".taskDetails-wrapper");this.wrapperHeight=Math.max(e.clientHeight+(e.scrollTop||0),e.scrollHeight),this.addButtonRect=i(".taskDetails-sidebar-addButton"),this.colorSelectRect=i(".taskDetails-selectedColor"),this.nameRect=i(".taskDetails-name")},onResizeOrScroll:function(){clearTimeout(this.resizeTimeoutId),this.resizeTimeoutId=setTimeout(this.updateHeightAndRects,10)}},mounted:function(){var e=this;this.$nextTick(function(){e.updateHeightAndRects(),e.loaded=!0,window.addEventListener("resize",e.onResizeOrScroll),o(".taskDetails-wrapper").addEventListener("scroll",e.onResizeOrScroll)})},destroyed:function(){clearTimeout(this.resizeTimeoutId),window.removeEventListener("resize",this.onResizeOrScroll);var e=o(".taskDetails-wrapper");e&&e.removeEventListener("scroll",this.onResizeOrScroll)}}},"869I8lWGd9":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ").createNamespacedHelpers("dueDates").mapGetters,o=n("RXmT75SstR");e.exports={computed:a({},i(["dueDates"]),{labelText:function(){return this.dueDates.length>1?"Due dates":"Due date"}}),components:{"due-date-list":o}}},"86g4xzFxL/":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",{ref:"headerCell",class:e.headerClasses,attrs:{"data-columnId":e.column.columnId}},[n("div",{staticClass:"columnHeader-inner",style:e.getHeaderInnerStyle()},[e.addTaskButtonVisible?n("div",{staticClass:"columnHeader-flexSpacer"}):e._e(),e._v(" "),n("div",{staticClass:"columnHeader-nameAndInfo"},[n("h2",{staticClass:"columnHeader-name",attrs:{title:e.nameTitle},on:{click:e.nameClick}},[e._v("\n                "+e._s(e.column.name)+"\n            ")]),e._v(" "),e.column.description.length?n("tooltip-help",{staticClass:"columnHeader-descriptionIcon",attrs:{html:e.descriptionTooltipHtml,icon:"info"},nativeOn:{click:function(t){e.descriptionIconClick(t)}}}):e._e(),e._v(" "),e.column.taskLimit?n("div",{staticClass:"columnHeader-countAndLimit",attrs:{title:e.countAndLimitTitle}},[e._v("\n                "+e._s(e.countAndLimitText)+"\n            ")]):e._e(),e._v(" "),e.column.headerDetailsVisible?n("header-details",{attrs:{details:e.headerDetails},on:{close:e.closeHeaderDetails}}):e._e()],1),e._v(" "),e.addTaskButtonVisible?n("button",{staticClass:"columnHeader-addTask icons-plus icons-green",attrs:{"aria-label":"Add task"},on:{click:e.addTaskClick}}):e._e(),e._v(" "),e.column.collapsed?n("div",{staticClass:"columnHeader-count",attrs:{title:e.taskCountTitle},on:{click:e.taskCountClick}},[e._v("\n            "+e._s(e.taskCount)+"\n        ")]):e._e(),e._v(" "),e.column.addTaskKeyHintVisible?n("div",{staticClass:"column-keyHintWrapper"},[n("div",{staticClass:"column-keyHint",attrs:{"data-columnId":e.column.columnId,"data-key":e.column.addTaskKeyHint}},[e._v("\n                "+e._s(e.column.addTaskKeyHint)+"\n            ")])]):e._e()])])},staticRenderFns:[]}},"8HtX21uAQC":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.labelSelectClasses},[n("label",{staticClass:"labelSelect-label"},[e._v("\n        "+e._s(e.label)+"\n    ")]),e._v(" "),n("span",{staticClass:"labelSelect-selectedText truncate"},[e._v("\n        "+e._s(e.selectedText)+"\n    ")]),e._v(" "),n("select",{staticClass:"labelSelect-select",attrs:{disabled:e.loading},on:{change:e.change,focus:e.onSelectFocus,blur:e.onSelectBlur}},[e.optionGroups.length?e._l(e.optionGroups,function(t){return n("optgroup",{attrs:{label:t.label}},e._l(t.options,function(t){return n("option",{attrs:{disabled:t.disabled},domProps:{value:t.value,selected:e.value===t.value}},[e._v("\n                    "+e._s(t.text)+"\n                ")])}))}):e._l(e.options,function(t){return n("option",{attrs:{disabled:t.disabled},domProps:{value:t.value,selected:e.value===t.value}},[e._v("\n                "+e._s(t.text)+"\n            ")])})],2)])},staticRenderFns:[]}},"8hpciSPvDP":function(e,t,n){"use strict";e.exports={unlimitedBoards:"Create as many boards as you need.",unlimitedTasks:"Create an unlimited number of tasks for each board.",wipLimits:"To <strong>avoid bottlenecks</strong> in your process, you can limit how many tasks you are allowed to have in a certain column. That will force you to start finishing tasks instead of starting new tasks.<br/><br/> By reducing multi-tasking, you will become more focused and productive.",subtasks:"By dividing your task into subtasks you can more easily <strong>track the progress</strong> made on it.<br/><br/>When a subtask is completed, simply <strong>check it off</strong> directly on the board.",filter:"Do you only want to view tasks that are assigned to you or someone in your team? Or only view blue tasks?<br/><br/>Easily filter your board on <strong>user, label, color</strong> or <strong>due date</strong>.",recurringTasks:"Are you doing the <strong>same type of task every week or month</strong>?<br/><br/>Mark the task as <strong>repeating</strong>, specify how often it should be done and we'll take it from there. As soon as you complete the task a new copy will be created.",taskNumbering:"Need a consistent way to reference your tasks? Enable <strong>automatic numbering</strong> of your tasks.<br/><br/>The number can optionally be prefixed and is automatically incremented as you create new tasks.",relations:"Add relations between tasks, even across boards, to indicate that they <strong>relate to</strong> or <strong>depend on</strong> each other.<br><br>For example, this enables you to have a high-level <strong>portfolio board</strong> and connect tasks from team boards to it.",massUpdate:"Do you want to rename or remove a label from all tasks? Or change all yellow tasks to green?<br/><br/>Apply common actions to <strong>all tasks</strong> matching a certain criteria. Even for 100s or 1000s of tasks.",copyBoard:"Is your new project similar to a previous project? Copy an existing board and use it as a <strong>starting point</strong> for your new project.<br/><br/>All board settings are preserved. Existing tasks can optionally be included.",swimlanes:"Get an <strong>even better overview</strong> of your tasks by adding horizontal swimlanes to your Kanban board.<br/><br/>Split your board into teams, products, business areas or something else that will <strong>help you manage your tasks</strong>.",fileAttachments:"Attach documents, spreadsheets, presentations and other files to your tasks.<br/><br/>Attach the files directly from your computer or from <strong>Dropbox, Box</strong> or <strong>Google Drive</strong>.",search:"Instantly <strong>find the task you are looking for</strong> on your board. Even when you have 100s or 1000s of tasks on your board.<br/><br/>The search matches text used in task name, description, comments, subtasks, labels and more. Results include both visible and archived tasks.",stopwatchTimer:"Log time working on your tasks with a simple start-stop timer.",pomodoroTimer:"Use the <a href='/pomodoro-technique'>Pomodoro technique</a> to increase your productivity. It encourages you to work with full <strong>focus</strong> in 25 minute intervals, separated by short breaks.",pomodoroStatistics:"Track how your ability to <strong>focus improves</strong> by using the <a href='/pomodoro-technique'>Pomodoro technique</a>.<br/><br/> Find out what type of <strong>interruptions</strong> are causing you productivity loss. Use that information to <strong>adjust your work process</strong>.",timeSpentReport:"See how time has been spent on different tasks. Keep track of your own time or review what your team members have been working on.<br/><br/>Customize the report by <strong>filtering</strong> and <strong>grouping</strong> the logged time data in many ways.",printView:"Create a <strong>print-friendly</strong> view of your board. You decide what content to include by filtering on columns, user, color and more.",excelAndCsvExport:"Easily transfer tasks to other systems by exporting tasks to <strong>Excel</strong>, <strong>CSV</strong>, XML and JSON.",cumulativeFlow:"The Cumulative Flow diagram shows how many tasks there are in different columns over time.<br/><br/>Use the diagram to <strong>analyze</strong> your workflow and <strong>identify bottlenecks</strong>.",cycleAndLeadTime:"The Cycle/Lead time chart shows how long time it has taken for tasks to move between different columns in your workflow.<br/><br/>Use it to see if you become <strong>faster</strong> or slower at <strong>delivering value</strong> to your customers.",burndown:"The Burndown chart shows how many tasks remain to be done.<br/><br/><strong>Track progress</strong> over time and <strong>predict</strong> when all work will be done.",throughput:"The Throughput chart shows how many tasks are moving through a column.<br/><br/>Measure the <strong>performance</strong> of your system and <strong>how much value</strong> you are producing.",calendar:"Get a <strong>better overview</strong> of when your tasks are due with the calendar view. Filter on user, color, labels or swimlane.",forecasting:"<strong>Spending a lot of time on estimates?</strong> Use forecasts instead to predict when your tasks will be completed.<br/><br/>Based on historical data, the report assumes planned work will follow a similar trend. Forecasting can be just as accurate as estimates, but gives you <strong>more time for work</strong>.",dashboard:"The dashboard can show information from <strong>multiple boards</strong> on the <strong>same page</strong>.<br/><br/>Design your dashboard freely by adding widgets. Specify board, columns, filter and task settings per widget.",revisionHistory:"See a <strong>detailed log of changes</strong> that are made on the board. Or for a specific task.<br/><br/>Filter the history log by user or type of change. Compare a field's value side-by-side before and after the change.",timeEstimateReport:"Get an overview of the <strong>estimated workload</strong> on your board. Identify if someone on your team has an unrealistic amount of work assigned to them.",taskCountReport:"<strong>Not using estimates?</strong> You can still get a good overview of your workload just by analyzing the number of tasks in different columns.",excelAndCsvImport:"Easily transfer tasks from other systems by importing tasks from <strong>Excel</strong> or <strong>CSV</strong>.",addTasksByEmail:"Quickly add tasks to your board by sending an email from <strong>Outlook</strong>, <strong>Gmail</strong> or any other mail client.<br/><br/>The email subject will be used as task name and the body as task description. Attachments will automatically be added to the task.",apiAndWebhooks:"Integrate with other systems using our <strong>REST-based API</strong>. You can create, read, update and delete tasks programmatically.<br/><br/>Use webhooks to <strong>notify</strong> your external system when something happens on your board.",calendarFeedICal:"Show due dates in your <strong>external calendar</strong> by subscribing to a feed from your KanbanFlow calendar.",zapier:"<a href='https://zapier.com'>Zapier</a> lets you <strong>connect other web apps</strong> that you use with KanbanFlow. No coding skills required.<br/><br/>Automate so that when an event occurs in another web app, a task will be created. Or when a task is added or moved on your board, trigger an action in a different web app.",dropbox:"Attach documents, spreadsheets, presentations and other files to your tasks from <strong>Dropbox</strong>.",box:"Attach documents, spreadsheets, presentations and other files to your tasks from <strong>Box</strong>.",googleDrive:"Attach documents, spreadsheets, presentations and other files to your tasks from <strong>Google Drive</strong>.",backupSite:"Worried about downtime? Our mirrored backup system is running in a geographically separated data center. This provides an excellent overall availability of the service.<br/><br/>If the regular site is down, just go to <a href='https://kanbanflowbackup.com' target='_blank'>KanbanFlowBackup.com</a> and continue working.",supportLevel:"If you need quick support, we recommend the Premium version.",boardPermissionRoles:'<strong>Roles</strong><br/><ul style="list-style-type: disc; padding-left: 40px; margin: 15px 0;"><li><em>View & comment</em> - View board and comment on tasks</li><li><em>Task administrator</em> - Add/Edit/Remove tasks + above</li><li><em>Board administrator</em> - Administrate board settings and users + above</li><li><em>Board owner</em> - Change owner of board + above</li></ul><em>Board administrator</em> and <em>View & comment</em> are only available in the Premium version.'}},"8iHB64F76s":function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof a))return new a(e);if(!e.startTimestamp!=!e.startTimestampLocal)throw new Error("Both startTimestamp and startTimestampLocal must be set. Or none of them set.");if(Object.assign(this,e),this.timerMode||(this.timerMode="pomodoro"),!this.startTimestamp){var t=new Date;this.startTimestamp=o.getIsoTimestamp(t),this.startTimestampLocal=o.getLocalIsoTimestamp(t)}this.actions||(this.actions=[]),this.type="workEntry"}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("RNfSVdyTQ7");e.exports=a,Object.assign(a.prototype,{selectTask:function(e){this.actions.push({taskId:e._id,taskName:e.name,boardId:e.boardId})},changeTask:function(e){if(!this.actions.length||this.actions[this.actions.length-1].taskId!==e._id){var t=new Date,n=o.getIsoTimestamp(t),a=o.getLocalIsoTimestamp(t);this.actions.length&&(this.actions[this.actions.length-1].end={timestamp:n,timestampLocal:a,reason:"taskChange"}),this.actions.push({taskId:e._id,taskName:e.name,boardId:e.boardId})}},endByBreak:function(){this._finish("breakTime")},endByStop:function(){this._finish("stopped"),"pomodoro"===this.timerMode&&(this.collectedPomodoro=!1,this.reasonNoPomodoro="stoppedBeforeBreak")},endByRescue:function(e){this._finish("stopped",e),"pomodoro"===this.timerMode&&(this.collectedPomodoro=!1,this.reasonNoPomodoro="skippedAfterRescue",this.setDisturbanceInfo("other"))},undoEndByStop:function(){delete this.actions[this.actions.length-1].end,delete this.collectedPomodoro,delete this.reasonNoPomodoro},acceptPomodoro:function(){this.collectedPomodoro=!0},setDisturbanceInfo:function(e){var t={type:e};this.actions[this.actions.length-1].end.disturbanceInfo=t},getAddedSecondsSpentForTask:function(e,t){for(var n=0,a=Date.parse(this.startTimestamp),i=void 0,o=this.actions,r=0,s=o.length;r<s;r++){var l=o[r],u=l.end;l.taskId===e&&(i=Date.parse(u?u.timestamp:t||(new Date).toISOString()),n+=Math.floor((i-a)/1e3)),u&&(a=Date.parse(u.timestamp))}return n},getTotalSecondsInAction:function(e){var t=this.actions,n=t.indexOf(e);if(n<0)throw new Error("Action not in entry");if(!e.end)throw new Error("Action has not been stopped");var a=void 0;a=0===n?this.startTimestamp:t[n-1].end.timestamp;var i=Date.parse(a),o=Date.parse(e.end.timestamp);return Math.floor((o-i)/1e3)},getTotalSeconds:function(){var e=Date.parse(this.startTimestamp),t=Date.parse(this.getLastAction().end.timestamp);return Math.floor((t-e)/1e3)},getLastAction:function(){return this.actions[this.actions.length-1]},getUniqueTaskIds:function(){var e={};return this.actions.forEach(function(t){e[t.taskId]=null}),Object.keys(e)},getTaskNameById:function(e){for(var t=this.actions,n=0,a=t.length;n<a;n++){var i=t[n];if(i.taskId===e)return i.taskName}},getLastTaskId:function(){var e=this.actions.length;return 0===e?null:this.actions[e-1].taskId},getStartTimestampForLastTask:function(){var e=this.actions;return e.length<=1?this.startTimestamp:e[e.length-2].end.timestamp},isLastActionEnded:function(){var e=this.getLastAction();return!!e&&!!e.end},ensureLastActionHasNoEnd:function(){var e=this.getLastAction();e&&delete e.end},_finish:function(e,t){t=t||o.getIsoTimestamp();var n=new Date(Date.parse(t)),a=o.getLocalIsoTimestamp(n);if(this.actions[this.actions.length-1].end={timestamp:t,timestampLocal:a,reason:e},this.actions.length>1){this.startTimestamp===this.actions[0].end.timestamp&&this.actions.splice(0,1);for(var i=1;i<this.actions.length;i++){var r=this.actions[i-1],s=this.actions[i];s.end.timestamp===r.end.timestamp&&(r.end.reason=s.end.reason,this.actions.splice(i,1),i--)}}},toDoc:function(){return i({},this)}})},"8jRNpOBZhw":function(e,t,n){"use strict";e.exports=function(){function e(){t||0===n.length||(t=!0,n.shift()().catch(function(e){setTimeout(function(){throw e})}).then(function(){t=!1,e()}))}var t=!1,n=[];return{addWork:function(t){n.push(t),e()}}}},"8qNplH4QQK":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("csRna9HhZB"),n("xi1zt375vS"),!1,null,null,null);e.exports=a.exports},"8z6wd+Fz/B":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.editNameVisible?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.editNameDone,expression:"editNameDone"},{name:"keydown-outside",rawName:"v-keydown-outside",value:e.editNameDone,expression:"editNameDone"}]},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.editNameValue,expression:"editNameValue",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus",value:e.editNameFocus,expression:"editNameFocus"},{name:"autosize",rawName:"v-autosize"},{name:"block-characters",rawName:"v-block-characters",value:"\n\r\t",expression:"'\\n\\r\\t'"}],staticClass:"taskDetails-editNameInput taskDetails-editInput taskDetails-editInput--active",attrs:{disabled:e.saving},domProps:{value:e.editNameValue},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault(),e.editNameDone(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;t.preventDefault(),e.onEscPressed(t)}],focus:e.onEditNameFocus,blur:[e.onEditNameBlur,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.editNameValue=t.target.value.trim())}}}),e._v(" "),n("div",{staticClass:"taskDetails-editButtons"},[n("button",{staticClass:"taskDetails-editButton taskDetails-editButton--secondary button",attrs:{disabled:e.saving},on:{click:e.cancelEditName}},[e._v("\n            Cancel\n        ")]),e._v(" "),n("button",{staticClass:"taskDetails-editButton button",attrs:{disabled:e.saving},on:{click:e.editNameDone}},[e._v("\n            Save\n        ")])])]):n("div",[n("div",{ref:"focusPlaceholder",staticClass:"taskDetails-focusPlaceholder",attrs:{tabindex:e.readOnly?-1:0},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.editNameFromKeyboard(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.editNameFromKeyboard(t)}]}}),e._v(" "),n("h2",{staticClass:"taskDetails-name",domProps:{innerHTML:e._s(e.nameHtml)},on:{click:e.nameClick}})])},staticRenderFns:[]}},"9FASgPn3Jt":function(e,t,n){var a=n("u9vI3PmOia"),i=n("nhsleiWslW"),o=n("uy4oBpvyoI"),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&r.call(e,s))&&n.push(s);return n}},"9JAEVl+HAI":function(e,t,n){"use strict";var a=n("2nZJaLy5kj");e.exports=function(e){function t(e){return n+e}if(!e.prefix)throw new Error("prefix required");var n=e.prefix;return{get:function(e){return a.get(t(e))},set:function(e,n){a.set(t(e),n)},remove:function(e){a.remove(t(e))},getPrefix:function(){return n}}}},"9JcIpnoI3g":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("GmjbhFVkUr"),n("AqMAFbIv7e"),!1,null,null,null);e.exports=a.exports},"9KurapB+nY":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");n("IpLvl/p887"),a.contextMenu.types.checkboxAndImageIcon=function(e){var t=this,n=e.change,i=a("<label/>").attr({class:"context-checkboxAndImageIcon-label"}),o=a('<input type="checkbox"/>').attr({name:"checkbox-"+Math.random(),class:"context-checkboxAndImageIcon-checkbox"});o.change(function(e){var a=t.data().contextMenuRoot;n.call(null,a.$trigger,o,e)}),e.selected&&o.prop("checked",!0),i.append(o);var r=a("<div/>").attr({class:"icons-checkbox"});i.append(r);var s=void 0,l=e.imageUrl,u=e.imageClass;l?s=a("<img/>").attr({src:l,class:"context-checkboxAndImageIcon-image"}):u&&(s=a("<div/>").attr({class:"context-checkboxAndImageIcon-image "+u})),i.append(s);var c=a("<span/>").text(e.name).attr({class:"context-checkboxAndImageIcon-text"});i.append(c),this.append(i),this.addClass("context-checkboxAndImageIcon"),e.callback=function(e,t,n){return a(n.target).hasClass("context-menu-item")&&o.trigger("click"),!1}}},"9OtSiYa4Ad":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div class="repeatingTaskEdit"><div class="repeatingTaskEdit-repeatTypes"><div data-bind="click: function () { type(\'daily\'); }, css: { \'repeatingTaskEdit-repeatType--selected\': type() === \'daily\' }" class="repeatingTaskEdit-repeatType"><span class="repeatingTaskEdit-repeatTypeLabel">Daily</span></div><div data-bind="click: function () { type(\'weekly\'); }, css: { \'repeatingTaskEdit-repeatType--selected\': type() === \'weekly\' }" class="repeatingTaskEdit-repeatType"><span class="repeatingTaskEdit-repeatTypeLabel">Weekly</span></div><div data-bind="click: function () { type(\'monthly\'); }, css: { \'repeatingTaskEdit-repeatType--selected\': type() === \'monthly\' }" class="repeatingTaskEdit-repeatType"><span class="repeatingTaskEdit-repeatTypeLabel">Monthly</span></div><div data-bind="click: function () { type(\'yearly\'); }, css: { \'repeatingTaskEdit-repeatType--selected\': type() === \'yearly\' }" class="repeatingTaskEdit-repeatType"><span class="repeatingTaskEdit-repeatTypeLabel">Yearly</span></div></div><div class="repeatingTaskEdit-repeatTypeContent"><div data-bind="foreach: weekdays, visible: type() === \'weekly\'" class="repeatingTaskEdit-weekdays"><label class="repeatingTaskEdit-weekday"><input type="checkbox" data-bind="checked: checked, value: value" class="checkbox-input"><span class="checkbox-icon"></span><span data-bind="text: text" class="repeatingTaskEdit-weekdayLabel"></span></label></div><div data-bind="visible: type() === \'monthly\', foreach: monthDays" class="repeatingTaskEdit-monthDays"><div class="repeatingTaskEdit-monthDay"><span class="repeatingTaskEdit-bullet"></span><span class="repeatingTaskEdit-monthDayText">On the <input readonly class="repeatingTaskEdit-monthDayInput" type="text" data-bind="click: $component.monthDayInputClicked, textInput: $component.getMonthDayString($data)" />\nof the month</span>\x3c!-- ko if: $parent.monthDays().length > 1--\x3e<button data-bind="click: $component.removeMonthDayClicked" title="Remove day" class="repeatingTaskEdit-removeMonthDay icons-delete"></button>\x3c!-- /ko--\x3e\x3c!-- ko if: $index() === ($parent.monthDays().length - 1)--\x3e<button data-bind="click: $component.addMonthDayClicked" title="Add another day" class="repeatingTaskEdit-addMonthDay icons-plus"></button>\x3c!-- /ko--\x3e</div></div><div data-bind="visible: type() === \'yearly\', foreach: yearDates" class="repeatingTaskEdit-yearDates"><div class="repeatingTaskEdit-yearDate"><span class="repeatingTaskEdit-bullet"></span><span class="repeatingTaskEdit-yearDateText">On <input readonly class="repeatingTaskEdit-yearDateInput" type="text" data-bind="click: $component.yearDateInputClicked, textInput: $component.getYearDateString($data)" /></span>\x3c!-- ko if: $parent.yearDates().length > 1--\x3e<button data-bind="click: $component.removeYearDateClicked" title="Remove date" class="repeatingTaskEdit-removeYearDate icons-delete"></button>\x3c!-- /ko--\x3e\x3c!-- ko if: $index() === ($parent.yearDates().length - 1)--\x3e<button data-bind="click: $component.addYearDateClicked" title="Add another date" class="repeatingTaskEdit-addYearDate icons-plus"></button>\x3c!-- /ko--\x3e</div></div><div class="repeatingTaskEdit-row"><div class="repeatingTaskEdit-cell"><label class="repeatingTaskEdit-label"><span class="repeatingTaskEdit-labelText">Interval</span><select data-bind="value: intervalSelect, options: intervalOptions(), optionsText: \'text\',  optionsValue: \'value\'" class="repeatingTaskEdit-select repeatingTaskEdit-intervalSelect"></select></label><input type="number" min="1" placeholder="X" data-bind="textInput: intervalInput, visible: intervalInputVisible" class="repeatingTaskEdit-intervalInput"></div><div class="repeatingTaskEdit-cell repeatingTaskEdit-endDate"><label class="repeatingTaskEdit-label"><span class="repeatingTaskEdit-labelText">End</span><input type="text" data-bind="textInput: endDateRaw, dateStringValue: endDate" placeholder="Never" class="repeatingTaskEdit-endDateInput"></label></div></div>\x3c!-- ko if: sourceColumnOptions().length--\x3e<div class="repeatingTaskEdit-row"><div class="repeatingTaskEdit-cell"><label class="repeatingTaskEdit-label"><span class="repeatingTaskEdit-labelText">Start in</span><select data-bind="value: sourceColumnId, options: sourceColumnOptions(), optionsText: \'text\', optionsValue: \'value\'" class="repeatingTaskEdit-select repeatingTaskEdit-sourceColumnSelect"></select></label></div></div>\x3c!-- /ko--\x3e</div></div>'),t.join("")}},"9dWBDcFWZA":function(e,t,n){"use strict";var a=n("lRwfdXqfkY"),i=n("Zz1PBJ8Ns9"),o=n("hHlQBZdXtr"),r=n("RNfSVdyTQ7"),s=n("50u+wdY68T"),l=n("EWUDtfBmmZ"),u=n("8iHB64F76s"),c=n("nDAo/DYo3z");e.exports=function(e){function t(e){return i(e).format("HH:mm:ss")}function n(e){return r.getLocalIsoTimestamp(i(e).toDate())}var d=e.workEntryRepository,m=e.manualTimeEntryRepository,p=l(["update"]);return{on:p.on,off:p.off,showForEntry:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).positionRelativeTo,l="manualTimeEntry"===e.type,f=new a({render:function(n){return n(c,{props:{entry:function(e){return{date:i(e.startTimestamp).format("YYYY-MM-DD"),actions:function(e){if("manualTimeEntry"===e.type){var n=i(e.endTimestamp).diff(e.startTimestamp,"seconds");return[{taskName:e.taskName,from:t(e.startTimestamp),to:t(e.endTimestamp),duration:n}]}var a=e.actions;return a.map(function(n,o){var r=0===o?e.startTimestamp:a[o-1].end.timestamp,s=n.end.timestamp,l=i(s).diff(r,"seconds");return{taskName:n.taskName,from:t(r),to:t(s),duration:l}})}(e),timerMode:e.timerMode,type:e.type}}(e),positionRelativeTo:r},on:{close:this.close,update:this.update}})},methods:{close:function(){this.$destroy()},update:function(){var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function t(a){var i,r=a.startTimestamp,c=a.actions,f=a.deletedActionIndexes;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.showLoading(),i=o(e),f.forEach(function(e){i.actions.splice(e,1)}),i.startTimestamp=r,i.startTimestampLocal=n(r),l?(i.endTimestamp=c[0].endTimestamp,i.endTimestampLocal=n(c[0].endTimestamp)):c.forEach(function(e,t){i.actions[t].end.timestamp=e.endTimestamp,i.actions[t].end.timestampLocal=n(e.endTimestamp)}),!l){t.next=11;break}return t.next=9,m.updateEntryAndTask(i);case 9:t.next=13;break;case 11:return t.next=13,d.updateEntryAndTasks({originalWorkEntry:new u(e),updatedWorkEntry:new u(i)});case 13:p.emit("update",i),this.close(),s.hideLoading();case 16:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},destroyed:function(){document.body.removeChild(this.$el)}});f.$mount(),document.body.appendChild(f.$el)}}}},"9mCzW2nVKL":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n("ly9CaayYMf"),r=n("Zz1PBJ8Ns9"),s=n("8iHB64F76s"),l=n("MsGyxL+QFM"),u=n("RNfSVdyTQ7"),c=n("hHlQBZdXtr"),d=n("QFEgsXpyaj"),m=n("xtkSkzE3Vl"),p=24;e.exports=function(e){function t(e){var t={_id:e.userId,emailMD5:e.userEmailMD5,avatar:e.userAvatar,fullName:e.userFullName};return f(e).map(function(e){var a=r(e.endTimestamp).diff(e.startTimestamp,"seconds"),i="Manually added";return e.spansMultipleDays&&(i+=" ("+e.part+"/"+e.partCount+")"),Object.assign(e,{entryId:e._id,itemId:e._id+"-"+e.part,userId:t._id,userFullName:t.fullName,userEmailMD5:t.emailMD5,userAvatar:t.avatar,typeText:i,entryType:"manual",userAvatarImageUrl:h(t),from:n(e.startTimestamp),to:n(e.endTimestamp),durationSeconds:a,durationText:v(a)})})}function n(e){return u.getFriendlyTimeString(new Date(e))}function f(e){var t=e.startTimestamp,n=e.endTimestamp,a=function(e,t){var n=[],a=r(e).startOf("day"),i=r(t).format("YYYY-MM-DD");do{var o=a.format("YYYY-MM-DD");n.push(o),a.add(1,"day")}while(a.format("YYYY-MM-DD")<=i);return n}(t,n);return a.map(function(i,o){var s=t,l=n,u=r(i);return u.isSame(n,"day")||(l=u.clone().add(1,"day").toISOString()),u.isSame(t,"day")||(s=u.toISOString()),Object.assign({},e,{startTimestamp:s,endTimestamp:l,part:o+1,partCount:a.length,spansMultipleDays:a.length>1})})}function h(e){return _.getImageUrl(e,{size:p})}function v(e){var t=e<60;return l.formatTimeWithUnits(e,{showSeconds:t})}function k(e){return function(e,t){return e.reduce(function(e,t){return e+function(e){return e.durationSeconds}(t)},0)}(e)}var g=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,o,r,s=t.rootState,l=t.commit,u=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l("SET_LOADING",!0),e.next=3,C.getAllForTask(s.task.taskId);case 3:n=e.sent,a=n.workEntries,o=n.manualTimeEntries,r=c([].concat(i(a),i(o))),l("SET_TIMELOG_DATA",r),l("SET_LOADING",!1),u("refreshTotalSecondsSpentDiff");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o=t.commit,r=t.rootState,s=n.startDate,l=n.endDate;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o("SET_ADDING_ENTRY",!0),a=void 0,e.prev=2,e.next=5,T({taskId:r.task.taskId,startDate:s,endDate:l});case 5:a=e.sent;case 6:return e.prev=6,o("SET_ADDING_ENTRY",!1),e.finish(6);case 9:i=x.getById(y),Object.assign(a,{userFullName:i.fullName,userEmailMD5:i.emailMD5,userAvatar:c(i.avatar)}),o("ADD_ENTRY",a);case 12:case"end":return e.stop()}},e,this,[[2,,6,9]])}));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a=t.taskId,i=t.startDate,o=t.endDate;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.getTaskById(a),e.abrupt("return",D.saveEntryAndUpdateTask({type:"manualTimeEntry",boardId:I,boardName:w,userId:y,taskId:a,taskName:n.name,createdTimestamp:(new Date).toISOString(),startTimestamp:i.toISOString(),startTimestampLocal:u.getLocalIsoTimestamp(i),endTimestamp:o.toISOString(),endTimestampLocal:u.getLocalIsoTimestamp(o)}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),y=e.userId,I=e.boardId,w=e.boardName,x=e.userRepository,C=e.timeEntryRepository,D=e.manualTimeEntryRepository,S=e.taskRepository,E=e.workEntryRepository,_=e.userAvatarHelper,M=e.editTimeEntryDialog,R=void 0;return{namespaced:!0,state:{loading:!1,timeLogData:[],addingEntry:!1,totalSecondsSpentDiff:0},getters:{dateGroups:function(e,t,n){var a=o(t.entries,function(e){return r(e.startTimestamp).format("YYYY-MM-DD")}),i=Object.keys(a);return i.sort(),i.reverse(),i.map(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],a=t.slice().sort(function(e,t){return e.startTimestamp.localeCompare(t.startTimestamp)}),i=u.parseIsoDateString(e),o=u.friendlyDateString(i,{friendlyTodayAndYesterday:!0,now:n}),r=k(a);return{dateString:e,dateText:o,totalDurationSeconds:r,totalDurationText:v(r),entries:a}}(e,a[e],n.now)})},entries:function(e,a,o){var s=e.timeLogData.filter(function(e){return"manualTimeEntry"===e.type}),l=e.timeLogData.filter(function(e){return"workEntry"===e.type});return[].concat(i(function(e,t){return d(e,function(e){return function(e,t){var a={_id:e.userId,emailMD5:e.userEmailMD5,avatar:e.userAvatar,fullName:e.userFullName},i=function(e){var t=e.actions,n=t[t.length-1].end.disturbanceInfo;return n?n.type:null}(e),o=e.actions,s=[];return o.forEach(function(l,u){if(l.taskId===t){var c=0===u?e.startTimestamp:o[u-1].end.timestamp,d=l.end.timestamp;f(Object.assign({},e,{startTimestamp:c,endTimestamp:d})).forEach(function(t){var l=r(t.endTimestamp).diff(t.startTimestamp,"seconds"),u="pomodoro"===e.timerMode?"Pomodoro":"Stopwatch";t.spansMultipleDays&&(u+=" ("+t.part+"/"+t.partCount+")"),s.push(Object.assign(t,{entryId:t._id,itemId:t._id+"-"+t.part,userId:a._id,userFullName:a.fullName,userEmailMD5:a.emailMD5,userAvatar:a.avatar,entryType:e.timerMode,typeText:u,disturbanceReason:i,userAvatarImageUrl:h(a),from:n(t.startTimestamp),to:n(t.endTimestamp),durationSeconds:l,durationText:v(l),involvesMultipleTasks:o.length>1}))})}}),s}(e,t)})}(l,o.task.taskId)),i(d(s,t)))}},mutations:{SET_LOADING:function(e,t){e.loading=t},SET_TIMELOG_DATA:function(e,t){e.timeLogData=t},REPLACE_ENTRY:function(e,t){var n=e.timeLogData.findIndex(function(e){return e._id===t._id});e.timeLogData.splice(n,1,t)},REMOVE_ENTRY:function(e,t){e.timeLogData.splice(t,1)},ADD_ENTRY:function(e,t){e.timeLogData.push(t)},SET_ADDING_ENTRY:function(e,t){e.addingEntry=t},SET_TOTAL_SECONDS_SPENT_DIFF:function(e,t){e.totalSecondsSpentDiff=t}},actions:{init:function(e){e.rootState;var t=e.commit;R=function(e){t("REPLACE_ENTRY",e)},M.on("update",R)},destroy:function(){M.off("update",R)},loadTimeEntries:g,refreshTotalSecondsSpentDiff:function(e){var t=e.rootState,n=e.commit,a=k(e.getters.entries);n("SET_TOTAL_SECONDS_SPENT_DIFF",t.task.totalSecondsSpent-a)},addTimeEntry:b,editTimeEntry:function(e,t){var n=e.state,a=t.entryId,i=t.target,o=n.timeLogData.find(function(e){return e._id===a});M.showForEntry(o,{appendTo:".appendWrapper",positionRelativeTo:i})},deleteTimeEntry:function(e,t){var n=e.state,a=e.commit,i=n.timeLogData.findIndex(function(e){return e._id===t}),o=c(n.timeLogData[i]);"manualTimeEntry"===o.type?D.deleteEntryAndUpdateTask(o):"workEntry"===o.type&&E.deleteEntryAndUpdateTasks(new s(o)),a("REMOVE_ENTRY",i)},exportToExcel:function(e){var t=e.getters;m.toExcel(t.entries.map(function(e){return{typeText:e.typeText,userFullName:e.userFullName,durationSeconds:e.durationSeconds,startTimestamp:e.startTimestamp,fromText:e.from,toText:e.to}}))}}}}},"9nJm49KDlC":function(e,t,n){"use strict";function a(e,t){if(!(this instanceof a))return new a(e,t);-1===e.indexOf(".")&&(a.isOggSupported()?e+=".ogg":a.isMp3Supported()?e+=".mp3":a.isAacSupported()&&(e+=".m4a"));var n={play:function(){},pause:function(){},loop:!1,volume:0,addEventListener:function(){},removeEventListener:function(){}};if(void 0!==window.Audio)try{this._audio=new window.Audio,t&&(this._audio.preload="auto")}catch(e){this._audio=n}else this._audio=n;this._audio.src=e,this._fadeToken=null,this._everyToken=null}var i=n("yKS169xhxh");a.prototype.play=function(){this.setCurrentTime(0),this._audio.play()},a.prototype.softPlay=function(e){this.setVolume(0),this.play(),this.fadeTo(e,2e3)},a.prototype.setCurrentTime=function(e){try{this._audio.currentTime=e}catch(e){}},a.prototype.pause=function(){this._audio.pause()},a.prototype.stop=function(){this._clearAll(),this.pause(),this.setCurrentTime(0)},a.prototype.setVolume=function(e){this._audio.volume=e},a.prototype.setLoopEnabled=function(e){var t=this,n=function(){t.setCurrentTime(0),t._audio.play()};"boolean"==typeof t._audio.loop?t._audio.loop=e:e?t._audio.addEventListener("ended",n,!1):t._audio.removeEventListener("ended",n,!1)},a.prototype.playEvery=function(e){var t=this;t._clearEvery(),t._everyToken=i.nowAndEvery(e,function(){t.play()})},a.prototype.playTimes=function(e,t){var n=this;n._clearEvery(),n._everyToken=i.times({times:t,delay:e,startDirectly:!0},function(){n.play()})},a.prototype._clearEvery=function(){this._everyToken&&(i.clear(this._everyToken),this._everyToken=null)},a.prototype.fadeTo=function(e,t){var n=this,a=n._audio,o=a.volume,r=e-o;if(0!==r){n._clearFade();var s=Date.now();n._fadeToken=i.every(100,function(){var i=Date.now()-s;if(i>=t)n._clearFade(),a.volume=e,0===e&&n.stop();else{var l=i/t*r;a.volume=o+l}})}},a.prototype._clearFade=function(){this._fadeToken&&(i.clear(this._fadeToken),this._fadeToken=null)},a.prototype._clearAll=function(){this._clearFade(),this._clearEvery()},function(){var e=!1,t=!1,n=!1,i=!1;try{var o=document.createElement("audio");(e=!!o.canPlayType)&&(t=!(!o.canPlayType||!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")),n=!(!o.canPlayType||!o.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,"")),i=!(!o.canPlayType||!o.canPlayType("audio/mpeg;").replace(/no/,"")))}catch(e){window.console&&window.console.log(e)}a.isSoundSupported=function(){return e},a.isOggSupported=function(){return t},a.isAacSupported=function(){return n},a.isMp3Supported=function(){return i}}(),e.exports=a},"9ocJ63fZS/":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"A+grE0WUWC":function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}},A3RAZ4DNb3:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{elementClass:"editPointsEstimate",title:e.isEdit?"Edit estimate":"Add estimate",appendTo:".appendWrapper",position:e.position},on:{saveRequested:e.done,closed:e.close}},[n("div",{staticClass:"taskDetails-formRow editPointsEstimate-inputRow"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.points,expression:"points",modifiers:{number:!0}},{name:"focus-mouse",rawName:"v-focus-mouse"}],staticClass:"editPointsEstimate-input taskDetails-formInput",attrs:{type:"number",placeholder:"0"},domProps:{value:e.points},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.done(t)},input:function(t){t.target.composing||(e.points=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v("\n        points\n    ")]),e._v(" "),n("div",{staticClass:"taskDetails-formButtons taskDetails-formRow"},[e.isEdit?n("button",{staticClass:"taskDetails-formCell button button--danger",on:{click:e.deleteClick}},[e._v("\n            Delete\n        ")]):e._e(),e._v(" "),n("button",{staticClass:"taskDetails-formCell taskDetails-formCell--right button button--success",on:{click:e.done}},[e._v("\n            "+e._s(e.isEdit?"Update":"Add")+"\n        ")])])])},staticRenderFns:[]}},"A4/NNxvQCJ":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div data-bind="stopBindingBelow: true"><div data-bind="style: style, visible: visible, clickOutsideToClose: { showing: visible }" class="repeatingTaskEdit-monthDayEdit repeatingTaskEdit-popOver"><div class="repeatingTaskEdit-popOver-arrow"></div><div class="repeatingTaskEdit-popOver-row"><input type="radio" name="repeatingTaskEdit-monthDayEdit-type" value="dayOfMonth" data-bind="checked: type" class="repeatingTaskEdit-monthDayEdit-type"><span data-bind="click: dayOfMonthRowClicked">Day\n <select class="repeatingTaskEdit-monthDayEdit-dayOfMonth repeatingTaskEdit-select" data-bind="value: dayOfMonth, options: dayOfMonthOptions, optionsText: \'text\', optionsValue: \'value\', hasFocus: dayOfMonthFocus"></select></span></div><div class="repeatingTaskEdit-popOver-row"><input type="radio" name="repeatingTaskEdit-monthDayEdit-type" value="orderWeekday" data-bind="checked: type" class="repeatingTaskEdit-monthDayEdit-type"><span data-bind="click: orderWeekdayRowClicked">The\n <select class="repeatingTaskEdit-monthDayEdit-order repeatingTaskEdit-select" data-bind="value: order, options: orderOptions, optionsText: \'text\', optionsValue: \'value\', hasFocus: orderFocus"></select>\n <select class="repeatingTaskEdit-monthDayEdit-dayOfWeek repeatingTaskEdit-select" data-bind="value: dayOfWeek, options: dayOfWeekOptions, optionsText: \'text\', optionsValue: \'value\'"></select></span></div></div></div>'),t.join("")}},A8RVBBuxll:function(e,t,n){var a=n("3w4yJBMT7d");e.exports=function(e){return null==e?"":a(e)}},AInAtMgnVp:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n("SJI6FcOvAZ"),s=r.mapActions,l=r.mapState,u=r.createNamespacedHelpers("labels"),c=u.mapActions,d=u.mapGetters,m=n("utzbvpgxGf"),p=n("LID5hgrivl").$$;n("EyP3jztVoF"),e.exports={data:function(){return{menuItemIndex:-1,focusLabelOnMenuHide:!1,focusAddButtonOnDone:!1}},computed:o({},l(["readOnly"]),d(["visibleLabels"])),methods:o({},s(["updateTask"]),c(["setLabelPinnedAtIndex","deleteLabelAtIndex","showLabelsDialog"]),{getSortableOptions:function(){return{draggable:".taskDetails-labels-item",group:".taskDetails-labels",ghostParent:document.body,scroll:!1,delay:220}},onLabelDragUpdate:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){var n,o,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat(a(this.visibleLabels)),o=n.splice(t.oldIndex,1),r=i(o,1),s=r[0],n.splice(t.newIndex,0,s),e.next=5,this.updateTask({labels:n});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),showAddLabel:function(){this.showLabelsDialog({position:this.getDialogPositionRelativeToAddButton(),onClose:this.focusAddButtonIfApplicable})},showAddLabelFromKeyboard:function(){this.focusAddButtonOnDone=!0,this.showAddLabel()},getDialogPositionRelativeToAddButton:function(){return{my:"left top",at:"left bottom+2px",of:this.$refs.addLabel}},getElementForLabelAtIndex:function(e){return p(".taskDetails-labels-item")[e]},getLabelMenuPosition:function(){return{my:"left top",at:"left bottom+2px",of:this.getElementForLabelAtIndex(this.menuItemIndex)}},pinLabelAtIndex:function(e){this.setLabelPinnedAtIndex({index:e,pinned:!0})},unpinLabelAtIndex:function(e){this.setLabelPinnedAtIndex({index:e,pinned:!1})},showMenuForLabel:function(e){this.readOnly||(this.menuItemIndex=e)},showMenuForLabelFromKeyboard:function(e){this.readOnly||(this.focusLabelOnMenuHide=!0,this.showMenuForLabel(e))},focusAddButtonIfApplicable:function(){this.focusAddButtonOnDone&&(this.focusAddButtonOnDone=!1,this.$refs.addLabel.focus())},hideMenu:function(){this.focusLabelOnMenuHide&&(this.focusLabelOnMenuHide=!1,this.getElementForLabelAtIndex(this.menuItemIndex).focus()),this.menuItemIndex=-1},getLabelClasses:function(e){var t=["taskDetails-labels-item taskDetails-focusableProperty"];return e.pinned&&t.push("taskDetails-labels-item--pinned"),this.readOnly&&t.push("taskDetails-labels-item--readOnly"),t}}),components:{"kf-menu":m}}},ATkpfOX3XK:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n("0iPhQ5GI5H"),o=n("TS0ILVVaKW"),r=n("9nJm49KDlC"),s=n("e9xRBbbPG2"),l=n("MsGyxL+QFM"),u=n("EWUDtfBmmZ");n("5NmzUcivbB"),n("1uxCB6qLdY"),e.exports=function(e){function t(){me.touchModeBar.expanded(!0),z.firstTimeTouchModeHelpShowed(),document.removeEventListener("touchstart",t)}function n(){return me.searchInputFocus()||me.searchInputText().length>0}function c(){return!me.timerVisible()&&me.timerRunning()}function d(){return c()&&me.timerClockTotalSeconds()>=3600}function m(){return c()?l.formatTimeWithColons(me.timerClockTotalSeconds()):"Timer"}function p(e){e&&v("reports")}function f(e){e&&v("misc")}function h(e){e&&v("filter")}function v(e){"filter"!==e&&$.hide(),"reports"!==e&&me.toolbarMenus.reports.visible(!1),"misc"!==e&&me.toolbarMenus.misc.visible(!1)}function k(e){z.setTouchModeBarExpanded(e),pe.trigger("heightChange")}function g(e){e?z.showColorLegend():z.hideColorLegend(),pe.trigger("heightChange")}function b(e){e?z.soundEnabled():z.soundDisabled()}function T(e){if(e){var t=G.getClockTotalSeconds();me.timerClockTotalSeconds(t),G.on("workClockTotalSecondsChanged",y)}else G.off("workClockTotalSecondsChanged",y)}function y(e){me.timerClockTotalSeconds(e)}function I(){me.soundEnabled(!me.soundEnabled())}function w(){$.toggleVisibility()}function x(){me.timerVisible()?G.hide():G.show()}function C(){var e=me.toolbarMenus.reports;e.visible(!e.visible())}function D(){var e=me.toolbarMenus.misc;e.visible(!e.visible())}function S(){ee.showPrint()}function E(){ne.toggleShow()}function _(){Q.show()}function M(){J.show()}function R(){Z.show()}function O(){X.show()}function A(){ee.showThroughput()}function N(){ee.showPomodoroStatistics()}function F(){ee.showTimeSpentReport()}function L(){ee.showEstimateReport()}function P(){ee.showTaskCountReport()}function B(){j(),me.colorLegend.expanded(!me.colorLegend.expanded())}function V(){me.touchModeBar.expanded(!me.touchModeBar.expanded())}function H(){me.touchModeBar.expanded(!1)}function U(){ae.show()}function W(){ae.show()}function j(){me.colorLegend.colors().length||(K(),q.on("change",K),setTimeout(function(){i(".board-colorLegendIcon").powerTip({smartPlacement:!0})},100))}function K(){me.colorLegend.colors([]),q.getEnabledColors().forEach(function(e){var t=i("<div/>");t.append(i("<strong/>",{text:e.showName})),t.append(document.createElement("br"));var n=s.createElementFromText(e.description,{enableLineBreaks:!0});t.append(n),me.colorLegend.colors.push({showName:e.showName,value:e.value,infoIconVisible:e.description.length>0,tooltipHtml:t.html()})})}var G=e.workTimerDialog,z=e.userBoardSettingsRepository,Y=e.userPermissionService,$=e.boardFilterDialog,q=e.boardColorRepository,Q=e.exportDialog,J=e.importDialog,Z=e.massUpdateTasksDialog,X=e.recycleBinDialog,ee=e.reportLoader,te=e.boardSearchDialog,ne=e.assistanceDialog,ae=e.premiumInfoDialog,ie=e.isPremium,oe=e.estimationType,re=r.isSoundSupported(),se=ie&&Y.canAddTasks(),le=ie&&Y.canMassUpdateTasks(),ue=Y.canRestoreTasks(),ce=z.hasShowedFirstTimeTouchModeHelp(),de=null,me=null,pe=u.createStandalone(["heightChange"]);return{on:pe.on,off:pe.off,init:function(){de=i("#board-footer"),function(){var e=te;e&&e.initForInput("#toolbar-searchInput")}(),(me=o.mapping.fromJS({soundEnabled:z.isSoundEnabled(),showTimer:Y.canUseTimer(),colorLegend:{expanded:z.isColorLegendVisible(),colors:[]},touchModeBar:{expanded:ce&&z.isTouchModeBarExpanded()},searchInputFocus:!1,searchInputText:"",timerVisible:G.isShowing(),timerRunning:!1,timerClockTotalSeconds:0})).searchInputFocusOrHasText=o.pureComputed(n),me.timerButtonHasClockText=o.pureComputed(c),me.timerButtonHasClockTextWithHours=o.pureComputed(d),me.timerButtonText=o.pureComputed(m),$.initAndExtendModel(me),me.filter.expanded.subscribe(h),Object.assign(me,{filterButtonClicked:w,timerClicked:x,reportsClicked:C,miscClicked:D,assistanceClicked:E,hideTouchModeBarClicked:H,premiumInfoClicked:U,toolbarMenus:{reports:o.mapping.fromJS({visible:!1,focus:!1,title:"Reports",sections:function(){var e={itemText:"Pomodoro statistics",itemClicked:N,itemIcon:"toolbar-pomodoroStatistics"},t={itemText:"Print",itemClicked:S,itemIcon:"toolbar-print"};return ie?[{items:[{itemText:"Board history",itemClicked:function(){ee.showBoardHistory()},itemIcon:"toolbar-history"},{itemText:"Burndown",itemClicked:function(){ee.showBurndown()},itemIcon:"toolbar-burndown"},{itemText:"Calendar",itemClicked:function(){ee.showBoardCalendar()},itemIcon:"toolbar-calendar"},{itemText:"Cumulative flow",itemClicked:function(){ee.showCumulativeFlow()},itemIcon:"toolbar-cumulativeFlow"},{itemText:"Cycle & lead time",itemClicked:function(){ee.showCycleAndLeadTime()},itemIcon:"toolbar-cycleAndLeadTime"},{itemText:"Forecasting",itemClicked:function(){ee.showForecasting()},itemIcon:"toolbar-forecasting"}].concat(a("points"===oe?[{itemText:"Points estimate",itemClicked:L,itemIcon:"toolbar-timeEstimateReport"}]:[]),[e,{itemText:"Task count",itemClicked:P,itemIcon:"toolbar-taskCountReport"},{itemText:"Throughput",itemClicked:A,itemIcon:"toolbar-throughput"}],a("time"===oe?[{itemText:"Time estimate",itemClicked:L,itemIcon:"toolbar-timeEstimateReport"}]:[]),[{itemText:"Time spent",itemClicked:F,itemIcon:"toolbar-timeSpentReport"}])},{items:[{itemText:"Export",itemClicked:_,itemIcon:"toolbar-export"},t]}]:[{items:[e]},{items:[t]},{items:[{itemHtml:'<span class="toolbar-premiumItem">\n                More available in <span class="toolbar-premiumLink">Premium</span>\n            </span>',itemClicked:W}]}]}(),defaultKeyboardContext:"board",position:{my:"center bottom",at:"center top",of:".toolbar-reportsButton"}}),misc:o.mapping.fromJS({visible:!1,focus:!1,title:"Miscellaneous",sections:function(){var e=[],t=[{items:e}];re&&e.push({itemText:"Sound",itemClicked:I,itemIcon:"toolbar-sound",toggle:me.soundEnabled}),e.push({itemText:"Color legend",itemClicked:B,itemIcon:"toolbar-color",toggle:me.colorLegend.expanded}),ce&&e.push({itemText:"Touch help",itemClicked:V,itemIcon:"toolbar-touchModeBar",toggle:me.touchModeBar.expanded});var n=[];return le&&n.push({itemText:"Mass update",itemClicked:R,itemIcon:"toolbar-massUpdate"}),se&&n.push({itemText:"Import",itemClicked:M,itemIcon:"toolbar-import"}),ue&&n.push({itemText:"Recycle bin",itemClicked:O,itemIcon:"toolbar-recycleBin"}),n.length&&t.push({items:n}),t}(),defaultKeyboardContext:"board",position:{my:"center bottom",at:"center top",of:".toolbar-miscButton"}})}}),me.touchModeBar.expanded.subscribe(k),me.colorLegend.expanded.subscribe(g),me.soundEnabled.subscribe(b),me.toolbarMenus.reports.visible.subscribe(p),me.toolbarMenus.misc.visible.subscribe(f),me.timerButtonHasClockText.subscribe(T),o.applyBindings(me,de[0]),G.on("show hide",function(){var e=G.isShowing();me.timerVisible(e)}),G.on("workStarted",function(){me.timerRunning(!0)}),G.on("workStopped",function(){me.timerRunning(!1)}),z.hasShowedFirstTimeTouchModeHelp()||document.addEventListener("touchstart",t),z.isColorLegendVisible()&&(j(),pe.trigger("heightChange")),de.find(".toolbar-left, .toolbar-right").show()},getOuterHeight:function(){return de.outerHeight()},hasSearchInput:function(){return!!te},focusSearchInput:function(){me.searchInputFocus(!0)},showFilter:function(){$.show()},showReportsMenu:function(){me.toolbarMenus.reports.visible(!0)},showMiscMenu:function(){me.toolbarMenus.misc.visible(!0)},showAssistanceDialog:function(){ne.show()},showPremiumInfoDialog:W,_getModel:function(){return me}}}},ATlyrcMnUp:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n("OxR0S1vMsg")),r=(a(n("QjfnQW0X1l")),a(n("t/zkyO3piH"))),s=a(n("wK5dsQjYHe")),l=(a(n("heLhFGELzy")),a(n("2JJlSkUcHj"))),u=["handleChange","handleEnter","handleEsc","handleHit","handleMove","handleSelect"],c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.completer=new o.default,a.isQueryInFlight=!1,a.nextPendingQuery=null,a.dropdown=new r.default(n.dropdown||{}),a.editor=e,a.options=n,u.forEach(function(e){a[e]=a[e].bind(a)}),a.startListening(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.completer.destroy(),this.dropdown.destroy(),e&&this.editor.destroy(),this.stopListening(),this}},{key:"register",value:function(e){var t=this;return e.forEach(function(e){t.completer.registerStrategy(new s.default(e))}),this}},{key:"trigger",value:function(e){return this.isQueryInFlight?this.nextPendingQuery=e:(this.isQueryInFlight=!0,this.nextPendingQuery=null,this.completer.run(e)),this}},{key:"handleHit",value:function(e){var t=e.searchResults;t.length?this.dropdown.render(t,this.editor.getCursorOffset()):this.dropdown.deactivate(),this.isQueryInFlight=!1,null!==this.nextPendingQuery&&this.trigger(this.nextPendingQuery)}},{key:"handleMove",value:function(e){"UP"===e.detail.code?this.dropdown.up(e):this.dropdown.down(e)}},{key:"handleEnter",value:function(e){var t=this.dropdown.getActiveItem();t?(this.dropdown.select(t),e.preventDefault()):this.dropdown.deactivate()}},{key:"handleEsc",value:function(e){this.dropdown.shown&&(this.dropdown.deactivate(),e.preventDefault())}},{key:"handleChange",value:function(e){null!=e.detail.beforeCursor?this.trigger(e.detail.beforeCursor):this.dropdown.deactivate()}},{key:"handleSelect",value:function(e){this.emit("select",e),e.defaultPrevented||this.editor.applySearchResult(e.detail.searchResult)}},{key:"startListening",value:function(){var e=this;this.editor.on("move",this.handleMove).on("enter",this.handleEnter).on("esc",this.handleEsc).on("change",this.handleChange),this.dropdown.on("select",this.handleSelect),["show","shown","render","rendered","selected","hidden","hide"].forEach(function(t){e.dropdown.on(t,function(){return e.emit(t)})}),this.completer.on("hit",this.handleHit)}},{key:"stopListening",value:function(){this.completer.removeAllListeners(),this.dropdown.removeAllListeners(),this.editor.removeListener("move",this.handleMove).removeListener("enter",this.handleEnter).removeListener("esc",this.handleEsc).removeListener("change",this.handleChange)}}]),t}();t.default=c},ApCUErkR1W:function(e,t,n){var a=n("atbVa1nXN1"),i=n("tg/sT0jPcV"),o=n("lW7lJLb+/N"),r=n("p/0cqC9K/5");e.exports=function(e,t){return function(n,s){var l=r(n)?a:i,u=t?t():{};return l(n,e,o(s,2),u)}}},AqMAFbIv7e:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.taskClasses,attrs:{"data-taskId":e.task.taskId,"data-taskSettings":e.taskSettingsJson,title:e.taskTitle},on:{click:e.taskClick,"highlight-task":e.highlightTask}},[n("span",{staticClass:"task-name",domProps:{innerHTML:e._s(e.taskNameHtml)}}),e._v(" "),e.hasIcons?n("div",{staticClass:"task-iconRow"},[n("div",{staticClass:"task-icons"},[e.hasDescription?n("i",{staticClass:"task-icon task-descriptionIcon",attrs:{title:"Has description. Click to expand or collapse."},on:{click:function(t){t.stopPropagation(),e.descriptionIconClick(t)}}}):e._e(),e._v(" "),e.hasValidRepeatingDate?n("i",{staticClass:"task-icon task-dueDateRepeatIcon",attrs:{title:e.repeatingDueDate.description+"\nClick to show or hide next due date."},on:{click:function(t){t.stopPropagation(),e.dueDateIconClick(t)}}}):e.hasValidDates?n("i",{staticClass:"task-icon task-dueDatesIcon",attrs:{title:"Has due dates. Click to expand or collapse."},on:{click:function(t){t.stopPropagation(),e.dueDateIconClick(t)}}}):e._e(),e._v(" "),e.hasSubTasks?n("i",{staticClass:"task-icon task-subTasksIcon",attrs:{title:"Has subtasks. Click to expand or collapse."},on:{click:function(t){t.stopPropagation(),e.subTasksIconClick(t)}}}):e._e(),e._v(" "),e.task.hasRelations?n("i",{staticClass:"task-icon task-relationsIcon",attrs:{title:"Has relations. Click to view relations."},on:{click:function(t){t.stopPropagation(),e.relationsIconClick(t)}}}):e._e(),e._v(" "),e.task.hasAttachments?n("i",{staticClass:"task-icon task-attachmentsIcon",attrs:{title:"Has attachments. Click to view attachments."},on:{click:function(t){t.stopPropagation(),e.attachmentsIconClick(t)}}}):e._e(),e._v(" "),e.task.hasComments?n("i",{staticClass:"task-icon task-commentsIcon",attrs:{title:"Has comments. Click to view comments."},on:{click:function(t){t.stopPropagation(),e.commentsIconClick(t)}}}):e._e(),e._v(" "),e.task.pointsEstimate?n("div",{staticClass:"task-estimate",attrs:{title:"Estimate: "+e.task.pointsEstimate+" points"}},[e._v("\n                "+e._s(e.task.pointsEstimate)+"\n            ")]):e._e(),e._v(" "),e.timeElementVisible?n("div",{staticClass:"task-timeWrapper",attrs:{title:e.timeElementTitle}},[n("i",{staticClass:"task-icon task-timerIcon"}),e._v(" "),n("div",{staticClass:"task-time",domProps:{innerHTML:e._s(e.timeElementHtml)}})]):e._e()]),e._v(" "),e.hasIcons&&e.hasAvatars?n("div",{staticClass:"task-iconFlexSpacer"}):e._e(),e._v(" "),e.hasAvatars?n("div",{staticClass:"task-avatars"},e._l(e.task.userAvatars,function(t){return n("user-avatar",{key:t.memberId,attrs:{model:t,color:e.task.color},nativeOn:{click:function(n){n.stopPropagation(),e.avatarClick(t,n)}}})})):e._e()]):e.hasAvatars?[n("div",{staticClass:"task-avatars"},e._l(e.task.userAvatars,function(t){return n("user-avatar",{key:t.memberId,attrs:{model:t,color:e.task.color},nativeOn:{click:function(n){n.stopPropagation(),e.avatarClick(t,n)}}})})),e._v(" "),n("div",{staticStyle:{clear:"both"}})]:e._e(),e._v(" "),e.task.forecast&&!e.task.forecast.disabled?n("div",{staticClass:"task-forecastedDate"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.task.forecast.tooltipHtml,expression:"task.forecast.tooltipHtml"}]},[e._v("\n            Forecast: "),n("strong",[e._v(e._s(e.task.forecast.dateText))]),e._v(" "),e.task.forecast.warningIconVisible?n("i",{staticClass:"task-forecastedDateWarningIcon icons-warning icons-gray"}):e._e()])]):e._e(),e._v(" "),e.hasDescription&&e.task.descriptionVisible?n("div",{staticClass:"task-description markdown",domProps:{innerHTML:e._s(e.descriptionHtml)}}):e._e(),e._v(" "),e.hasLabels?[e.task.allLabelsVisible?n("ul",{staticClass:"task-labels"},e._l(e.task.labels,function(t){return n("li",{key:t.name,class:["task-label",{"task-labelPinned":t.pinned}]},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e.hasPinnedLabels?n("ul",{staticClass:"task-labels"},e._l(e.pinnedLabels,function(t){return n("li",{key:t.name,staticClass:"task-label task-labelPinned"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]:e._e(),e._v(" "),e.hasDueDatesToShow?n("ul",{staticClass:"task-dueDates"},e._l(e.dueDatesToShow,function(t){return n("li",{key:t.targetColumnId,class:e.getDueDateClass(t)},[e._v("\n            Due: "),n("strong",[e._v(e._s(e.formatDueDateTimeString(t)))]),e._v(" "),n("span",{staticClass:"task-dueDateColumn"},[e._v("("+e._s(e.formatTextMaxLength(t.targetColumnName,15))+")")])])})):e._e(),e._v(" "),e.subTasksVisible?n("ul",{staticClass:"subTasks"},[e._l(e.subTasksToShow,function(t){return n("li",{class:e.getSubTaskClasses(t),attrs:{"t-id":"task-subTask"},on:{transitionend:function(n){e.onSubTaskFadeOutDone(t)},transitioncancel:function(n){e.onSubTaskFadeOutDone(t)}}},[n("label",{on:{click:function(n){n.stopPropagation(),n.preventDefault(),e.subTaskClick(t,n)}}},[n("input",{attrs:{type:"checkbox",disabled:e.task.subTasksReadOnly},domProps:{checked:t.finished||t.fadeOut},on:{click:function(e){e.preventDefault()}}}),e._v(" "),n("div",{staticClass:"icons-checkbox"}),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.getSubTaskNameHtml(t))},on:{click:e.subTaskNameClick}})])])}),e._v(" "),e.hiddenSubTasksText?n("li",{staticClass:"subTasks-hiddenSubTasksText-wrapper"},[n("span",{staticClass:"subTasks-hiddenSubTasksText",attrs:{title:e.hiddenSubTasksTitle},on:{click:function(t){t.stopPropagation(),e.hiddenSubTasksTextClick(t)}}},[e._v("\n                "+e._s(e.hiddenSubTasksText)+"\n            ")])]):e._e()],2):e._e()],2)},staticRenderFns:[]}},AqWeHAMowo:function(e,t,n){"use strict";function a(e,t){return"\n        "+(e[t+"-top"]||0)+"\n        "+(e[t+"-right"]||0)+"\n        "+(e[t+"-bottom"]||0)+"\n        "+(e[t+"-left"]||0)+"\n    "}var i=n("lRwfdXqfkY"),o=n("zCnJNEeu5Z").encode;e.exports={props:{value:{type:String,required:!0},settings:{type:Object,required:!0}},data:function(){return{textareaElement:null,highlightsStyles:{}}},computed:{highlightedHtml:function(){var e=this.settings.matchCandidates.map(function(e){return function(e){return e.replace(/[\-\[\]\/{}()*+?.\\^$|]/g,"\\$&")}(e)}).join("|"),t=new RegExp("("+e+")","g");return o(this.value).replace(/\n$/g,"\n\n").replace(t,"<mark>$&</mark>")}},methods:{onScroll:function(){var e=this.textareaElement.scrollTop;this.$refs.backdrop.scrollTop=e;var t=this.textareaElement.scrollLeft;this.$refs.backdrop.scrollLeft=t},applyStylesToHighlights:function(){var e=window.getComputedStyle(this.textareaElement,null);if(this.highlightsStyles={fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,padding:a(e,"padding"),margin:a(e,"margin"),overflow:e.overflow},/ipad|iphone|ipod/.test(window.navigator.userAgent.toLowerCase())){var t=parseInt(e.paddingLeft,10)+3;this.highlightsStyles.paddingLeft=t+"px";var n=parseInt(e.paddingRight,10)+3;this.highlightsStyles.paddingRight=n+"px"}}},mounted:function(){this.$slots.default?this.textareaElement=this.$slots.default[0].elm:this.textareaElement=this.$refs.textarea,i.nextTick(this.applyStylesToHighlights),this.textareaElement.addEventListener("scroll",this.onScroll)},destroyed:function(){this.textareaElement.removeEventListener("scroll",this.onScroll)}}},AuW5ZH3K7f:function(e,t,n){"use strict";var a=n("+MggfNdiO2");e.exports=function(e){function t(e){var t=i[e],o=n[e];return function(e){if(e in t)throw new Error("Currently only one repository per task is supported");var n=a({taskId:e,ajaxFacade:o});t[e]=t[e]||[];var i=t[e];return i.push(n),n.on("destroy",function(){var a=i.indexOf(n);i.splice(a,1),0===i.length&&delete t[e]}),n}}var n={comment:e.taskCommentAjaxFacade,relation:e.taskRelationAjaxFacade},i={comment:{},relation:{}};return{createCommentRepository:t("comment"),getCommentRepositoriesForTaskId:function(e){return i.comment[e]||[]},createRelationRepository:t("relation"),getRelationRepositoriesForTaskId:function(e){return i.relation[e]||[]},localResetAll:function(){Object.keys(i).forEach(function(e){var t=i[e];Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.localReset()})})})}}}},"B/NjbiFWsT":function(e,t,n){var a=n("nhsleiWslW"),i=n("0J1ocNnKYP"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},B8X2miHZHW:function(e,t,n){var a=n("UuxzYNRyeK");e.exports=function(e){var t=[],n=e||{};return function(e){t.push('<div data-bind="visible: premiumInfoView() === \'compareMatrix\'" class="premiumInfoDialog-compareMatrix"><table class="premiumInfoDialog-compareMatrix-table"><thead><tr><th class="premiumInfoDialog-compareMatrix-emptyTableHeaderCell"></th><th class="premiumInfoDialog-compareMatrix-tableHeaderCell"><h3 class="premiumInfoDialog-compareMatrix-tableHeaderTitle">Free</h3></th><th class="premiumInfoDialog-compareMatrix-tableHeaderCell"><h3 class="premiumInfoDialog-compareMatrix-tableHeaderTitle">Premium</h3></th></tr></thead><tbody><tr><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span class="premiumInfoDialog-compareMatrix-featureGroupText">Kanban board</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.unlimitedBoards,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Unlimited boards</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.unlimitedTasks,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Unlimited tasks</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.wipLimits,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">WIP limits</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.subtasks,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Subtasks</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.filter,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Filter</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.recurringTasks,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Recurring tasks</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.swimlanes,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Swimlanes</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.fileAttachments,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">File attachments</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.search,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Search</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.copyBoard,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Copy board</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.taskNumbering,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Task numbering</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.relations,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Relations</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.massUpdate,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Mass update</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span class="premiumInfoDialog-compareMatrix-featureGroupText">Time management</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.stopwatchTimer,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Stopwatch timer</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.pomodoroTimer,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Pomodoro timer</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.pomodoroStatistics,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Pomodoro statistics</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.timeSpentReport,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Time spent report</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span class="premiumInfoDialog-compareMatrix-featureGroupText">Analytics & reporting</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.printView,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Print view</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.excelAndCsvExport,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Excel & CSV export</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.cumulativeFlow,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Cumulative flow</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.cycleAndLeadTime,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Cycle & Lead time</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.burndown,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Burndown</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.throughput,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Throughput</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.calendar,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Calendar</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.dashboard,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Dashboard</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.forecasting,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Forecasting</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.revisionHistory,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Revision history</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.timeEstimateReport,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Time estimate report</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.taskCountReport,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Task count report</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span class="premiumInfoDialog-compareMatrix-featureGroupText">Integrations</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.excelAndCsvImport,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Excel & CSV import</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.addTasksByEmail,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Add tasks by email</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.apiAndWebhooks,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">API & webhooks</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.calendarFeedICal,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Calendar feed / iCal</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.zapier,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Zapier</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.dropbox,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Dropbox</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.box,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Box</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.googleDrive,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Google Drive</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span class="premiumInfoDialog-compareMatrix-featureGroupText">Miscellaneous</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td><td class="premiumInfoDialog-compareMatrix-tableCell"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.backupSite,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Backup site</span></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--lacksFeature"></td><td class="premiumInfoDialog-compareMatrix-tableCell premiumInfoDialog-compareMatrix-tableCell--hasFeature"></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.supportLevel,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Support level</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"><span class="premiumInfoDialog-compareMatrix-tableCellText">Standard</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"><span class="premiumInfoDialog-compareMatrix-tableCellText">Priority</span></td></tr><tr class="premiumInfoDialog-compareMatrix-tableRow premiumInfoDialog-compareMatrix-tableRow--striped"><td class="premiumInfoDialog-compareMatrix-featurecolumnTableCell"><span'+a.attr("data-tooltip",e.boardPermissionRoles,!0,!0)+' class="premiumInfoDialog-compareMatrix-featureText">Board permission roles</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"><span class="premiumInfoDialog-compareMatrix-tableCellText">2 roles</span></td><td class="premiumInfoDialog-compareMatrix-tableCell"><span class="premiumInfoDialog-compareMatrix-tableCellText">4 roles</span></td></tr></tbody></table></div>')}.call(this,"featureTooltips"in n?n.featureTooltips:"undefined"!=typeof featureTooltips?featureTooltips:void 0),t.join("")}},BBRimJTtLK:function(e,t,n){var a=n("B/NjbiFWsT"),i=n("tQCTvyn8aV"),o=n("3til+no9ro"),r=n("p/0cqC9K/5"),s=n("LN6cGD0Ow+"),l=n("iyC2nzhlfj"),u=n("nhsleiWslW"),c=n("kwIbleHrEJ"),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!a(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},"BQ+GhsXhoL":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-members"},[e._l(e.allAvatars,function(t){return n("user-avatar",{key:t.memberId,ref:"memberAvatar-"+t.memberId,refInFor:!0,staticClass:"taskDetails-members-avatar taskDetails-focusableProperty",attrs:{model:t,color:e.task.color,tabindex:"0"},nativeOn:{click:function(n){e.showProfileDialogForAvatar(t)},keydown:[function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key)?n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:void e.showProfileDialogForAvatarFromKeyboard(t):null},function(n){return"button"in n||!e._k(n.keyCode,"space",32,n.key)?n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:(n.preventDefault(),void e.showProfileDialogForAvatarFromKeyboard(t)):null}]}})}),e._v(" "),e.readOnly?e._e():n("button",{ref:"addMember",staticClass:"taskDetails-addMemberButton taskDetails-addButton icons--button icons-plus icons-gray taskDetails-focusableProperty",on:{click:e.showAddMember,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.showAddMemberFromKeyboard(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.showAddMemberFromKeyboard(t)):null}]}})],2)},staticRenderFns:[]}},BVHt5qytOU:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("Zz1PBJ8Ns9"),o=n("rEK1kr4M5E"),r=n("RNfSVdyTQ7"),s=n("hHlQBZdXtr"),l=n("EWUDtfBmmZ");e.exports=function(e){function t(e){return i(e.endTimestamp).diff(e.startTimestamp,"seconds")}var n=function(){var e=a(regeneratorRuntime.mark(function e(n){var a,i,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.jsonPost({url:"/board/"+n.boardId+"/manual-time-entry/save-entry-and-update-task",data:n});case 2:return a=e.sent,i=n.taskId,(r=d.getTaskById(i))&&(l=(r.totalSecondsSpent||0)+t(n),d.localMergeTask({taskId:i,taskData:{totalSecondsSpent:l}})),m.emit("save",s(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark(function e(n){var a,i,l,u,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/board/"+n.boardId+"/manual-time-entry/"+n._id,e.next=3,o.get({url:a});case 3:return i=e.sent,e.next=6,o.jsonPost({url:a,data:{startTimestamp:n.startTimestamp,startTimestampLocal:r.getLocalIsoTimestamp(new Date(n.startTimestamp)),endTimestamp:n.endTimestamp,endTimestampLocal:r.getLocalIsoTimestamp(new Date(n.endTimestamp))}});case 6:l=n.taskId,(u=d.getTaskById(l))&&(c=t(n)-t(i),(p=u.totalSecondsSpent+c)<0&&(p=0),d.localMergeTask({taskId:l,taskData:{totalSecondsSpent:p}})),m.emit("update",s(n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark(function e(n){var a,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.jsonPost({url:"/board/"+n.boardId+"/manual-time-entry/"+n._id+"/delete-entry-and-update-task"});case 2:a=n.taskId,(i=d.getTaskById(a))&&i.totalSecondsSpent&&((r=i.totalSecondsSpent-t(n))<0&&(r=0),d.localMergeTask({taskId:a,taskData:{totalSecondsSpent:r}})),m.emit("delete");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=e.taskRepository,m=l.createStandalone(["save","update","delete"]);return{on:m.on,off:m.off,saveEntryAndUpdateTask:n,updateEntryAndTask:u,deleteEntryAndUpdateTask:c}}},BYkQ1afAkv:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{title:"Members",wrapperClass:"taskMembersDialog-wrapper",elementClass:"taskMembersDialog",closeOnEscape:!1,appendTo:e.dialogAppendTo,position:e.dialogPosition},on:{closed:e.close}},[n("input",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse",value:e.searchInputHasFocus,expression:"searchInputHasFocus"},{name:"model",rawName:"v-model",value:e.searchInputValue,expression:"searchInputValue"}],staticClass:"taskMembersDialog-searchInput",attrs:{type:"search",placeholder:"Search"},domProps:{value:e.searchInputValue},on:{blur:e.searchInputBlur,focus:e.searchInputFocus,input:function(t){t.target.composing||(e.searchInputValue=t.target.value)}}}),e._v(" "),e.visibleItems.length?n("div",{ref:"members",staticClass:"taskMembersDialog-list scroll scroll--horizontalHidden"},[e._l(e.visibleUsers,function(t){return n("div",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse",value:t.focus,expression:"user.focus"}],class:e.getItemClasses(t),attrs:{tabindex:"0"},on:{focus:function(n){e.itemFocus(t)},blur:function(n){e.itemBlur(t)}}},[n("label",{staticClass:"taskMembersDialog-item-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"user.selected"}],staticClass:"taskMembersDialog-item-checkbox checkbox-input",attrs:{type:"checkbox"},domProps:{value:t.userId,checked:Array.isArray(t.selected)?e._i(t.selected,t.userId)>-1:t.selected},on:{change:[function(n){var a=t.selected,i=n.target,o=!!i.checked;if(Array.isArray(a)){var r=t.userId,s=e._i(a,r);i.checked?s<0&&(t.selected=a.concat([r])):s>-1&&(t.selected=a.slice(0,s).concat(a.slice(s+1)))}else e.$set(t,"selected",o)},function(n){e.userCheckboxChange(t)}]}}),e._v(" "),n("div",{staticClass:"taskMembersDialog-item-checkboxIcon checkbox-icon"}),e._v(" "),n("div",{staticClass:"taskMembersDialog-item-avatarWrapper"},[n("img",{staticClass:"taskMembersDialog-item-avatar task-avatar",attrs:{src:t.avatarImageUrl}})]),e._v(" "),n("div",{staticClass:"taskMembersDialog-item-userInfo"},[n("div",{staticClass:"taskMembersDialog-item-fullName",attrs:{title:t.fullName}},[e._v(e._s(t.fullName))]),e._v(" "),t.role?n("div",{staticClass:"taskMembersDialog-item-role"},[e._v(e._s(t.role))]):e._e()])]),e._v(" "),n("i",{staticClass:"taskMembersDialog-moreIcon icons-more icons-gray",on:{click:function(n){e.moreClick(t)}}})])}),e._v(" "),e._l(e.visibleInvitations,function(t){return n("div",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse",value:t.focus,expression:"invitation.focus"}],class:e.getItemClasses(t),attrs:{tabindex:"0"},on:{focus:function(n){e.itemFocus(t)},blur:function(n){e.itemBlur(t)}}},[n("label",{staticClass:"taskMembersDialog-item-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"invitation.selected"}],staticClass:"taskMembersDialog-item-checkbox checkbox-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:[function(n){var a=t.selected,i=n.target,o=!!i.checked;if(Array.isArray(a)){var r=e._i(a,null);i.checked?r<0&&(t.selected=a.concat([null])):r>-1&&(t.selected=a.slice(0,r).concat(a.slice(r+1)))}else e.$set(t,"selected",o)},function(n){e.invitationCheckboxChange(t)}]}}),e._v(" "),n("div",{staticClass:"taskMembersDialog-item-checkboxIcon checkbox-icon"}),e._v(" "),n("div",{staticClass:"taskMembersDialog-item-avatarWrapper"},[n("img",{staticClass:"taskMembersDialog-item-avatar task-avatar",attrs:{src:t.avatarImageUrl}})]),e._v(" "),n("div",{staticClass:"taskMembersDialog-item-userInfo"},[n("div",{staticClass:"taskMembersDialog-item-fullName",attrs:{title:t.email}},[e._v("\n                        "+e._s(t.email)+"\n                    ")]),e._v(" "),n("div",{staticClass:"taskMembersDialog-item-role"},[e._v(e._s(t.role))])])]),e._v(" "),n("i",{staticClass:"taskMembersDialog-moreIcon icons-more icons-gray",on:{click:function(n){e.moreClick(t)}}})])})],2):n("div",{staticClass:"taskMembersDialog-noUsersFound"},[e._v("No users found")]),e._v(" "),e.footerVisible?n("div",{staticClass:"taskMembersDialog-footer"},[e.canInviteMember?[e.inviteMemberVisible?n("div",{staticClass:"taskMembersDialog-inviteMemberInputGroup"},[n("div",{staticClass:"taskMembersDialog-inviteMemberInputWrapper"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inviteMemberEmailValue,expression:"inviteMemberEmailValue",modifiers:{trim:!0}},{name:"focus-mouse",rawName:"v-focus-mouse",value:e.inviteMemberEmailFocus,expression:"inviteMemberEmailFocus"}],ref:"inviteMemberInput",staticClass:"taskMembersDialog-inviteMemberInput",attrs:{disabled:e.sendingInvite,type:"email",placeholder:"Email..."},domProps:{value:e.inviteMemberEmailValue},on:{focus:e.onInviteMemberFocus,blur:[e.onInviteMemberBlur,function(t){e.$forceUpdate()}],keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.stopPropagation(),t.preventDefault(),e.inviteMember(t)},input:function(t){t.target.composing||(e.inviteMemberEmailValue=t.target.value.trim())}}})]),e._v(" "),n("button",{staticClass:"taskMembersDialog-invite button",attrs:{disabled:e.sendingInvite},on:{click:e.inviteMember}},[e._v("\n                    Invite\n                ")])]):n("div",{staticClass:"taskMembersDialog-inviteMemberInfo"},[n("span",[e._v("Missing member?")]),e._v(" "),n("button",{staticClass:"taskMembersDialog-inviteMemberLink button button--link button--inline",on:{click:e.inviteHereClick,keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),t.stopPropagation(),e.inviteHereClick(t)}}},[e._v("\n                    Invite here\n                ")])])]:e._e(),e._v(" "),e.confirmVisible?[e.canInviteMember?n("hr",{staticClass:"taskMembersDialog-divider"}):e._e(),e._v(" "),n("i",{staticClass:"icons-info"}),e._v(" "),n("span",{staticClass:"taskMembersDialog-confirmHelp"},[e._v(e._s(e.confirmHelpText))]),e._v(" "),n("button",{staticClass:"taskMembersDialog-confirm button button--success button--large",on:{click:e.confirmClick}},[e._v("\n                "+e._s(e.confirmButtonText)+"\n            ")])]:e._e()],2):e._e()])},staticRenderFns:[]}},"BblMhK+GyB":function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}},Bd9AjJ3Q3M:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n("hHlQBZdXtr"),s=n("6Gs9Sfe3CX"),l=function(){},u=28,c={fullName:"Unknown user",avatar:{type:"initials",initialsData:{text:"?",textColor:"000000",bgColor:"ffffff"}}};e.exports=function(e){function t(e,t){Object.assign(e,{fullName:t.fullName,avatarUrl:g.getImageUrl(t,{size:u})})}function n(e,t){Object.assign(e,{displayMode:"timerUser",mode:t.mode,selectedTaskStartTimestamp:t.selectedTaskStartTimestamp,sessionStartTimestamp:t.sessionStartTimestamp,sessionEndTimestamp:t.sessionEndTimestamp,targetWorkTimeMinutes:t.targetWorkTimeMinutes,breakTimeMinutes:t.breakTimeMinutes})}function d(e,t){return{memberId:t._id,fullName:t.invitedEmail,avatarUrl:g.getImageUrlForInvitationEmail(t.invitedEmail,{size:u}),role:"Responsible"===e.role?"pending responsible":"pending"}}function m(e,t){return e.userId===t||e.boardInvitationId===t||e.organizationInvitationId===t}function p(e){var t=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)delete i.value.role}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}}var f=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o=t.dispatch,s=t.getters;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(s.task.members),p(a),i=a.find(function(e){return m(e,n)}),i.role="Responsible",e.next=6,o("updateMembers",a);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a=t.dispatch,i=t.getters;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(i.task.members),p(n),e.next=4,a("updateMembers",n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i=t.dispatch,o=t.getters;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(o.task.members).filter(function(e){return!m(e,n)}),e.next=3,i("updateMembers",a);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i=t.commit,o=t.dispatch;return t.getters,regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.fromMembers(n),i("SET_TRANSIENT_MEMBERS",null),e.next=4,o("updateTask",a,{root:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),g=e.userAvatarHelper,b=e.taskMembersDialog,T=e.taskMemberProfileDialog,y=e.timerStateController,I=e.pendingBoardInvitationRepository,w=e.pendingOrganizationInvitationRepository,x=void 0,C=void 0,D=void 0;return{namespaced:!0,state:{visible:!1,boardInvitations:r(I.getAllOrderedByEmail()),organizationInvitations:r(w.getAllOrderedByEmail()),transientMembers:null,timerClients:[],dialogVisible:!1},getters:{task:function(e,t,n){return n.task},taskColor:function(e,t){return t.task.color},allAvatars:function(e,t){var n=[].concat(i(t.memberAvatars),i(t.pendingMemberAvatars),i(t.timerOnlyUserAvatars)),a=(e.transientMembers||t.task.members).find(function(e){return"Responsible"===e.role});if(a){var r=n.findIndex(function(e){return m(a,e.memberId)}),s=n.splice(r,1),l=o(s,1)[0];n.unshift(l)}return n},memberAvatars:function(e,a){return(e.transientMembers||a.task.members).filter(function(e){return e.userId}).map(function(i){var o={memberId:i.userId,role:i.role};t(o,a.users.find(function(e){return e._id===i.userId})||c);var r=e.timerClients.find(function(e){return e.userId===i.userId});return r&&n(o,r),o}).sort(function(e,t){return e.fullName.localeCompare(t.fullName)})},timerOnlyUserAvatars:function(e,a){var i=e.transientMembers||a.task.members;return e.timerClients.filter(function(e){return i.every(function(t){return t.userId!==e.userId})}).map(function(e){var i={memberId:e.userId,isOnlyTimerUser:!0};return t(i,a.users.find(function(t){return t._id===e.userId})||c),n(i,e),i}).sort(function(e,t){return e.fullName.localeCompare(t.fullName)})},pendingMemberAvatars:function(e,t){var n=e.transientMembers||t.task.members,a=n.filter(function(e){return e.boardInvitationId}).map(function(t){var n=e.boardInvitations.find(function(e){return e._id===t.boardInvitationId});if(n)return d(t,n)}).filter(function(e){return!!e}),o=n.filter(function(e){return e.organizationInvitationId}).map(function(t){var n=e.organizationInvitations.find(function(e){return e._id===t.organizationInvitationId});if(n)return d(t,n)}).filter(function(e){return!!e});return[].concat(i(a),i(o)).sort(function(e,t){return e.fullName.localeCompare(t.fullName)})},users:function(e,t,n){return n.users}},mutations:{SET_VISIBLE:function(e,t){e.visible=t},SET_BOARD_INVITATIONS:function(e,t){e.boardInvitations=t},SET_ORGANIZATION_INVITATIONS:function(e,t){e.organizationInvitations=t},SET_TRANSIENT_MEMBERS:function(e,t){e.transientMembers=t},SET_TIMER_CLIENTS:function(e,t){e.timerClients=t},SET_DIALOG_VISIBLE:function(e,t){e.dialogVisible=t}},actions:{init:function(e){var t=e.dispatch,n=e.getters;x=function(){t("refreshPendingBoardInvitations")},C=function(){t("refreshPendingOrganizationInvitations")},I.on("localAdd",x),w.on("localAdd",C),y&&(D=function(e){n.task.taskId===e&&t("refreshTimerClients")},y.on("taskClientsUpdated",D))},destroy:function(){I.off("localAdd",x),x=null,w.off("localAdd",C),C=null,y&&(y.off("taskClientsUpdated",D),D=null)},showMembersDialog:function(e,t){var n=e.dispatch,a=e.commit,i=e.getters,o=t.position,s=t.onClose,u=void 0===s?l:s,c=function(e){e.length&&a("SET_VISIBLE",!0),a("SET_TRANSIENT_MEMBERS",r(e))};b.on("membersChange",c),b.once("close",function(e){e.length&&a("SET_VISIBLE",!0),a("SET_DIALOG_VISIBLE",!1),n("updateMembers",e),b.off("membersChange",c),u()}),b.show({members:i.task.members,position:o,appendTo:".appendWrapper"}),a("SET_DIALOG_VISIBLE",!0)},showMemberProfileDialog:function(e,t){var n=e.dispatch,a=e.getters,i=t.position,o=t.memberId,r=t.onClose,s=void 0===r?l:r,u=a.task.members.find(function(e){return m(e,o)}),c=function(){n("resetMemberRoles")};T.on("removeResponsible",c);var d=function(){n("setMemberResponsible",o)};T.on("setResponsible",d);var p=function(){n("removeMember",o)};T.on("removeMember",p),T.once("close",function(){T.off("setResponsible",d),T.off("removeResponsible",c),T.off("removeMember",p),s()}),T.showForMember(u,{position:i})},setMemberResponsible:f,resetMemberRoles:h,removeMember:v,updateMembers:k,refreshPendingBoardInvitations:function(e){var t=e.commit,n=e.dispatch,a=I.getAllOrderedByEmail();t("SET_BOARD_INVITATIONS",r(a)),n("updateVisible")},refreshPendingOrganizationInvitations:function(e){var t=e.commit,n=e.dispatch,a=w.getAllOrderedByEmail();t("SET_ORGANIZATION_INVITATIONS",r(a)),n("updateVisible")},refreshTimerClients:function(e){var t=e.getters,n=e.commit,a=y.getValidTaskClients(t.task.taskId);a.length&&n("SET_VISIBLE",!0),n("SET_TIMER_CLIENTS",a)},updateVisible:function(e){var t=e.getters,n=e.commit;t.allAvatars.length&&n("SET_VISIBLE",!0)}}}}},"BfkDCp+2Hy":function(e,t,n){"use strict";var a=n("rEK1kr4M5E");e.exports=function(e){var t=e.boardId;return{getData:function(e){return a.get({url:"/work-timer/log-data",data:{startTimestamp:e.startTimestamp,boardId:t}})}}}},"Bnqc3LMjT+":function(e,t,n){"use strict";var a=n("zCnJNEeu5Z").encode,i=n("G3r/MSY7Fs");n("gRduait4db"),e.exports={props:["model","color"],computed:{displayMode:function(){return this.model.displayMode},avatarClasses:function(){var e=["task-avatar","task-avatar--small","task-avatar--"+this.color];if("timerUser"===this.displayMode){e.push("task-timerAvatar"),this.model.isOnlyTimerUser&&e.push("task-timerAvatar--timerUserOnly");var t=this.model.mode;"taskSelected"===t||"break"===t?e.push("task-timerAvatar--paused"):e.push("task-timerAvatar--working")}return e}},methods:{getTooltipHtml:function(){var e=["<strong>"+a(this.model.fullName)+"</strong>"];if(this.model.role&&(e[0]+=" ("+this.model.role.toLowerCase()+")"),"timerUser"===this.displayMode){var t=i.getTimerStateTextLines(this.model);e.push.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}return e.join("\n")}}}},BpFSZOxfJb:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("home").mapState,s=i.createNamespacedHelpers("relations"),l=s.mapState,u=s.mapGetters,c=s.mapMutations,d=s.mapActions,m=n("LID5hgrivl").$,p=n("Gh3TGTRxcI"),f=n("tY0Huyqn3A"),h=n("xdpHHMl98y"),v=n("35TLn5Mz3n");e.exports={data:function(){return{addRelationVisible:!1,addRelationButtonPosition:null,addRelationBoardId:null,sectionMenuVisible:!1}},computed:a({},o(["readOnly"]),r(["loadingAsyncSections"]),l(["focusSection","loadFailed","view"]),u(["relationCount"]),{changeViewText:function(){return"list"===this.view?"Show board view":"Show list view"}}),watch:{focusSection:function(){this.focusSection&&(p.scrollToShow(this.$refs.relationsSection,m(".taskDetails-wrapper")),this.setFocusSection(!1))}},methods:a({},c({setFocusSection:"SET_FOCUS_SECTION"}),d(["showBoardView","showListView"]),{showAddRelation:function(e){var t=e.position,n=e.boardId;this.addRelationButtonPosition=t,this.addRelationBoardId=n,this.addRelationVisible=!0},hideAddRelation:function(){this.addRelationVisible=!1},changeViewClick:function(){"list"===this.view?this.showBoardView():this.showListView()}}),components:{"relation-list":f,"add-relation":v,"board-view":h}}},"ByTcWmGYN+":function(e,t,n){"use strict";function a(e){i.nextTick(function(){o.update(e)})}var i=n("lRwfdXqfkY"),o=n("4kxX9GcXDl"),r=!!window.MSInputMethodContext&&!!document.documentMode,s=/Edge/.test(navigator.userAgent);i.directive("autosize",{inserted:function(e,t){!function(e){r?setTimeout(e):s?i.nextTick(e):e()}(function(){var n=t.value||{},i=!e.value;i&&(e.value=" "),o(e),i&&(e.value=""),n.onResize&&e.addEventListener("autosize:resized",function(){n.onResize({height:e.clientHeight})}),a(e)})},update:a,unbind:function(e){o.destroy(e)}})},"C9WDmX/5h+":function(e,t,n){"use strict";function a(e){return l.next(e,".task")}function i(e,t){return l.closest(document.elementFromPoint(e,t),".task")}function o(e,t){return l.closest(document.elementFromPoint(e,t),".task-groupLabel")}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n("SJI6FcOvAZ").mapActions,l=n("LID5hgrivl"),u=n("9JcIpnoI3g"),c=12;e.exports={props:["taskGroups","groupByDate","showMoreButtonVisible"],methods:r({},s(["highlightTask"]),{taskListDoubleClick:function(e){if(!l.closest(e.target,".task")){var t=this.getPrevAndNextTaskIdsFromClickEvent(e),n={prevTaskId:t.prevTaskId,nextTaskId:t.nextTaskId};this.groupByDate&&(n.dateGroupString=this.getClosestDateGroupStringFromClickEvent(e)),this.$emit("taskListDoubleClick",n)}},taskClick:function(e){this.$emit("taskClick",e)},setSubTaskFinishedForTask:function(e){this.$emit("setSubTaskFinishedForTask",e)},showMoreClick:function(){this.$emit("showMoreTasks")},getTaskGroupClasses:function(e){var t=["task-group"];return e.isHiddenByFilter&&t.push("task-group-hiddenByFilter"),t},getPrevAndNextTaskIdsFromClickEvent:function(e){var t=e.clientX,n=e.clientY,a=void 0,i=void 0,o=this.getPrevTaskElementFromPointOrNull(t,n),r=this.getNextTaskElementFromPointOrNull(t,n);if(o||r)o?r||(r=l.next(o,".task")):o=l.prev(r,".task");else{var s=e.currentTarget.querySelectorAll(".task");o=s[s.length-1]}return o&&(a=o.getAttribute("data-taskId")),r&&(i=r.getAttribute("data-taskId")),{prevTaskId:a,nextTaskId:i}},getClosestDateGroupStringFromClickEvent:function(e){var t=l.closest(e.target,".task-group");if(t)return t.getAttribute("data-date");var n=function(e,t){return function(e,t){return l.closest(document.elementFromPoint(e,t),".task-group")}(e,t-c)}(e.clientX,e.clientY);if(n)return n.getAttribute("data-date");var a=e.currentTarget.querySelectorAll(".task-group");return 0===a.length?null:a[a.length-1].getAttribute("data-date")},getPrevTaskElementFromPointOrNull:function(e,t){return i(e,t-(this.groupByDate?c:8))},getNextTaskElementFromPointOrNull:function(e,t){var n=i(e,t+8);if(n)return n;var r=o(e,t);if(r)return a(r);var s=o(e,t+c);return s&&"Today"===s.textContent?a(s):null}}),components:{task:u}}},"CFYMmaNNy+":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div data-bind="css: { \'labelSelect--hasFocus\': selectHasFocus, \'labelSelect--disabled\': loading }" class="labelSelect"><label data-bind="text: label" class="labelSelect-label"></label><span data-bind="text: selectedText" class="labelSelect-selectedText truncate"></span>\x3c!-- ko if: hasOptionGroups()--\x3e<select data-bind="foreach: { data: optionGroups, as: \'group\' }, value: selectedValue, valueUpdate: \'afterkeydown\', hasFocus: selectHasFocus, disable: loading" class="labelSelect-select"><optgroup data-bind="attr: { label: group.label }, foreach: group.options"><option data-bind="text: text, value: value"></option></optgroup></select>\x3c!-- /ko--\x3e\x3c!-- ko ifnot: hasOptionGroups()--\x3e<select data-bind="options: options, optionsText: \'text\', optionsValue: \'value\', value: selectedValue, valueUpdate: \'afterkeydown\', hasFocus: selectHasFocus, disable: loading" class="labelSelect-select"></select>\x3c!-- /ko--\x3e</div>'),t.join("")}},CFxTPrnk5X:function(e,t,n){"use strict";function a(e){return e>=i&&e<=o}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateElementOffset=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,a=n.defaultView,i=n.documentElement,o={top:t.top+a.pageYOffset,left:t.left+a.pageXOffset};return i&&(o.top-=i.clientTop,o.left-=i.clientLeft),o},t.getLineHeightPx=function(e){var t=window.getComputedStyle(e);if(a(t.lineHeight.charCodeAt(0)))return a(t.lineHeight.charCodeAt(t.lineHeight.length-1))?parseFloat(t.lineHeight)*parseFloat(t.fontSize):parseFloat(t.lineHeight);var n=document.body;if(!n)return 0;var i=document.createElement(e.nodeName);i.innerHTML="&nbsp;",i.style.fontSize=t.fontSize,i.style.fontFamily=t.fontFamily,n.appendChild(i);var o=i.offsetHeight;return n.removeChild(i),o},t.createCustomEvent="function"==typeof window.CustomEvent?function(e,t){return new document.defaultView.CustomEvent(e,{cancelable:t&&t.cancelable||!1,detail:t&&t.detail||void 0})}:function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,t&&t.cancelable||!1,t&&t.detail||void 0),n};var i="0".charCodeAt(0),o="9".charCodeAt(0)},CNahyagoxK:function(e,t,n){"use strict";e.exports={parseToTotalSeconds:function(e){var t=e.split(/[:\.]/).map(function(e){return parseInt(e,10)}),n=t[0];if(n<0)return NaN;var a=t[1];if(a<0||60<=a)return NaN;var i=t.length>2?t[2]:0;return i<0||60<=i?NaN:3600*n+60*a+i}}},CqlDqVorsO:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CLASS_NAME=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(a(n("t/zkyO3piH")),a(n("heLhFGELzy")),t.DEFAULT_CLASS_NAME="textcomplete-item"),r=["onClick","onMouseover"],s=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.searchResult=t,this.active=!1,this.className=n.className||o,this.activeClassName=this.className+" active",r.forEach(function(e){a[e]=a[e].bind(a)})}return i(e,[{key:"destroy",value:function(){this.el.removeEventListener("mousedown",this.onClick,!1),this.el.removeEventListener("mouseover",this.onMouseover,!1),this.el.removeEventListener("touchstart",this.onClick,!1),this.active&&(this.dropdown.activeItem=null),this._el=null}},{key:"appended",value:function(e){this.dropdown=e,this.siblings=e.items,this.index=this.siblings.length-1}},{key:"activate",value:function(){if(!this.active){var e=this.dropdown.getActiveItem();e&&e.deactivate(),this.dropdown.activeItem=this,this.active=!0,this.el.className=this.activeClassName}return this}},{key:"deactivate",value:function(){return this.active&&(this.active=!1,this.el.className=this.className,this.dropdown.activeItem=null),this}},{key:"onClick",value:function(e){e.preventDefault(),this.dropdown.select(this)}},{key:"onMouseover",value:function(){this.activate()}},{key:"el",get:function(){if(this._el)return this._el;var e=document.createElement("li");e.className=this.active?this.activeClassName:this.className;var t=document.createElement("a");return t.innerHTML=this.searchResult.render(),e.appendChild(t),this._el=e,e.addEventListener("mousedown",this.onClick),e.addEventListener("mouseover",this.onMouseover),e.addEventListener("touchstart",this.onClick),e}},{key:"next",get:function(){var e=void 0;if(this.index===this.siblings.length-1){if(!this.dropdown.rotate)return null;e=0}else e=this.index+1;return this.siblings[e]}},{key:"prev",get:function(){var e=void 0;if(0===this.index){if(!this.dropdown.rotate)return null;e=this.siblings.length-1}else e=this.index-1;return this.siblings[e]}}]),e}();t.default=s},"DB/+IDOs02":function(e,t,n){"use strict";e.exports=function(e){var t=e.workTimerDialog,n=e.userBoardSettingsRepository;return{namespaced:!0,state:{timerRunning:t.isTaskRunning(),selectedTaskId:t.getSelectedTaskId(),currentMode:n.getTimerSettings().timerMode},getters:{taskId:function(e,t,n){return n.task.taskId},taskSelected:function(e,t){return e.selectedTaskId===t.taskId}},mutations:{SET_TIMER_RUNNING:function(e,t){e.timerRunning=t},SET_SELECTED_TASK_ID:function(e,t){e.selectedTaskId=t},SET_CURRENT_MODE:function(e,t){e.currentMode=t}},actions:{startTimerInMode:function(e,n){var a=e.getters,i=(e.commit,e.dispatch);t.isShowing()||t.show(),i("updateTimerDialogStackingPosition"),t.getCurrentMode()!==n&&t.toggleMode(),t.startTimerForTask(a.taskId)},startStopwatch:function(e){(0,e.dispatch)("startTimerInMode","stopwatch")},startPomodoro:function(e){(0,e.dispatch)("startTimerInMode","pomodoro")},selectInTimer:function(e){var n=e.getters;t.taskSelected(n.taskId)},stopTimer:function(e){var n=e.dispatch;t.tryStop(),"pomodoro"!==t.getCurrentMode()||t.sessionTooShort()?n("updateTimerDialogStackingPosition"):t.updateDialogStackingPosition({positionAboveSelector:".taskDetails-wrapper"})},updateTimerDialogStackingPosition:function(){t.updateDialogStackingPosition({ensureNotBlockingSelector:".taskDetails",positionAboveSelector:".taskDetails-wrapper"})},syncTimerState:function(e){var a=e.commit;a("SET_TIMER_RUNNING",t.isTaskRunning()),a("SET_SELECTED_TASK_ID",t.getSelectedTaskId()),a("SET_CURRENT_MODE",n.getTimerSettings().timerMode)}}}}},DBhU590yCh:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");e.exports=function(e){var t=e.boardColorRepository;return{createOptions:function(e){e=Object.assign({firstOptionText:"Show all",firstOptionValue:""},e);var n=[a("<option/>",{text:e.firstOptionText,value:e.firstOptionValue})[0]];return t.getEnabledColors().forEach(function(e){n.push(a("<option/>",{text:e.showName,value:e.value,class:"taskColor-"+e.value})[0])}),n}}}},DCJVAPnbPc:function(e,t,n){"use strict";var a=n("rEK1kr4M5E");e.exports={init:function(e){a.onBeforeJsonPost(function(t){var n="_w="+e;t.url.indexOf("?")>=0?t.url+="&":t.url+="?",t.url+=n})}}},DIGfLZ43Sy:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{position:e.position,elementClass:"addFile",title:"Attach file",appendTo:".appendWrapper"},on:{closed:e.close}},[n("div",{staticClass:"taskDetails-formRow"},[n("button",{staticClass:"addFile-button button button--large",on:{click:e.uploadClick}},[e._v("Upload")])]),e._v(" "),n("div",{staticClass:"taskDetails-formRow"},[n("button",{staticClass:"addFile-button button button--large",on:{click:e.dropboxClick}},[e._v("Dropbox")])]),e._v(" "),n("div",{staticClass:"taskDetails-formRow"},[n("button",{staticClass:"addFile-button button button--large",on:{click:e.googleDriveClick}},[e._v("Google Drive")])]),e._v(" "),n("div",{staticClass:"taskDetails-formRow"},[n("button",{staticClass:"addFile-button button button--large",on:{click:e.boxClick}},[e._v("Box")])]),e._v(" "),n("input",{ref:"fileUpload",staticClass:"addFile-uploadInput",attrs:{type:"file",multiple:""},on:{change:e.fileUploadChange}})])},staticRenderFns:[]}},DWtTvLcI7H:function(e,t,n){"use strict";function a(e){if(!(e=e.trim()))return null;if(!/\d\d\d\d-\d\d-\d\d/.test(e))return null;try{var t=s.parseIsoDateString(e);return s.getIsoDateString(new Date(t))}catch(e){return null}}var i=n("0iPhQ5GI5H"),o=n("TS0ILVVaKW"),r=n("mpS4yaNLgJ"),s=n("RNfSVdyTQ7"),l="dateStringValue";o.bindingHandlers.dateStringValue={init:function(e,t,n){var s=o.toJS(n.get("datePickerOptions"))||{};r(s,{showOn:"focus",buttonText:""}),i(e).datepicker(s);var u={rawText:o.observable(),hasFocus:o.observable()};o.utils.domData.set(e,l,u),o.applyBindingAccessorsToNode(e,{textInput:function(){return u.rawText},hasFocus:function(){return u.hasFocus}});var c=u.rawText.subscribe(function(e){e=a(e),t()(e)});o.utils.domNodeDisposal.addDisposeCallback(e,function(){c.dispose()})},update:function(e,t){var n=o.utils.domData.get(e,l),i=o.unwrap(t());if(!("lastValue"in n&&n.lastValue===i||(n.lastValue=i,n.hasFocus()))){var r=function(e){var t=o.unwrap(e());return t&&a(t)}(t);n.rawText(r||"")}}}},DYr3LNjvFe:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("hHlQBZdXtr");e.exports=function(e){function t(e){var t={value:e.value,text:e.showName};return e.description&&(t.description=e.description),t}var n=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("updateTask",{color:n},{root:!0});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=a(regeneratorRuntime.mark(function e(t,n){t.state,t.commit,t.dispatch;var a=n.value,i=n.text;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.updateColor({value:a,showName:i});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=a(regeneratorRuntime.mark(function e(t,n){t.state,t.commit;var a=n.value,i=n.newIndex;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.moveEnabledColorToIndex(a,i);case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),s=e.boardColorRepository,l=e.userPermissionService,u=void 0;return{namespaced:!0,state:{allColors:i(s.getAllColors()),editColorVisible:!1,canEditColors:l.canEditColors()},getters:{task:function(e,t,n){return n.task},taskColor:function(e,t){return t.task.color},enabledColorItems:function(e){return e.allColors.filter(function(e){return e.enabled}).map(t)},allColorItems:function(e){return e.allColors.map(t)}},mutations:{SET_EDIT_COLOR_VISIBLE:function(e,t){e.editColorVisible=t},SET_ALL_COLORS:function(e,t){e.allColors=t}},actions:{init:function(e){var t=e.commit;u=function(){var e=i(s.getAllColors());t("SET_ALL_COLORS",e)},s.on("change",u)},destroy:function(){s.off("change",u)},showEditColor:function(e){(0,e.commit)("SET_EDIT_COLOR_VISIBLE",!0)},hideEditColor:function(e){(0,e.commit)("SET_EDIT_COLOR_VISIBLE",!1)},updateColor:n,renameColor:o,moveColor:r}}}},"DeY+bwIY7s":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div class="premiumInfoDialog-body"><div class="premiumInfoDialog-hero"><h1 class="premiumInfoDialog-viewTitle">Get premium</h1><p class="premiumInfoDialog-heroText">This is currently a free board. Only boards that are part of an organization have access to premium features.</p></div><div class="premiumInfoDialog-moveOrViewInfo-boxWrapper"><div class="premiumInfoDialog-moveOrViewInfo-box"><h2>Move board to organization</h2>\x3c!-- ko if: isBoardOwner--\x3e<div class="premiumInfoDialog-moveOrViewInfo-boxTextWrapper"><p>Easily enable the premium features for this board by moving it to your organization.</p></div><label><strong>Organization</strong></label><select data-bind="value: moveToOrganizationId, options: moveToOrganizations, optionsText: \'name\', optionsValue: \'organizationId\'" class="premiumInfoDialog-moveOrViewInfo-organization"></select><a id="premiumInfoDialog-moveOrViewInfo-moveBoardButton" data-bind="attr: { href: moveBoardToOrganizationUrl }" class="premiumInfoDialog-moveOrViewInfo-actionButton premiumInfoDialog-actionButton premiumInfoDialog-actionButton--blue">Move board</a>\x3c!-- /ko--\x3e\x3c!-- ko ifnot: isBoardOwner--\x3e<div class="premiumInfoDialog-moveOrViewInfo-boxTextWrapper"><p>Only the owner of this board, <strong data-bind="text: boardOwnerFullName"></strong>, can move it to an organization.</p><p>The board needs to be part of an organization for the premium features to be available.</p></div>\x3c!-- /ko--\x3e</div><div class="premiumInfoDialog-moveOrViewInfo-box">\x3c!-- ko if: isOrganizationOwner--\x3e<h2>Premium features</h2><div class="premiumInfoDialog-moveOrViewInfo-boxTextWrapper"><p>If you want to view information about the features available in the premium version, click the button below.</p></div><button data-bind="click: showPremiumInfoClicked" class="premiumInfoDialog-moveOrViewInfo-actionButton premiumInfoDialog-actionButton">Show info</button>\x3c!-- /ko--\x3e\x3c!-- ko ifnot: isOrganizationOwner--\x3e<h2>Buy premium</h2><div class="premiumInfoDialog-moveOrViewInfo-boxTextWrapper"><p>If you do not want your board to be part of an existing organization,\nyou can sign up for a new premium subscription.</p><p>The price is $5 per user and month.</p></div><button data-bind="click: showPremiumInfoClicked" class="premiumInfoDialog-moveOrViewInfo-actionButton premiumInfoDialog-actionButton">Show more</button>\x3c!-- /ko--\x3e</div></div><div class="premiumInfoDialog-questions premiumInfoDialog-moveOrViewInfo-questions"><strong>Questions?</strong> Mail to <a href="mailto:sales@kanbanflow.com"><strong>sales@kanbanflow.com</strong></a></div></div>'),t.join("")}},"DhGYfXPVo+":function(e,t,n){"use strict";var a=n("lRwfdXqfkY"),i=n("EWUDtfBmmZ"),o=n("hHlQBZdXtr"),r=n("rSJZd2NoJP"),s=n("yWoXT/XBB/");e.exports=function(e){function t(e){x.emit("openTaskDetails",e)}function n(e){x.emit("save",{taskId:e})}function l(){C&&(C.$store.dispatch("destroy"),C.$destroy(),document.body.removeChild(C.$el),C=null)}var u=e.userPermissionService,c=e.taskRepository,d=e.userRepository,m=e.boardColorRepository,p=e.boardColumnRepository,f=e.taskMembersDialog,h=e.defaultDueDateTime,v=e.taskLabelsDialog,k=e.taskSortOrderGenerator,g=e.userAvatarHelper,b=e.taskMemberProfileDialog,T=e.pendingBoardInvitationRepository,y=e.pendingOrganizationInvitationRepository,I=e.boardFilter,w=e.estimationType,x=i(["openTaskDetails","save"]),C=void 0;return{on:x.on,open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(C)throw new Error("Already open");document.activeElement&&document.activeElement.blur(),e=function(e){var t=o(e),n=I.getColorFilterOrNull();n&&(t.color=n);var a=I.getRealUserIdFilterOrNull();a&&(t.responsibleUserId=a,t.collaborators=[]);var i=I.getLabelFilterOrNull();return i&&(t.labels=i.map(function(e){return{name:e,pinned:!1}})),t}(e),(C=new a({store:s({originalTask:e,estimationType:w,userPermissionService:u,taskRepository:c,userRepository:d,boardColorRepository:m,boardColumnRepository:p,taskMembersDialog:f,defaultDueDateTime:h,taskLabelsDialog:v,taskSortOrderGenerator:k,userAvatarHelper:g,taskMemberProfileDialog:b,pendingBoardInvitationRepository:T,pendingOrganizationInvitationRepository:y,onOpenTaskDetails:t,onSaveTask:n}),render:function(t){return t(r,{props:{initialColor:e.color},on:{close:l}})}})).$store.dispatch("init"),C.$mount(),document.body.appendChild(C.$el)},close:l,isOpen:function(){return!!C},isPageReloadOkay:function(){return!C||C.$store.getters.isPageReloadOkay}}}},E1jMEKQhS0:function(e,t,n){var a=n("Tnr5Pavy2y"),i=n("3til+no9ro"),o=n("p/0cqC9K/5"),r=n("A+grE0WUWC"),s=n("GmNUBKa31M"),l=n("RQ0LPoqyJ+");e.exports=function(e,t,n){for(var u=-1,c=(t=a(t,e)).length,d=!1;++u<c;){var m=l(t[u]);if(!(d=null!=e&&n(e,m)))break;e=e[m]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&r(m,c)&&(o(e)||i(e))}},E1yQowl3IB:function(e,t,n){"use strict";var a=n("Zz1PBJ8Ns9"),i=n("diVJQiejjc"),o=n("LMIzVIthTf"),r=n("lasV53ydu9"),s=n("7im7hW2Qat");e.exports=function(e){function t(e){return u.find(function(t){return t.uniqueId===e})}function n(e){return u.findIndex(function(t){return t.uniqueId===e})}var l=e.saveTask,u=e.columns,c=e.getSortOrderForPlacingInCell,d=e.deepClone,m=e.copyTask,p=e.forceTimezoneFromTask,f=s.createStandalone(["repeatingTaskCopied"]);return{on:f.on,interceptTaskChanges:function(e){return function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];if("function"!=typeof n[n.length-1])return new Promise(function(t,a){e.apply(void 0,n.concat([function(e,n){if(e)return a(e);t(n)}]))});e.apply(void 0,n)}}(function(e,s,h){!function(e,t){var a=t.dates||e.dates;if(0===a.length)return!1;if(!a.some(function(e){return!!e.repeat}))return!1;if(a.length>1)throw new Error("Repeating tasks should only have ONE due date");var o=a[0];if(o.repeat.copyTaskId)return!1;var r=n(o.repeat.sourceColumnId),s=o.targetColumnId,l=n(s);return!(0===l||r>=l||!i(o).next()||!function(e,t){return n(e)>=n(t)}(t.columnId||e.columnId,s))}(e,s)?h():function(e,n,s){var h=m(e),v=n.dates||e.dates,k=v[0],g=k.repeat.sourceColumnId;t(g)||(g=u[0].uniqueId),h.columnId=g;var b=h.columnId,T=h.swimlaneId;t(g).groupByDate?h.dateFinished=a().format("YYYY-MM-DD"):delete h.dateFinished,c(b,T,function(t,u){if(t)return s(t);h.sortOrder=u;var c=d(k);h.dates=[c];var m=o.parseTimestamp(c.dueTimestampLocal),b=i(c,{timezoneOffset:p?m:null}).next();c.dueTimestamp=r.getIsoTimestamp(b);var T=a(b);c.dueTimestampLocal=p?T.clone().utcOffset(m).format():T.format(),c.status="active",c.repeat.sourceColumnId=g,delete c.doneTimestamp,delete c.doneByUserId,l(h,{masterEvent:"taskCopiedFromRepeatingTask"},function(t,a){if(t)return s(t);var i=d(v),o=a._id;i[0].repeat.copyTaskId=o;var r=d(n);r.dates=i,s(null,r),f.emit("repeatingTaskCopied",{originalTaskId:e._id,copyTaskId:o})})})}(e,s,h)})}}},"E5qx8dT/dj":function(e,t,n){var a=n("u9vI3PmOia");e.exports=function(e){return e==e&&!a(e)}},E6ZzB2N0TW:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n("lRwfdXqfkY"),r=n("EWUDtfBmmZ"),s=n("rEK1kr4M5E"),l=n("50u+wdY68T"),u=n("5FDFGxYzHQ"),c=n("YYWGyA79FY"),d={RESPONSIBLE:"Responsible",PENDING:"Pending",PENDING_RESPONSIBLE:"Pending responsible"},m=23;e.exports=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.members||[];C=t;var r=t.filter(function(e){return e.boardInvitationId||e.organizationInvitationId}),s=t.filter(function(e){return e.userId}),k=b.getAllOrderedByEmail(),w=T.getAllOrderedByEmail(),D=g.getAllOrderedByFullName();(x=new o({data:{allInvitations:[].concat(i(k.map(function(e){return function(e,t){var n=t.find(function(t){return t.boardInvitationId===e._id}),a=n?n.role:"";return{boardInvitationId:e._id,email:e.invitedEmail,avatarImageUrl:h(e.invitedEmail),role:a===d.RESPONSIBLE?d.PENDING_RESPONSIBLE:d.PENDING,selected:!!n,focus:!1,newInvite:!1}}(e,r)})),i(w.map(function(e){return function(e,t){var n=t.find(function(t){return t.organizationInvitationId===e._id}),a=n?n.role:"";return{organizationInvitationId:e._id,email:e.invitedEmail,avatarImageUrl:h(e.invitedEmail),role:a===d.RESPONSIBLE?d.PENDING_RESPONSIBLE:d.PENDING,selected:!!n,focus:!1,newInvite:!1}}(e,r)}))),sendingInvite:!1},render:function(t){return t(c,{props:{allUsers:function(e,t){var n=D.map(function(e){return function(e,t){var n=t.find(function(t){return t.userId===e._id}),a=n&&n.role;return{userId:e._id,email:e.email,fullName:e.fullName,avatarImageUrl:u.getImageUrl(e,{size:m}),selected:!!n,role:a||"",focus:!1}}(e,t)});return t.forEach(function(e){n.some(function(t){return t.userId===e.userId})||n.push(function(e){return{userId:e.userId,fullName:"Unknown user",avatarImageUrl:u.getAnonymousImageUrl(),selected:!0,role:e.role||"",focus:!1}}(e))}),n}(0,s),allInvitations:this.allInvitations,dialogAppendTo:e.appendTo,dialogPosition:e.position,pointerMode:y,canInviteMember:I.canInviteUsers(),sendingInvite:this.sendingInvite,confirmVisible:e.showConfirm,confirmHelpText:e.confirmHelpText,confirmButtonText:e.confirmButtonText,ROLES:d},on:{membersChange:f,inviteEmails:this.inviteEmails,cancelBoardInvitation:this.cancelBoardInvitation,confirm:n,close:p}})},methods:{inviteEmails:function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.sendingInvite=!0,l.showLoading(),e.next=4,Promise.all(t.map(v));case 4:a=e.sent,i=[],a.forEach(function(e){b.localAdd(e);var t=function(e){return{boardInvitationId:e._id,email:e.invitedEmail,avatarImageUrl:h(e.invitedEmail),role:d.PENDING,selected:!0,focus:!1,newInvite:!0}}(e);i.push(t)}),l.hideLoading(),(n=this.allInvitations).push.apply(n,i),o.nextTick(function(){r.sendingInvite=!1});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),cancelBoardInvitation:function(e){var t=this.allInvitations.findIndex(function(t){return t.boardInvitationId===e});this.allInvitations.splice(t,1),b.cancelInvitationById(e)}}})).$mount()}function n(e){C=e,w.emit("confirm",e)}function p(){x.$destroy(),x=null,w.emit("close",C)}function f(e){C=e,w.emit("membersChange",e)}function h(e){return u.getImageUrlForInvitationEmail(e,{size:m})}var v=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return s.jsonPost({url:"/board-invitation/send",data:{boardId:k,email:e}})}(t);case 2:return n=e.sent,e.abrupt("return",{_id:n,invitedEmail:t});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),k=e.boardId,g=e.userRepository,b=e.pendingBoardInvitationRepository,T=e.pendingOrganizationInvitationRepository,y=e.pointerMode,I=e.userPermissionService,w=r(["membersChange","confirm","close"]),x=void 0,C=void 0;return{on:w.on,once:w.once,off:w.off,show:t,showForTask:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).position;t({members:function(e){var t=e.collaborators,n=e.members,a=e.responsibleUserId,o=t.map(function(e){return{userId:e.userId}});return a&&o.push({userId:a,role:d.RESPONSIBLE}),o.push.apply(o,i(n)),o}(e),position:n})},close:p,isShowing:function(){return!!x}}}},EC2mEZ4MOq:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{elementClass:e.elementClass,title:e.isEdit?"Edit due date":"Add due date",appendTo:".appendWrapper",position:e.position},on:{saveRequested:e.done,closed:e.close}},[n("div",{staticClass:"editDueDate-row"},[n("div",{staticClass:"editDueDate-column"},[n("div",{staticClass:"taskDetails-formRow"},[n("div",{staticClass:"taskDetails-formCell"},[n("label",{staticClass:"taskDetails-label",attrs:{for:"editDueDate-date"}},[e._v(e._s(e.dateLabel))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateValue,expression:"dateValue"},{name:"focus-mouse",rawName:"v-focus-mouse"}],ref:"dateInput",staticClass:"editDueDate-input taskDetails-formInput",attrs:{type:"text",id:"editDueDate-date"},domProps:{value:e.dateValue},on:{input:function(t){t.target.composing||(e.dateValue=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"taskDetails-formCell"},[n("label",{staticClass:"taskDetails-label",attrs:{for:"editDueDate-time"}},[e._v("Time")]),e._v(" "),n("time-input",{staticClass:"editDueDate-input taskDetails-formInput",attrs:{id:"editDueDate-time",value:e.timeValue},on:{update:e.timeInputUpdate}})],1)]),e._v(" "),n("date-input-inline",{staticClass:"taskDetails-dateSelector",attrs:{value:e.dateValue,minDate:e.minDate},on:{input:e.dateValueInlineUpdate}}),e._v(" "),n("label",{staticClass:"taskDetails-label",attrs:{for:"editDueDate-targetColumn"}},[e._v("\n                Target column\n                "),n("tooltip-help",{attrs:{html:"<p>What column you want the task to be in before the date is due.</p>You can define both start and end dates for a task. For example, it should be in <strong>In progress</strong> before one date and in <strong>Done</strong> before a later date."}})],1),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.targetColumnId,expression:"targetColumnId"}],staticClass:"editDueDate-targetColumnSelect",attrs:{id:"editDueDate-targetColumn"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.targetColumnId=t.target.multiple?n:n[0]}}},e._l(e.applicableTargetColumnsForTask,function(t){return n("option",{domProps:{value:t.columnId}},[e._v(e._s(t.name)+"\n                ")])})),e._v(" "),e.hasRepeatCopy?e._e():n("settings-checkbox",{staticClass:"editDueDate-checkboxLabel",attrs:{label:e.repeatLabel,id:"editDueDate-repeat"},model:{value:e.isRepeating,callback:function(t){e.isRepeating=t},expression:"isRepeating"}})],1),e._v(" "),e.editRepeatVisible?n("div",{staticClass:"editDueDate-column editDueDate-repeatColumn"},[n("label",{staticClass:"taskDetails-label"},[e._v("Repeat")]),e._v(" "),n("repeating-task-edit",{attrs:{dueDate:e.dueDate,dateString:e.dateValue,targetColumnId:e.targetColumnId,updateDaysIfDateChanges:!e.isEdit},on:{update:e.repeatUpdate}})],1):e._e()]),e._v(" "),n("div",{staticClass:"editDueDate-buttonsWrapper"},[n("div",{staticClass:"editDueDate-buttons taskDetails-formButtons taskDetails-formRow"},[e.isEdit?n("button",{staticClass:"taskDetails-formCell button button--danger",on:{click:e.deleteClick}},[e._v("\n                Delete\n            ")]):e._e(),e._v(" "),n("button",{staticClass:"taskDetails-formCell taskDetails-formCell--right button button--success",on:{click:e.done}},[e._v("\n                "+e._s(e.isEdit?"Update":"Add")+"\n            ")])])])])},staticRenderFns:[]}},"EICHgS2/Iu":function(e,t,n){var a=n("UuxzYNRyeK");e.exports=function(e){var t,i=[],o=e||{};return function(o){i.push('<div class="premiumInfoDialog-body premiumInfoDialog-body--hasFooter scroll"><div data-bind="visible: premiumInfoView() === \'main\'" class="premiumInfoDialog-main"><div class="premiumInfoDialog-hero"><h1 class="premiumInfoDialog-viewTitle">Take your productivity to the next level</h1><div class="premiumInfoDialog-pricingBox"><div style="margin-bottom: 20px" class="premiumInfoDialog-priceAndTerms"><div class="premiumInfoDialog-price"><div class="premiumInfoDialog-priceWrapper"><span class="premiumInfoDialog-dollarSign">$</span><span class="premiumInfoDialog-cost">5</span></div><span class="premiumInfoDialog-priceDescription">per user & month</span></div><ul class="premiumInfoDialog-terms"><li><i class="icons-tick"></i> Premium boards</li><li><i class="icons-tick"></i> No setup fee</li><li><i class="icons-tick"></i> No contract</li><li><i class="icons-tick"></i> Priority support</li></ul></div>\x3c!-- ko if: canTrialPremium--\x3e<a href="/administration/premium-plan/setup" class="premiumInfoDialog-actionButton premiumInfoDialog-pricing-actionButton">Start 14-day trial</a>\x3c!-- /ko--\x3e\x3c!-- ko ifnot: canTrialPremium--\x3e<a href="/administration/premium-plan/sign-up" class="premiumInfoDialog-actionButton premiumInfoDialog-pricing-actionButton">Start sign up</a>\x3c!-- /ko--\x3e</div><div class="premiumInfoDialog-questions"><strong>Questions?</strong>'+a.escape(null==(t=" ")?"":t)+'<a href="#" data-bind="click: viewFAQClicked" class="premiumInfoDialog-faqLink"><strong>View FAQ</strong></a>'+a.escape(null==(t=" ")?"":t)+'or mail to <strong><a href="mailto:sales@kanbanflow.com">sales@kanbanflow.com</a></strong></div></div>'+(null==(t=n("r/ZX2WmULV").call(this,e))?"":t)+'<div class="premiumInfoDialog-compare"><p class="premiumInfoDialog-compareText">How much better is Premium?</p><button data-bind="click: viewCompareMatrixClicked" class="premiumInfoDialog-actionButton premiumInfoDialog-actionButton--blue">Compare versions</button></div><div class="premiumInfoDialog-questions"><strong>Questions?</strong>'+a.escape(null==(t=" ")?"":t)+'<a href="#" data-bind="click: viewFAQClicked" class="premiumInfoDialog-faqLink"><strong>View FAQ</strong></a>'+a.escape(null==(t=" ")?"":t)+'or mail to <strong><a href="mailto:sales@kanbanflow.com">sales@kanbanflow.com</a></strong></div></div>'+(null==(t=n("PMmivYbTNU").call(this,e))?"":t)+(null==(t=n("B8X2miHZHW").call(this,e))?"":t)+'</div><div data-bind="visible: showFooter" class="premiumInfoDialog-footer">\x3c!-- ko if: canTrialPremium--\x3e<strong class="premiumInfoDialog-signUpDescription">Try Premium for FREE</strong><a href="/administration/premium-plan/setup" class="premiumInfoDialog-actionButton">Start 14-day trial</a>\x3c!-- /ko--\x3e\x3c!-- ko ifnot: canTrialPremium--\x3e<span class="premiumInfoDialog-signUpDescription">Get Premium</span><a href="/administration/premium-plan/sign-up" class="premiumInfoDialog-actionButton">Start sign up</a>\x3c!-- /ko--\x3e</div>')}.call(this,"undefined"in o?o.undefined:void 0),i.join("")}},ELFGy1w2qa:function(e,t,n){"use strict";var a=n("TS0ILVVaKW"),i=n("0iPhQ5GI5H"),o=n("Zz1PBJ8Ns9"),r=n("9OtSiYa4Ad"),s=n("A4/NNxvQCJ"),l=n("disOzLuW6F"),u=n("RNfSVdyTQ7"),c=n("usG2r+TNcd");n("pvSEXQHycq"),n("4kpML86yvO"),n("DWtTvLcI7H");var d=6,m=28,p=["january","february","march","april","may","june","july","august","september","october","november","december"],f={text:"weekday",value:"workday"},h="2001";a.components.register("repeating-task-edit",{synchronous:!0,viewModel:function(e){function t(e){L.sourceColumnId(e.sourceColumnId),L.copyTaskId(e.copyTaskId);var t=e.type;L.type(t),L.endDate(e.endDate);var n=e.days;if("weekly"===t&&n){var a=n.map(function(e){return e.dayOfWeek});L.weekdays().forEach(function(e){var t=a.indexOf(e.value())>=0;e.checked(t)})}else L.weekdays().forEach(function(e){return e.checked(!1)});if("monthly"===t&&n){var i=n.map(function(e){return e.order?function(e,t){return y({dayOfWeek:t,order:e})}(e.order,e.dayOfWeek):I(e.dayOfMonth)});L.monthDays(i)}else L.monthDays([]);if("yearly"===t&&n){var o=n.map(function(e){return w(e.month,e.dayOfMonth)});L.yearDates(o)}else L.yearDates([]);var r=e.interval||1,s=r.toString();r>d?(L.intervalSelect("X"),L.intervalInput(s)):(L.intervalSelect(s),L.intervalInput("")),T(t)}function n(){return k()?"Please select at least one weekday.":g()?"Please enter a valid interval.":parseInt(L.intervalInput())>1e3?"Interval can not exceed 1000.":function(){if("monthly"!==L.type())return!1;var e=L.monthDays();return e.some(function(t){var n=r(t);return e.filter(function(e){return n===r(e)}).length>1})}()?"Same day appears twice. Please remove or change one of them.":"monthly"===L.type()&&0===L.monthDays().filter(function(e){return e.dayOfMonth()||e.order()}).length?"Please select at least one day of the month.":function(){if("yearly"!==L.type())return!1;var e=L.yearDates();return e.some(function(t){var n=v(t);return e.filter(function(e){return n===v(e)}).length>1})}()?"Same date appears twice. Please remove or change one of them.":"yearly"===L.type()&&0===L.yearDates().filter(function(e){return e.dayOfMonth()&&e.month()}).length?"Please select at least one date of the year.":function(){var e=L.endDate(),t=L.endDateRaw();return!(e||!t.trim())||e&&!o(e).isValid()}()?"Please enter a valid end date.":function(){var t=e.originalRepeat().endDate,n=L.endDate();return n&&o(n).isBefore(o().endOf("day"))&&t!==n}()?"Please enter an end date in the future.":function(){var t=e.dateString(),n=L.endDate();return!(!t||!n)&&(!!o(t,"YYYY-MM-DD").isValid()&&(!!o(n,"YYYY-MM-DD").isValid()&&n<t))}()?"End date can not be before it is due.":""}function r(e){return[e.dayOfMonth()||"",e.dayOfWeek()||"",e.order()||""].join("-")}function v(e){return[e.dayOfMonth()||"",e.month()||""].join("-")}function k(){return"weekly"===L.type()&&!L.weekdays().some(function(e){return e.checked()})}function g(){return L.intervalInputVisible()&&isNaN(parseInt(L.intervalInput()))}function b(e){return o(h,"YYYY").month(e).daysInMonth()}function T(t){var n=e.dateString();if("weekly"===t&&n){if(0===_().length){var a=E(n);a&&a.checked(!0)}}else if("monthly"===t&&0===L.monthDays().length){var i=n?o(n):o(),r=i.date(),s=b(i.month()),l=[];r>m||r===s?l.push(y({order:"last"})):l.push(I(r)),L.monthDays(l)}else if("yearly"===t&&0===L.yearDates().length){var u=n?o(n):o(),c=u.date(),d=[w(p[u.month()],c)];L.yearDates(d)}}function y(e){return a.mapping.fromJS(Object.assign({dayOfMonth:"",dayOfWeek:"",order:""},e))}function I(e){return y({dayOfMonth:e})}function w(e,t){return a.mapping.fromJS({month:e,dayOfMonth:t})}function x(e){return e[0].toUpperCase()+e.substr(1)}function C(e){var t=i(e),n=t.offset(),a=F.offset(),o=t.outerHeight();return{top:n.top-a.top+o+"px",left:n.left-a.left+"px"}}function D(){var e=L.monthDays();if(0!==e.length){var t=e[P.editIndex()],n=P.type(),a=P.dayOfMonth();if("orderWeekday"===n){var i=P.dayOfWeek(),o=P.order();t.dayOfWeek(i),t.order(o),t.dayOfMonth("")}else"last"===a?(t.order("last"),t.dayOfMonth(""),t.dayOfWeek("")):(t.dayOfMonth(a),t.order(""),t.dayOfWeek(""))}}function S(){var e=L.yearDates();if(0!==e.length){var t=e[V.editIndex()],n=V.dayOfMonth(),a=V.month();t.dayOfMonth(n),t.month(a)}}function E(e){var t=void 0;try{t=o(e)}catch(e){return null}if(t.isValid()){var n=u.getWeekdays()[u.isMondayFirstDayOfWeek()?t.isoWeekday()-1:t.day()].toLowerCase();return L.weekdays().find(function(e){return e.value()===n})}return null}function _(){return L.weekdays().filter(function(e){return e.checked()})}function M(e){return{text:e.name,value:e.uniqueId}}var R=a.unwrap(e.updateDaysIfDateChanges),O=a.unwrap(e.sourceColumnEditable),A=a.unwrap(e.sourceColumns)||[],N=e.pointerMode,F=i(e.appendFloatingTo),L=a.mapping.fromJS({sourceColumnId:"",type:"",intervalSelect:"",intervalInput:"",weekdays:u.getWeekdays().map(function(e){return{text:e.substr(0,3),value:e.toLowerCase(),checked:!1}}),monthDays:[],yearDates:[],endDate:"",endDateRaw:"",copyTaskId:"",sourceColumnOptions:A.map(M)}),P=a.mapping.fromJS({style:null,editIndex:0,visible:!1,dayOfMonth:"",dayOfMonthFocus:!1,dayOfMonthOptions:function(){for(var e=[],t=1;t<=m;t++)e.push({text:c(t),value:t});return e.push({text:"last",value:"last"}),e}(),orderOptions:["first","second","third","fourth","last"].map(function(e){return{text:e,value:e}}),dayOfWeekOptions:function(){var e=u.getWeekdays().map(function(e){return{text:e,value:e.toLowerCase()}});return e.push(f),e}(),type:"",order:"",orderFocus:!1,dayOfWeek:""}),B=void 0,V=a.mapping.fromJS({style:null,editIndex:0,visible:!1,dayOfMonth:"",dayOfMonthFocus:!1,month:"",monthOptions:p.map(function(e){return{text:x(e),value:e}})}),H=void 0;L.intervalInputVisible=a.pureComputed(function(){return"X"===L.intervalSelect()}),L.intervalOptions=a.pureComputed(function(){for(var e=function(e){switch(L.type()){case"daily":return"day";case"weekly":return"week";case"monthly":return"month";case"yearly":return"year"}throw Error()}(),t=[{text:"Every "+e,value:"1"}],n=2;n<=d;n++){var i=c(n);t.push({text:"Every "+i+" "+e,value:n.toString()})}return t.push({text:"Every X "+e,value:"X"}),t.map(function(e){return a.mapping.fromJS(e)})}),L.isMissingWeekdaySelection=a.pureComputed(k),L.isValid=a.pureComputed(function(){return!n()}),L.invalidMessage=a.pureComputed(n),L.isIntervalInputInvalid=a.pureComputed(g),L.editedRepeat=a.pureComputed(function(){var e=L.type(),t={type:e,sourceColumnId:L.sourceColumnId()},n=L.copyTaskId();n&&(t.copyTaskId=n);var i=function(){var e=L.intervalSelect();return"X"===e?parseInt(L.intervalInput(),10):parseInt(e,10)}();i>1&&(t.interval=i);var o=L.endDate();if(o&&(t.endDate=o),"weekly"===e){var r=_().map(function(e){return{dayOfWeek:e.value()}});r.length&&(t.days=r)}else if("monthly"===e){var s=L.monthDays().map(function(e){var t=e.dayOfMonth(),n=e.dayOfWeek(),a=e.order();return t?{dayOfMonth:t}:a?n?{dayOfWeek:n,order:a}:{order:a}:void 0}).filter(function(e){return e});s.sort(function(e,t){return e.dayOfMonth-t.dayOfMonth}),t.days=s}else if("yearly"===e){var l=L.yearDates().map(function(e){if(e.dayOfMonth()&&e.month())return a.mapping.toJS(e)}).filter(function(e){return e});l.sort(function(e,t){var n=p.indexOf(e.month)-p.indexOf(t.month);return 0===n?e.dayOfMonth-t.dayOfMonth:n}),t.days=l}return t}),V.dayOfMonthOptions=a.pureComputed(function(){for(var e=b(V.month()),t=[],n=1;n<=e;n++)t.push(a.mapping.fromJS({text:n,value:n}));return t}),Object.assign(L,{getMonthDayString:function(e){var t=e.order();if(t){var n=e.dayOfWeek();return n?n===f.value?t+" "+f.text:t+" "+x(n):"last day"}var a=e.dayOfMonth();return a?c(a)+" day":""},monthDayInputClicked:function(e,t){var n=L.monthDays.indexOf(e),o=e.order(),r=e.dayOfWeek(),l=e.dayOfMonth();P.editIndex(n),"last"!==o||r?o?(P.type("orderWeekday"),P.order(o),P.dayOfWeek(r),P.dayOfMonth("1")):(P.type("dayOfMonth"),l||(l="1"),P.dayOfMonth(l),P.order("first"),P.dayOfWeek("monday")):(P.type("dayOfMonth"),P.dayOfMonth("last"),P.order("first"),P.dayOfWeek("monday"));var u=C(t.currentTarget);P.style(u),P.visible(!0),function(){if(!B){var e=s(),t=(B=i(e)).find(".repeatingTaskEdit-monthDayEdit");F.append(B),a.applyBindings(P,t[0])}}(),N.wasMouseUsedLast()&&(o&&r?P.orderFocus(!0):P.dayOfMonthFocus(!0))},addMonthDayClicked:function(){L.monthDays.push(I(""))},removeMonthDayClicked:function(e){L.monthDays.remove(e)},getYearDateString:function(e){var t=e.dayOfMonth(),n=e.month();return t&&n?t+" "+x(n):""},yearDateInputClicked:function(e,t){var n=L.yearDates.indexOf(e),o=e.dayOfMonth()||"1",r=e.month()||"january";V.editIndex(n),V.dayOfMonth(o),V.month(r);var s=C(t.currentTarget);V.style(s),V.visible(!0),function(){if(!H){var e=l(),t=(H=i(e)).find(".repeatingTaskEdit-yearDateEdit");F.append(H),a.applyBindings(V,t[0])}}(),N.wasMouseUsedLast()&&V.dayOfMonthFocus(!0)},addYearDateClicked:function(){L.yearDates.push(w("",""))},removeYearDateClicked:function(e){L.yearDates.remove(e)}}),Object.assign(P,{dayOfMonthRowClicked:function(){P.type("dayOfMonth")},orderWeekdayRowClicked:function(){P.type("orderWeekday")}});var U=[L.isValid.subscribe(e.isValid),L.invalidMessage.subscribe(e.invalidMessage),L.editedRepeat.subscribe(e.editedRepeat),L.type.subscribe(T),P.type.subscribe(D),P.dayOfMonth.subscribe(D),P.order.subscribe(D),P.dayOfWeek.subscribe(D),V.dayOfMonth.subscribe(S),V.month.subscribe(S),e.originalRepeat.subscribe(t)];return R&&U.push(e.dateString.subscribe(function(e){if(e&&1===_().length){var t=E(e);t&&t.checked(!1)}},null,"beforeChange"),e.dateString.subscribe(function(e){if(e){if(0===_().length){var t=E(e);t&&t.checked(!0)}var n=o(e);if(n.isValid()){var a=n.date(),i=L.monthDays();if(1===i.length){var r=i[0];if(r.dayOfWeek())return;var s=b(n.month());a>m||a===s?(r.order("last"),r.dayOfWeek(""),r.dayOfMonth("")):(r.dayOfMonth(a),r.order(""),r.dayOfWeek(""))}var l=L.yearDates();if(1===l.length){var u=l[0],c=p[n.month()];u.month(c),u.dayOfMonth(a)}}}})),O&&U.push(e.sourceColumns.subscribe(function(e){var t=e.map(M);L.sourceColumnOptions(t)})),L.dispose=function(){U.forEach(function(e){return e.dispose()}),U=null,L=null,F=null,P=null,B&&(B.remove(),B=null),V=null,H&&(H.remove(),H=null)},t(e.originalRepeat()),L},template:r()})},"EM/qoNodZF":function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"labelWrapper"})},staticRenderFns:[]}},EPgwYFGaBt:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{position:e.position,title:"Edit grouping date",elementClass:"editDate",appendTo:".appendWrapper"},on:{closed:e.close}},[n("div",{staticClass:"taskDetails-formRow"},[n("div",{staticClass:"taskDetails-formCell"},[n("label",{staticClass:"taskDetails-label",attrs:{for:"editDate-date"}},[e._v("Date")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateValue,expression:"dateValue"},{name:"focus-mouse",rawName:"v-focus-mouse"}],ref:"dateInput",staticClass:"taskDetails-formInput",attrs:{type:"text",id:"editDate-date"},domProps:{value:e.dateValue},on:{input:function(t){t.target.composing||(e.dateValue=t.target.value)}}})])]),e._v(" "),n("date-input-inline",{staticClass:"taskDetails-dateSelector",attrs:{value:e.dateValue,maxDate:e.getMaxDate()},on:{input:e.dateInputInlineUpdate}}),e._v(" "),n("div",{staticClass:"taskDetails-formButtons taskDetails-formRow"},[n("button",{staticClass:"taskDetails-formCell taskDetails-formCell--right button button--success",on:{click:e.updateClick}},[e._v("\n            Update\n        ")])])],1)},staticRenderFns:[]}},"ER/7NAmEl+":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.task.description||e.editDescriptionVisible?n("div",{staticClass:"taskDetails-descriptionSection"},[n("label",{staticClass:"taskDetails-propertyLabel taskDetails-descriptionLabel"},[e._v("Description")]),e._v(" "),e.editDescriptionVisible?n("text-editor",{staticClass:"taskDetails-descriptionEditor",attrs:{focus:e.editDescriptionFocus,allowEmpty:!0,value:e.task.description||"",renderHtml:e.renderDescriptionHtml,onCancel:e.editDescriptionCancel,onDone:e.editDescriptionDone,placeholder:"Add description...",inputClass:"taskDetails-editDescriptionInput"},on:{input:e.setEditDescriptionValue,clickOutside:e.editDescriptionDone}}):n("div",{class:e.descriptionWrapperClasses},[n("div",{ref:"focusPlaceholder",staticClass:"taskDetails-focusPlaceholder",attrs:{tabindex:e.readOnly?-1:0},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.editDescriptionFromKeyboard(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.editDescriptionFromKeyboard(t)}]}}),e._v(" "),n("div",{ref:"description",staticClass:"taskDetails-description taskDetails-editableProperty markdown",domProps:{innerHTML:e._s(e.descriptionHtml)},on:{click:e.descriptionClick}}),e._v(" "),e.heightLimited?n("div",{staticClass:"taskDetails-descriptionLimitedBox",attrs:{title:e.descriptionLimitedTitle},on:{click:e.descriptionLimitedButtonClick}},[n("button",{staticClass:"taskDetails-descriptionLimitedExpandButton icons-chevron-down"})]):e._e()])],1):e._e()},staticRenderFns:[]}},EWBjBVnz0H:function(e,t,n){"use strict";var a=n("rEK1kr4M5E");e.exports=function(e){function t(e){return o[e]}function n(e){return o.findIndex(function(t){return t.uniqueId===e})}var i=e.boardId,o=e.columns;return{getAll:function(){return o.slice(0)},getColumnById:function(e){return o.find(function(t){return t.uniqueId===e})},getColumnByIndex:t,getColumnsBeforeColumn:function(e){var t=n(e);return t?o.slice(0,t):[]},getColumnIndexById:n,getNextColumn:function(e){return t(n(e)+1)},saveColumn:function(e){return a.jsonPost({url:"/administration/board/"+i+"/columns",data:e})},updateColumn:function(e){return a.jsonPost({url:"/administration/board/"+i+"/columns/"+e.uniqueId+"/update",data:e})},deleteColumn:function(e){return a.jsonPost({url:"/administration/board/"+i+"/columns/"+e.columnId+"/delete",data:{existingTasksAction:e.existingTasksAction,moveTasksToColumnId:e.moveTasksToColumnId}})},moveColumn:function(e,t){return a.jsonPost({url:"/administration/board/"+i+"/columns/"+e+"/move",data:{newIndex:t}})}}}},"Eu/lthGz+m":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("v+t8hBBdMx"),n("R2LgDlrhJw"),!1,null,null,null);e.exports=a.exports},EvLKEwywQ6:function(e,t,n){var a=n("uvMUa8xUPe"),i=n("7MmbaJBBjP"),o=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(e){return null==e?[]:(e=Object(e),a(r(e),function(t){return o.call(e,t)}))}:i;e.exports=s},FRAnNwouzc:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("rEK1kr4M5E"),o=n("EWUDtfBmmZ"),r=n("R9zOpUcM5X"),s=["save","delete","update"];e.exports=function(){var e=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.jsonPost({url:"/task-comment/save",data:t});case 2:n=e.sent,t._id=n,l.emit("save",{taskCommentId:n});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.jsonPost({url:"/task-comment/"+t._id+"/update",data:t});case 2:l.emit("update",{taskCommentId:t._id});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.jsonPost({url:"/task-comment/"+t+"/delete"});case 2:l.emit("delete",{taskCommentId:t});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=o(s);return{on:l.on,onAny:l.onAny,getAllForTask:r(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.get({url:"/task/"+e+"/comments",suppressGlobalErrorHandler:t.suppressGlobalErrorHandler})}),save:r(e),update:r(t),deleteById:r(n)}}},FRXtt7XDhB:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-property"},[t("label",{staticClass:"taskDetails-propertyLabel"},[this._v(this._s(this.labelText))]),this._v(" "),t("div",{staticClass:"taskDetails-propertyValue"},[t("due-date-list")],1)])},staticRenderFns:[]}},"G3r/MSY7Fs":function(e,t,n){"use strict";function a(e){return o(e,r())}function i(e){return o(r(),e)}function o(e,t){var n=r(t).diff(r(e));return Math.max(0,Math.floor(n/1e3))}var r=n("Zz1PBJ8Ns9"),s=n("MsGyxL+QFM").formatTimeWithUnits;e.exports={getTimerStateTextLines:function(e){var t=[],n=e.mode,o="pomodoroRunning"===n;if(o||"stopwatchRunning"===n){var l=function(e){var t=e.mode,n=e.sessionStartTimestamp;return"taskSelected"!==t&&"break"!==t&&n?a(n):0}(e),u=s(l)||"< 1m",c=o?"Pomodoro":"Stopwatch";t.push(c+" running: "+u);var d=function(e){var t=e.mode,n=e.selectedTaskStartTimestamp;return"taskSelected"!==t&&"break"!==t&&n?a(n):0}(e);if(d>=60&&d!==l){var m=s(d);t.push("Task time: + "+m)}if(o){var p=void 0,f=function(e){var t=e.mode,n=e.sessionStartTimestamp,a=e.targetWorkTimeMinutes;return"pomodoroRunning"===t&&n&&a?i(r(n).add(a,"minutes")):0}(e);p=0===f?"0m":f<60?"< 1m":s(f,{roundMinutesUp:!0})||"0m",t.push("Time until break: "+p)}}var h="break"===n,v=e.sessionEndTimestamp;if(v){var k=function(e){var t=e.sessionEndTimestamp;return t?a(t):0}(e),g=s(k)||"< 1m",b=h?"Pomodoro":"Session";t.push(b+" ended: "+g+" ago")}if(h){var T=function(e){var t=e.mode,n=e.sessionEndTimestamp,a=e.breakTimeMinutes;return"break"===t&&n&&a?i(r(n).add(a,"minutes")):0}(e);if(T>0){var y=s(T)||"< 1m";t.push("Break time left: "+y)}else t.push("Break over")}return"taskSelected"!==n||v||t.push("Task selected, but timer not started"),t}}},"G8a1m6+HMg":function(e,t){!function(){function t(e,t,o){if(!a)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var r=o&&o.debug||!1;if(r){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode.removeChild(s)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var u=l.style,c=window.getComputedStyle?getComputedStyle(e):e.currentStyle;u.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(u.wordWrap="break-word"),u.position="absolute",r||(u.visibility="hidden"),n.forEach(function(e){u[e]=c[e]}),i?e.scrollHeight>parseInt(c.height)&&(u.overflowY="scroll"):u.overflow="hidden",l.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(l.textContent=l.textContent.replace(/\s/g,""));var d=document.createElement("span");d.textContent=e.value.substring(t)||".",l.appendChild(d);var m={top:d.offsetTop+parseInt(c.borderTopWidth),left:d.offsetLeft+parseInt(c.borderLeftWidth)};return r?d.style.backgroundColor="#aaa":document.body.removeChild(l),m}var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],a="undefined"!=typeof window,i=a&&null!=window.mozInnerScreenX;void 0!==e&&void 0!==e.exports?e.exports=t:a&&(window.getCaretCoordinates=t)}()},GFE05gAGeP:function(e,t,n){var a=n("UuxzYNRyeK");e.exports=function(e){var t=[],n=e||{};return function(e,n,i){t.push("<div"+a.attr("id",i,!0,!0)+' data-bind="click: wrapperClicked, hasfocus: wrapperFocus, attr: { tabindex: wrapperTabindex }, css: { &quot;taskLabelInput-invalidAdd&quot;: invalidToAdd, &quot;taskLabelInput-inputFocus&quot;: inputFocus, &quot;taskLabelInput-expanded&quot;: expanded }"'+a.cls(["taskLabelInput",e?"taskLabelInput-singleLine":""],[null,!0])+'><div class="taskLabelInput-innerWrapper"><div class="taskLabelInput-contentWrapper"><div class="taskLabelInput-contentCollapsed"><div data-bind="foreach: collapsedLabels" class="taskLabelInput-labels"><div data-bind="text: name, css: { &quot;taskLabelInput-pinned&quot;: pinned }" class="taskLabelInput-label"></div></div><i data-bind="visible: hasHiddenLabels" class="taskLabelInput-ellipsis taskLabelInput-label">...</i></div><div class="taskLabelInput-content"><div data-bind="sortable: { data: labels, isEnabled: isSortable, options: { tolerance: &quot;pointer&quot;, opacity: 0.7, distance: 2  } }" class="taskLabelInput-labels"><div data-bind="text: name, click: $root.labelClicked, clickBubble: false, css: { &quot;taskLabelInput-pinned&quot;: pinned }" class="taskLabelInput-label touchPunch"></div></div></div><input type="text" data-bind="value: inputValue, visible: inputVisible, hasfocus: inputFocus, event: { keypress: inputKeyPressed, keydown: inputKeyDown, paste: inputPaste }, valueUpdate: [&quot;change&quot;, &quot;afterkeydown&quot;, &quot;afterpaste&quot;], autosizeInputWidth: true, attr: { placeholder: inputPlaceholder }" placeholder="Add labels..."'+a.attr("maxlength",n,!0,!0)+' class="taskLabelInput-input"></div><div data-bind="visible: !isReadOnly(), click: menuClicked" class="taskLabelInput-menuWrapper"><div class="taskLabelInput-menuIcon"></div></div></div></div>')}.call(this,"disableMultiLine"in n?n.disableMultiLine:"undefined"!=typeof disableMultiLine?disableMultiLine:void 0,"labelMaxLength"in n?n.labelMaxLength:"undefined"!=typeof labelMaxLength?labelMaxLength:void 0,"uniqueId"in n?n.uniqueId:"undefined"!=typeof uniqueId?uniqueId:void 0),t.join("")}},GJr1xTV04Q:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.createNamespacedHelpers("home"),r=o.mapGetters,s=o.mapActions,l=i.mapState,u=n("RNfSVdyTQ7");e.exports={data:function(){return{moveDialogVisible:!1,focusTextOnDone:!1}},computed:a({},l(["readOnly","task"]),r(["columnName","swimlaneName"]),{positionText:function(){var e=this.columnName;return this.swimlaneName&&(e+=" / "+this.swimlaneName),this.task.dateFinished&&(e+=" ("+u.formatDateShort(this.task.dateFinished)+")"),e},positionTextClasses:function(){var e=["taskDetails-positionText taskDetails-editableProperty truncate"];return this.moveDialogVisible&&e.push("taskDetails-editableProperty--active"),e}}),methods:a({},s(["showMoveAdvancedDialog"]),{showMoveAdvanced:function(){this.readOnly||(this.showMoveAdvancedDialog({position:{my:"left top",at:"left bottom",of:this.$refs.positionText},onClose:this.onDialogClose}),this.moveDialogVisible=!0)},onDialogClose:function(){this.moveDialogVisible=!1,this.focusTextIfApplicable()},focusTextIfApplicable:function(){this.focusTextOnDone&&(this.focusTextOnDone=!1,this.$refs.positionText.focus())},showMoveAdvancedFromKeyboard:function(){this.readOnly||(this.focusTextOnDone=!0,this.showMoveAdvanced())}})}},GU665b5GLB:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("TS0ILVVaKW"),o=n("rEK1kr4M5E"),r=n("iayxx/E6kY"),s=n("8hpciSPvDP"),l=n("gs1Kw+19DF");e.exports=function(e){function t(){(T=r({elementId:"premiumInfoDialog",noMargin:!0})).open(),o.get({url:"/board/"+g+"/premium-info-dialog-data"}).then(function(e){var t=l({featureTooltips:s});T.setContent(t),b=T.getElement(),function(e){(y=i.mapping.fromJS({loaded:!1,view:null,premiumInfoView:"main",isBoardOwner:e.isBoardOwner,isOrganizationOwner:e.isOrganizationOwner,moveToOrganizations:e.moveToOrganizations,boardOwnerFullName:e.boardOwnerFullName,canTrialPremium:e.canTrialPremium,moveToOrganizationId:null,dialogBodyScrollTop:0})).view(0===y.moveToOrganizations().length?"premiumInfo":"moveOrViewInfo"),y.moveBoardToOrganizationUrl=i.pureComputed(v),y.mainLinkVisible=i.pureComputed(k),y.showFooter=i.pureComputed(f),Object.assign(y,{viewFAQClicked:c,viewCompareMatrixClicked:d,viewMainClicked:m,showPremiumInfoClicked:p}),y.premiumInfoView.subscribe(h),i.applyBindings(y,b[0]),y.loaded(!0)}(e),u(),a(document).on("click.premiumInfoDialog",function(e){var t=e.target;if(!I||t!==I[0]){I&&(I.remove(),I=null);var n=a(t);n.hasClass("premiumInfoDialog-compareMatrix-featureText")&&(I=function(e){var t=e.data("tooltip"),n=a("<div/>",{class:"premiumInfoDialog-compareMatrix-featureTooltip"});return n.html(t),n}(n),n.append(I))}})}),T.on("closed",n)}function n(){a(document).off(".premiumInfoDialog"),I&&(I.remove(),I=null),b=null,T=null,y=null}function u(){if("premiumInfo"===y.view()){var e=b.find(".premiumInfoDialog-body")[0],t=void 0;e.addEventListener("scroll",function(){clearTimeout(t),t=setTimeout(function(){y.dialogBodyScrollTop(e.scrollTop)},300)})}}function c(){y.premiumInfoView("faq")}function d(){y.premiumInfoView("compareMatrix")}function m(){y.premiumInfoView("main")}function p(){y.view("premiumInfo"),u()}function f(){return"main"!==y.premiumInfoView()||y.dialogBodyScrollTop()>600}function h(){b.find(".premiumInfoDialog-body").scrollTop(0)}function v(){var e=y.moveToOrganizationId();return"/administration/move-board?boardId="+g+"&organizationId="+e}function k(){return"premiumInfo"===y.view()&&"main"!==y.premiumInfoView()}var g=e.boardId,b=void 0,T=void 0,y=void 0,I=void 0;return{show:t}}},GVnuS6ZnCm:function(e,t,n){"use strict";function a(){return{my:"left top",at:"right+8px top+8px",of:L(".taskDetails-sidebar-addButton")}}function i(){o(L(".taskDetails-sidebar-addButton"))}function o(e){Y.scrollToShow(e,L(".taskDetails-wrapper"))}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n("lRwfdXqfkY"),l=n("SJI6FcOvAZ"),u=l.mapState,c=l.mapMutations,d=l.mapActions,m=l.createNamespacedHelpers("home").mapActions,p=l.createNamespacedHelpers("color").mapActions,f=l.createNamespacedHelpers("members"),h=f.mapState,v=f.mapActions,k=l.createNamespacedHelpers("labels"),g=k.mapState,b=k.mapActions,T=l.createNamespacedHelpers("subTasks"),y=T.mapState,I=T.mapActions,w=T.mapMutations,x=l.createNamespacedHelpers("comments"),C=x.mapMutations,D=x.mapState,S=x.mapActions,E=l.createNamespacedHelpers("timeEstimate").mapActions,_=l.createNamespacedHelpers("pointsEstimate").mapActions,M=l.createNamespacedHelpers("dueDates"),R=M.mapActions,O=M.mapGetters,A=l.createNamespacedHelpers("manualTimeEntry").mapMutations,N=l.createNamespacedHelpers("files").mapMutations,F=l.createNamespacedHelpers("relations").mapMutations,L=n("LID5hgrivl").$,P=n("KmF7oWDpur"),B=n("SmleeLhAWw"),V=n("y2PMfzXobE"),H=n("33jGYQ+kO/"),U=n("wI3K4c2nZb"),W=n("lb46iHLaM4"),j=n("YMK/h2AxfX"),K=n("DaOOytMETX"),G=n("3qmz3wED6s"),z=n("NKFQkhZ/hO"),Y=n("Gh3TGTRxcI");e.exports={data:function(){return{isIpad:navigator.userAgent.includes("iPad"),editTimeEstimateVisible:!1,openTime:Date.now()}},computed:r({},u(["task","view","isPremium","readOnly","onboardingVisible","estimationType"]),h({membersVisible:"visible"}),g({labelsVisible:"visible"}),y(["addSubTaskName"]),D(["addCommentText"]),O(["inLastColumn"]),{fileDropZoneEnabled:function(){return this.isPremium&&!this.readOnly},taskDetailsClasses:function(){var e=["taskDetails taskColor--"+this.task.color];return this.readOnly&&e.push("taskDetails--readOnly"),e},mainClasses:function(){return"taskDetails-main taskBorderColor--"+this.task.color}}),methods:r({},c({showHome:"SHOW_HOME"}),A({setAddManualTimeEntryVisible:"SET_ADD_VISIBLE"}),w({showAddSubTask:"SHOW_ADD_SUBTASK",setAddSubTaskName:"SET_ADD_SUBTASK_NAME"}),C({setAddCommentText:"SET_ADD_COMMENT_NAME"}),N({setAddFileVisible:"SET_ADD_VISIBLE"}),F({setAddRelationVisible:"SET_ADD_VISIBLE"}),d(["completeOnboarding","showKeyboardShortcuts"]),m(["editDescription"]),p(["showEditColor"]),v(["showMembersDialog"]),b(["showLabelsDialog"]),E({showAddOrEditTimeEstimate:"showAddOrEdit"}),_({showAddOrEditPointsEstimate:"showAddOrEdit"}),R({showAddOrEditDueDate:"showAddOrEdit"}),I(["addSubTask"]),S(["addComment","showAddComment"]),{close:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!z.isModalShowing()){e.next=2;break}return e.abrupt("return");case 2:if(t=!!this.addSubTaskName,!this.addSubTaskName){e.next=16;break}return e.next=6,z.customModal({html:"<p>You have started to add a new subtask.</p><p>Would you like to add the subtask?</p>",buttons:[{text:"Cancel",value:"cancel"},{text:"No, skip it",value:"skip",type:"danger"},{text:"Yes, add it",value:"add",type:"success"}]});case 6:n=e.sent,e.t0=n,e.next="cancel"===e.t0?10:"skip"===e.t0?11:"add"===e.t0?13:16;break;case 10:return e.abrupt("return");case 11:return this.setAddSubTaskName(""),e.abrupt("break",16);case 13:return this.addSubTask(this.addSubTaskName),this.setAddSubTaskName(""),e.abrupt("break",16);case 16:if(!this.addCommentText){e.next=29;break}return e.next=19,z.customModal({html:"<p>You have started to add a new comment.</p><p>Would you like to add the comment?</p>",buttons:[{text:"Cancel",value:"cancel"},{text:"No, skip it",value:"skip",type:"danger"},{text:"Yes, add it",value:"add",type:"success"}],delayModal:t?400:0});case 19:a=e.sent,e.t1=a,e.next="cancel"===e.t1?23:"skip"===e.t1?24:"add"===e.t1?26:29;break;case 23:return e.abrupt("return");case 24:return this.setAddCommentText(""),e.abrupt("break",29);case 26:return this.addComment(this.addCommentText),this.setAddCommentText(""),e.abrupt("break",29);case 29:this.$emit("close");case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),enableKeyboardShortcuts:function(){var e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({esc:this.escPressed,k:this.homeShortcut(this.commentShortcut),a:this.addShortcut,t:this.timerShortcut,p:this.reportsShortcut,".":this.moreShortcut},K.keyboardShortcut,this.showKeyboardShortcuts);this.readOnly||Object.assign(e,{n:this.homeShortcut(this.nameShortcut),c:this.homeShortcut(this.colorShortcut),d:this.homeShortcut(this.editDescription),m:this.homeShortcut(this.membersShortcut),l:this.homeShortcut(this.labelShortcut),s:this.homeShortcut(this.subTaskShortcut),e:this.homeShortcut(this.estimateShortcut),y:this.homeShortcut(this.manualTimeEntryShortcut),u:this.homeShortcut(this.dueDateShortcut),f:this.homeShortcut(this.fileShortcut),r:this.homeShortcut(this.relationShortcut),v:this.moveShortcut,del:this.deleteShortcut}),G.addContext({name:"taskDetails",map:e}),this.onboardingVisible&&G.onBeforeCallback(this.onBeforeCallbackKeymaster)},disableKeyboardShortcuts:function(){G.deleteContextByName("taskDetails"),G.offBeforeCallback(this.onBeforeCallbackKeymaster)},homeShortcut:function(e){var t=this;return function(n){for(var a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n.preventDefault(),t.showHome(),e.apply(void 0,[n].concat(i))}},escPressed:function(){this.close()},nameShortcut:function(){s.nextTick(function(){L(".taskDetails-name").click()})},colorShortcut:function(){o(L(".taskDetails-color")),this.showEditColor()},membersShortcut:function(){this.membersVisible?(o(L(".taskDetails-addMemberButton")),this.showMembersDialog({position:{my:"left top",at:"left bottom+2px",of:L(".taskDetails-addMemberButton")}})):(i(),this.showMembersDialog({position:a()}))},labelShortcut:function(){this.labelsVisible?(o(L(".taskDetails-addLabelButton")),this.showLabelsDialog({position:{my:"left top",at:"left bottom",of:L(".taskDetails-addLabelButton")}})):(i(),this.showLabelsDialog({position:a()}))},subTaskShortcut:function(){this.showAddSubTask()},commentShortcut:function(){this.showAddComment()},estimateShortcut:function(){"points"===this.estimationType?this.pointsEstimateShortcut():this.timeEstimateShortcut()},pointsEstimateShortcut:function(){this.task.pointsEstimate?o(L(".taskDetails-pointsEstimate")):i(),this.showAddOrEditPointsEstimate()},timeEstimateShortcut:function(){this.task.totalSecondsEstimate?o(L(".taskDetails-timeEstimate")):i(),this.showAddOrEditTimeEstimate()},manualTimeEntryShortcut:function(){i(),this.setAddManualTimeEntryVisible(!0)},dueDateShortcut:function(){this.inLastColumn?z.alert("Can not set a due date for tasks in the last column"):(this.task.dates.length?o(L(".taskDetails-dueDates")):i(),this.showAddOrEditDueDate())},fileShortcut:function(){this.isPremium&&(i(),this.setAddFileVisible(!0))},relationShortcut:function(){this.isPremium&&(i(),this.setAddRelationVisible(!0))},moveShortcut:function(){var e=L(".taskDetails-sidebar-moveButton");o(e),e.click()},addShortcut:function(){i(),L(".taskDetails-sidebar-addButton").click()},timerShortcut:function(){var e=L(".taskDetails-sidebar-timerButton");o(e),e.click()},moreShortcut:function(){var e=L(".taskDetails-sidebar-moreButton");o(e),e.click()},reportsShortcut:function(){var e=L(".taskDetails-sidebar-reportsButton");o(e),e.click()},deleteShortcut:function(){var e=L(".taskDetails-sidebar-deleteButton");o(e),e.click()},getTimeEstimateTextPosition:function(){return{my:"left top",at:"left bottom",of:L(".taskDetails-timeEstimate")}},wrapperClick:function(){Date.now()-this.openTime>=1e3&&this.close()},onBeforeCallbackKeymaster:function(){if(this.onboardingVisible)return{cancel:!0}}}),mounted:function(){var e=this;this.enableKeyboardShortcuts(),this.$nextTick(function(){e.$refs.focusDummy.focus()})},destroyed:function(){this.disableKeyboardShortcuts()},components:{home:B,sidebar:P,"time-log":V,history:H,"file-drop-zone":U,"edit-time-estimate":W,onboarding:j}}},"GX0H/ktlL3":function(e,t,n){"use strict";var a=n("ly9CaayYMf"),i=n("TS0ILVVaKW"),o=n("Zz1PBJ8Ns9"),r=n("XFfkXMuIvr"),s=n("NKFQkhZ/hO"),l=n("MsGyxL+QFM"),u=n("RNfSVdyTQ7"),c=n("QFEgsXpyaj"),d=n("8iHB64F76s"),m=n("5KGII0oTEc");e.exports=function(e){function t(){L.off("update",n),W.remove(),W=null,U=null,H=null,j=null}function n(e){!function(e){var t="workEntry"===e.type?j.workEntries:j.manualTimeEntries,n=t.findIndex(function(t){return t._id===e._id});t.splice(n,1,e)}(e),M(e),function(e){var t,n="workEntry"===e.type?g(e):b(e);(t=H.items).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))}(e)}function p(e){return e.collectedPomodoro()}function f(e){return"pomodoro"===e.timerMode()&&!e.collectedPomodoro()}function h(){var e=a(H.items(),function(e){return o(e.startTimestamp()).format("YYYY-MM-DD")}),t=Object.keys(e);return t.sort(),t.reverse(),t.map(function(t){var n=e[t];return n.sort(function(e,t){return e.startTimestamp().localeCompare(t.startTimestamp())}),i.mapping.fromJS({items:n,title:u.weekdayDateMonthString(o(t).toDate(),{friendlyTodayAndYesterday:!0}),totalTimeText:function(e){var t=0;e.forEach(function(e){t+=e.totalSeconds()});var n=t<60;return l.formatTimeWithUnits(t,{showSeconds:n})}(n),pomodorosText:v(n.filter(function(e){var t=e.partsIndex()+1===e.partsCount();return e.collectedPomodoro()&&t}).length,"Pomodoro"),flowPointsText:function(e){var t=0;return n.forEach(function(e){t+=e.flowPoints()}),v(t,"FlowPoint")}()})})}function v(e,t){return e?e+" "+t+(e>1?"s":""):""}function k(){var e=c(j.workEntries,function(e){return g(e)}).concat(c(j.manualTimeEntries,b));H.items(e)}function g(e){var t=function(e){return T(e.startTimestamp,I(e))}(e),n=t.length;return t.map(function(t,a){var r=o.max(o(t),o(e.startTimestamp)),s=r.toISOString(),l=o.min(o(t).add(1,"day"),o(I(e))),u=l.toISOString(),c=a+1===n;return i.mapping.fromJS({entryId:e._id,type:"workEntry",partsIndex:a,partsCount:n,timerMode:e.timerMode,taskNames:function(e){return e.actions.map(function(e){return e.taskName})}(e),startTimestamp:s,endTimestamp:u,collectedPomodoro:e.collectedPomodoro,flowPoints:c?y(e):0,description:function(e,t){var n=t.partsCount,a=t.partsIndex,i=function(e,t){if("stopwatch"===e.timerMode)return"Stopwatch";if(e.collectedPomodoro)return t?"Successful Pomodoro, "+v(y(e),"FlowPoint"):"Successful Pomodoro, points given at last part";if("rejectedOffer"===e.reasonNoPomodoro)return"Rejected Pomodoro";var n=e.actions[e.actions.length-1].end.disturbanceInfo;return n?'Stopped Pomodoro with reason "'+n.type+'"':"Stopped Pomodoro"}(e,a+1===n);return n>1&&(i+=" ("+(a+1)+"/"+n+")"),i}(e,{partsIndex:a,partsCount:n}),totalSeconds:l.diff(r,"seconds"),durationText:w(s,u),timespanText:x(s,u)})})}function b(e){var t=function(e){return T(e.startTimestamp,e.endTimestamp)}(e),n=t.length;return t.map(function(t,a){var r=o.max(o(t),o(e.startTimestamp)),s=r.toISOString(),l=o.min(o(t).add(1,"day"),o(e.endTimestamp)),u=l.toISOString(),c="Manually added time";return n>1&&(c+=" ("+(a+1)+"/"+n+")"),i.mapping.fromJS({entryId:e._id,type:"manualTimeEntry",partsIndex:a,partsCount:n,timerMode:"manual",taskNames:[e.taskName],startTimestamp:s,endTimestamp:u,collectedPomodoro:!1,flowPoints:0,description:c,totalSeconds:l.diff(r,"seconds"),durationText:w(s,u),timespanText:x(s,u)})})}function T(e,t){var n=[],a=o(e).startOf("day"),i=o(t).format("YYYY-MM-DD");do{var r=a.format("YYYY-MM-DD");n.push(r),a.add(1,"day")}while(a.format("YYYY-MM-DD")<=i);return n}function y(e){return j.workEntryIdToFlowPointsMap[e._id]||0}function I(e){var t=e.actions;return t[t.length-1].end.timestamp}function w(e,t){var n=o(t).diff(e,"seconds"),a=n<60;return l.formatTimeWithUnits(n,{showSeconds:a})}function x(e,t){var n="HH:mm";return u.isAmPmTimeFormat()&&(n="h:mm A"),o(e).format(n)+" - "+o(t).format(n)}function C(){return 0===H.items().length}function D(e,t){var n=R(e);L.showForEntry(n,{positionRelativeTo:t.target})}function S(e,t){var n=R(e),a=function(){M(n),"workEntry"===n.type?N.deleteEntryAndUpdateTasks(new d(n)):F.deleteEntryAndUpdateTask(n)};if(t.shiftKey)a();else{var i=1;"workEntry"===n.type&&(i=new d(n).getUniqueTaskIds().length);var o=["This will delete the entry and decrease the time spent on the involved "+(1===i?"task":"tasks")+"."];e.partsCount()>1&&o.push("<strong>Note</strong>: The entry spans multiple days and it will be deleted from all of them."),o.push("Are you sure you want to continue?");var r=o.map(function(e){return"<p>"+e+"</p>"}).join("");s.confirmHtml(r,a)}}function E(){B.show()}function _(){V.showTimeSpentReport()}function M(e){H.items().slice().forEach(function(t){t.entryId()===e._id&&H.items.remove(t)})}function R(e){return("workEntry"===e.type()?j.workEntries:j.manualTimeEntries).find(function(t){return t._id===e.entryId()})}var O=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=3;break}return U.open(),e.abrupt("return");case 3:return(U=r({elementId:"workLogDialog",title:"Work log",theme:"light",clickOutsideToClose:!0})).open(),U.on("closed",t),W=U.getElement(),e.next=9,function(){var e=o().subtract(13,"days").startOf("day").toISOString();return A.getData({startTimestamp:e})}();case 9:j=e.sent,a=m(),U.setContent(a),(H=i.mapping.fromJS({items:[],isPremium:P})).dateGroups=i.pureComputed(h),H.showNoEntriesExist=i.pureComputed(C),Object.assign(H,{isSuccessfulPomodoroItem:p,isFailedPomodoroItem:f,editItemClicked:D,deleteItemClicked:S,premiumClicked:E,timeSpentReportClicked:_}),i.applyBindings(H,W[0]),k(),L.on("update",n);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),A=e.logDataRepository,N=e.workEntryRepository,F=e.manualTimeEntryRepository,L=e.editTimeEntryDialog,P=e.isPremium,B=e.premiumInfoDialog,V=e.reportLoader,H=void 0,U=void 0,W=void 0,j=void 0;return{show:O,_getModel:function(){return H}}}},GmNUBKa31M:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},GmjbhFVkUr:function(e,t,n){"use strict";function a(e){return"A"===e.target.tagName}function i(e){return"active"===e.status&&o(e.dueTimestamp).diff(Date.now(),"days")<7}var o=n("Zz1PBJ8Ns9"),r=n("e9xRBbbPG2"),s=n("MsGyxL+QFM"),l=n("RNfSVdyTQ7"),u=n("fi3JK86/f7"),c=n("VUy0pw8dEn"),d=n("zCnJNEeu5Z").encode,m=n("mvh6zL5Lsy");n("gRduait4db"),e.exports={props:["task"],data:function(){return{fadeFixTimeout:null}},computed:{taskClasses:function(){var e=this.task,t=["task","task-"+e.color];return e.isHiddenByFilter&&t.push("task-hiddenByFilter"),e.selected&&t.push("task-selected"),e.selectedByTimer&&t.push("task-selectedByTimer"),this.hasDisabledForecast&&t.push("task-forecastDisabled"),!this.hasIcons&&this.hasAvatars&&t.push("task--avatarIconsOnly"),t},taskTitle:function(){return this.hasDisabledForecast?this.task.forecast.disabledReason:null},hasDisabledForecast:function(){return this.task.forecast&&this.task.forecast.disabled},taskNameHtml:function(){var e=r.createHtmlFromText(this.task.name,{enableLinks:!0}),t=this.numberText;return t?d(t)+": "+e:e},descriptionHtml:function(){return u.render(this.task.description)},hasDescription:function(){return this.task.description.trim().length>0},hasLabels:function(){return this.task.labels.length>0},numberText:function(){return c.getNumberTextOrNull(this.task)},hasValidDates:function(){return this.task.validDates.length>0},hasValidRepeatingDate:function(){return this.task.validDates.some(function(e){return!!e.repeat})},hasDueDatesToShow:function(){return this.dueDatesToShow.length>0},dueDatesToShow:function(){var e=this.task.validDates;if(0===e.length)return[];var t=this.task.dueDateDisplayMode,n=void 0;"hiddenFromStart"===t?n=[]:"showOverdue"===t?n=e.filter(function(e){return e.isOverdue}):"show7daysBefore"===t?n=e.filter(i):"showAlways"===t&&(n=e);var a=[n];return n.length===e.length||a.push(e),n.length&&a.push([]),a[this.task.dueDatesVisibilityMode%a.length]},repeatingDueDate:function(){return this.task.validDates.find(function(e){return!!e.repeat})},hasPinnedLabels:function(){return this.pinnedLabels.length>0},pinnedLabels:function(){return this.task.labels.filter(function(e){return e.pinned})},timeElementVisible:function(){return!!this.addedTimeVisible||this.timeSpentText.length>0||this.timeEstimateText.length>0},timeSpentText:function(){var e=this.task;return this.hasOneMinSpent?s.formatTimeWithUnits(e.totalSecondsSpent):this.hasOneMinEstimate?e.totalSecondsEstimate>=3600?"0h":"0m":""},addedSecondsWithBonus:function(){return this.task.totalSecondsAdded+(this.task.totalSecondsSpent||0)%60},addedTimeVisible:function(){return this.addedSecondsWithBonus>=60},hasOneMinSpent:function(){return this.task.totalSecondsSpent>=60},hasOneMinEstimate:function(){return this.task.totalSecondsEstimate>=60},timeEstimateText:function(){var e=this.task;return this.hasOneMinEstimate?s.formatTimeWithUnits(e.totalSecondsEstimate):""},timeElementTitle:function(){var e=this.timeSpentText.length>0||this.addedTimeVisible,t=this.timeEstimateText.length>0,n="";return e&&(n+="Time spent"),e&&t&&(n+=" / "),t&&(n+="Time estimate"),n},timeElementHtml:function(){var e="";return this.timeSpentText&&(e+=this.timeSpentText),this.addedTimeVisible&&(e+='<span class="task-addedTime"> + '+s.formatTimeWithUnits(this.addedSecondsWithBonus)+"</span>"),this.timeEstimateText&&(e+=" / "+this.timeEstimateText),e},hasIcons:function(){return this.hasDescription||this.hasValidRepeatingDate||this.hasValidDates||this.hasSubTasks||this.timeElementVisible||this.task.pointsEstimate>0||this.task.hasComments||this.task.hasAttachments||this.task.hasRelations},hasAvatars:function(){return this.task.userAvatars.length>0},hasSubTasks:function(){return this.task.subTasks.length>0},unfinishedSubTasks:function(){return this.task.subTasks.filter(function(e){return!e.finished})},unfinishedSubTasksToShow:function(){return this.task.maxSubTasksToShow?this.unfinishedSubTasks.slice(0,this.task.maxSubTasksToShow):this.unfinishedSubTasks},subTasksToShow:function(){var e=this.task;return e.subTasksVisible?e.onlyUnfinishedSubTasksVisible?this.unfinishedSubTasksToShow:this.task.subTasks:[]},subTaskCount:function(){return this.task.subTasks.length},finishedSubTaskCount:function(){return this.task.subTasks.filter(function(e){return!!e.finished}).length},hiddenSubTaskCount:function(){var e=this.unfinishedSubTasks.length-this.unfinishedSubTasksToShow.length;return this.finishedSubTaskCount+e},hiddenSubTasksText:function(){if(!this.task.showUnfinishedSubTasksDisplaySettingEnabled)return"";if(!this.task.subTasksVisible)return"";if(0===this.hiddenSubTaskCount)return"";if(!this.task.onlyUnfinishedSubTasksVisible)return"Collapse";if(this.allSubTasksFinished)return(1===this.subTaskCount?"Subtask":"All "+this.subTaskCount+" subtasks")+" done";var e=this.hiddenSubTaskCount+" hidden";return this.finishedSubTaskCount&&(e+=" ("+this.finishedSubTaskCount+" done)"),e},hiddenSubTasksTitle:function(){return this.allSubTasksFinished?"Click to show done "+(1===this.subTaskCount?"subtask":"subtasks"):this.task.onlyUnfinishedSubTasksVisible?"Click to expand subtasks":"Click to collapse subtasks"},subTasksVisible:function(){return this.hasSubTasks&&(this.subTasksToShow.length||this.hiddenSubTasksText.length)},allSubTasksFinished:function(){return this.subTaskCount===this.finishedSubTaskCount},taskSettingsJson:function(){var e=this.task;if(e.descriptionVisible||e.subTasksVisible){var t={};return e.descriptionVisible&&(t.descriptionExpanded=!0),e.subTasksVisible&&(t.subTasksExpanded=!0),JSON.stringify(t)}},fadingSubTasks:function(){return this.subTasksToShow.filter(function(e){return e.fadeOut})}},watch:{fadingSubTasks:function(){var e=this;clearTimeout(this.fadeFixTimeout),this.fadingSubTasks.length&&(this.fadeFixTimeout=setTimeout(function(){e.fadingSubTasks.slice().forEach(function(t){e.onSubTaskFadeOutDone(t)})},800))}},methods:{getSubTaskClasses:function(e){return e.fadeOut?"fadeOut":null},getDueDateClass:function(e){return"done"===e.status?"task-dueDateDone":e.isOverdue?"task-dueDatePassed":void 0},formatDueDateTimeString:function(e){var t=l.parseIsoTimestampString(e.dueTimestamp),n=(t.getTime()-Date.now())/864e5;return Math.abs(n)>60?l.friendlyDateTimeString(t):l.isToday(t)?"Today "+l.getFriendlyTimeString(t):l.isTomorrow(t)?"Tomorrow "+l.getFriendlyTimeString(t):0<n&&n<=5?l.weekdayTimeString(t):l.friendlyDateMonthTimeString(t)},formatTextMaxLength:function(e,t){return r.textMaxLength(e,t)},getSubTaskNameHtml:function(e){return r.createHtmlFromText(e.name,{enableLinks:!0})},dueDateIconClick:function(e){this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,target:"dueDates",event:e})},descriptionIconClick:function(e){this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,target:"description",event:e})},subTasksIconClick:function(e){this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,target:"subTasks",event:e})},commentsIconClick:function(e){this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,target:"comments",event:e})},attachmentsIconClick:function(e){this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,target:"attachments",event:e})},relationsIconClick:function(e){this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,target:"relations",event:e})},avatarClick:function(e,t){e.isOnlyTimerUser||this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,event:t,target:"avatar",memberId:e.memberId})},taskClick:function(e){a(e)?e.stopPropagation():this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,event:e})},subTaskClick:function(e,t){this.task.subTasksReadOnly?this.taskClick(t):this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,event:t,target:"subTask",subTask:e,shouldFadeOut:this.task.onlyUnfinishedSubTasksVisible})},subTaskNameClick:function(e){a(e)&&e.stopPropagation()},hiddenSubTasksTextClick:function(e){this.$emit("taskClick",{taskId:this.task.taskId,taskElement:this.$el,target:"hiddenSubTasksText",event:e})},highlightTask:function(){this.$emit("highlight",this.task.taskId)},onSubTaskFadeOutDone:function(e){this.$emit("setSubTaskFinished",{subTask:e,taskId:this.task.taskId})}},components:{"user-avatar":m}}},Gsi0AaklkF:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},H6IWmkXqUs:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n("heLhFGELzy")),r=(a(n("wK5dsQjYHe")),function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.strategy=t,this.term=n,this.match=a}return i(e,[{key:"execute",value:function(e){var t=this;this.strategy.search(this.term,function(n){e(n.map(function(e){return new o.default(e,t.term,t.strategy)}))},this.match)}}]),e}());t.default=r},HA6ZraVUS1:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("files"),s=r.mapState,l=r.mapMutations,u=r.mapGetters,c=r.mapActions,d=i.createNamespacedHelpers("home").mapState,m=n("RNfSVdyTQ7"),p=n("5uxdCD9gGD"),f=n("Gh3TGTRxcI"),h=n("NKFQkhZ/hO"),v=n("LID5hgrivl"),k=v.$$,g=v.$,b=n("utzbvpgxGf"),T=n("5SZpnDbLSO");n("EyP3jztVoF"),e.exports={data:function(){return{addFileVisible:!1,menuAttachmentId:null}},computed:a({},o(["task","readOnly"]),d(["loadingAsyncSections"]),s(["attachments","attachmentsFailedToLoad","attachmentsUploading","attachmentsUploadPercentage","focusSection"]),u(["attachmentsCount"]),{addFileByline:function(){return this.attachmentsUploading?"Uploading ("+this.attachmentsUploadPercentage+"%)":"or drag-and-drop to upload"},fileWrapperClasses:function(){return"taskDetails-fileWrapper taskColor--"+this.task.color}}),watch:{focusSection:function(){this.focusSection&&(f.scrollToShow(this.$refs.filesSection,g(".taskDetails-wrapper")),this.setFocusSection(!1))}},methods:a({},c(["deleteAttachment","moveAttachment"]),l({setFocusSection:"SET_FOCUS_SECTION"}),{formatAttachmentTimestamp:function(e){var t=new Date(e);return m.friendlyLocalDateTimeString(t)},formatAttachmentSize:function(e,t){return"s3"===e?p.format(t):{googleDrive:"Google Drive",dropbox:"Dropbox",box:"Box"}[e]},getAddFileDialogPosition:function(){return{my:"left top",at:"left bottom+5px",of:this.$refs.addFile}},getSortableOptions:function(){return{draggable:".taskDetails-fileWrapper",group:".taskDetails-files",ghostParent:document.body,scroll:{x:!1,y:!0,speed:20,threshold:30},scrollParent:".taskDetails-wrapper",allowHiddenScrollParentOverflow:!1,delay:220}},onSortUpdate:function(e){var t=e.oldIndex,n=e.newIndex;this.moveAttachment({oldIndex:t,newIndex:n})},openAttachmentAtIndex:function(e){k(".taskDetails-fileLink")[e].click()},getMoreIconClasses:function(e){var t=["taskDetails-moreIcon taskDetails-fileMore icons--button icons-more icons-gray"];return e===this.menuAttachmentId&&t.push("taskDetails-moreIcon--menuOpen"),t},showAddFile:function(){this.addFileVisible=!0},addFileClose:function(){this.addFileVisible=!1},hideMenu:function(){this.menuAttachmentId=null},onMenuDelete:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.menuAttachmentId,n=this.attachments.find(function(e){return e.attachmentId===t}),e.next=4,h.confirmHtml(function(e){var t=n.attachmentType;return"googleDrive"===t?"Are you sure you want to remove the file link? It will <strong>not</strong> be deleted on Google Drive.":"dropbox"===t?"Are you sure you want to remove the file link? It will <strong>not</strong> be deleted on Dropbox.":"box"===t?"Are you sure you want to remove the file link? It will <strong>not</strong> be deleted on Box.":"Are you sure you want to <strong>permanently</strong> delete the file?"}());case 4:(a=e.sent)&&this.deleteAttachment(t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getFileMenuPosition:function(){var e=this,t=this.attachments.findIndex(function(t){return t.attachmentId===e.menuAttachmentId});return{my:"right top",at:"right bottom+2px",of:k(".taskDetails-fileMore")[t]}}}),components:{"add-file":T,"kf-menu":b}}},HI10SF8mJN:function(e,t,n){var a=n("VcL+WasjrP"),i=n("B/NjbiFWsT"),o=n("LN6cGD0Ow+");e.exports=function(e){return o(e)?a(e):i(e)}},HOr2IPxSN6:function(e,t,n){"use strict";var a=["subTasks","labels","collaborators","members","dates"],i=["description"];e.exports.unpack=function(e){e.type||(e.type="task"),a.forEach(function(t){e[t]||(e[t]=[])}),i.forEach(function(t){e[t]||(e[t]="")})}},HWRvlVImAu:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("UcHAjbyVoF"),n("z3/QUKO/oy"),!1,null,null,null);e.exports=a.exports},HjF1U9IMn3:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"timeEstimateText",class:e.textClasses,attrs:{tabindex:e.readOnly?-1:0},on:{click:e.showEditTimeEstimate,keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.showEditTimeEstimateFromKeyboard(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.showEditTimeEstimateFromKeyboard(t)}]}},[e._v("\n        "+e._s(e.timeEstimateText)+"\n    ")]),e._v(" "),e.editTimeEstimateVisible?n("edit-time-estimate",{attrs:{position:e.getTimeEstimateTextPosition()},on:{done:e.updateTimeEstimate,delete:e.deleteTimeEstimate,close:e.editTimeEstimateClose}}):e._e()],1)},staticRenderFns:[]}},"I1ovlT6tj/":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ"),r=o.mapState,s=o.mapActions,l=o.createNamespacedHelpers("home"),u=l.mapState,c=l.mapMutations,d=l.mapActions,m=n("fi3JK86/f7"),p=n("LID5hgrivl").hasSelectedText,f=n("ufG6hcaWDZ");e.exports={data:function(){return{expanded:!1,height:null,focusPlaceholderOnDone:!1}},computed:i({},r(["task","readOnly"]),u(["editDescriptionVisible","editDescriptionFocus"]),{descriptionWrapperClasses:function(){var e=["taskDetails-descriptionWrapper"];return this.heightLimited&&e.push("taskDetails-descriptionWrapper--limited"),this.expanded&&e.push("taskDetails-descriptionWrapper--expanded"),e},descriptionHtml:function(){return this.renderDescriptionHtml(this.task.description)},heightLimited:function(){return this.height>250},descriptionLimitedTitle:function(){return this.expanded?"Show less":"Show all"}}),watch:{"task.description":function(){this.updateHeightOnNextTick()},heightLimited:function(e){e||(this.expanded=!1)}},methods:i({},c({setEditDescriptionValue:"SET_EDIT_DESCRIPTION_VALUE",setEditDescriptionVisible:"SET_EDIT_DESCRIPTION_VISIBLE",setEditDescriptionFocus:"SET_EDIT_DESCRIPTION_FOCUS"}),s(["updateTask"]),d(["editDescription"]),{renderDescriptionHtml:function(e){return m.render(e)},editDescriptionFromKeyboard:function(){this.readOnly||(this.focusPlaceholderOnDone=!0,this.editDescription())},descriptionClick:function(e){p()||function(e){return"A"===e.nodeName}(e.target)||this.readOnly||this.editDescription()},descriptionLimitedButtonClick:function(){this.expanded=!this.expanded},editDescriptionCancel:function(){this.setEditDescriptionVisible(!1),this.updateHeightOnNextTick(),this.focusPlaceholderIfApplicable()},editDescriptionDone:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveDescription(t);case 2:this.setEditDescriptionVisible(!1),this.updateHeightOnNextTick(),this.focusPlaceholderIfApplicable();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveDescription:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.saving=!0,e.next=3,this.updateTask({description:t});case 3:this.saving=!1;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),focusPlaceholderIfApplicable:function(){var e=this;this.focusPlaceholderOnDone&&(this.focusPlaceholderOnDone=!1,this.$nextTick(function(){e.$refs.focusPlaceholder.focus()}))},updateHeightOnNextTick:function(){var e=this;this.$nextTick(function(){e.$refs.description&&(e.height=e.$refs.description.scrollHeight,e.updateHeightOnImageLoad())})},updateHeightOnImageLoad:function(){var e=this,t=this.$refs.description.querySelectorAll("img"),n=!0,a=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)o.value.addEventListener("load",function(){e.height=e.$refs.description.scrollHeight})}catch(e){a=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(a)throw i}}}}),mounted:function(){this.task.description&&this.updateHeightOnNextTick()},components:{"text-editor":f}}},"I78kXH4/jt":function(e,t,n){"use strict";var a=n("DCJVAPnbPc");e.exports=function(e){function t(e){c(e.taskId)&&function(e){var t=e.taskId,n=Object.assign({},e.taskData);e.undefinedTaskData&&e.undefinedTaskData.forEach(function(e){n[e]=void 0}),m.localMergeTask({taskId:t,taskData:n})}(e)}function n(e){c(e.taskId)&&u(e)}function i(e){l(e)}function o(e){l(e)}function r(e){u(e)}function s(e){l(e)}function l(e){var t=e.task;m.localSaveTask(t)}function u(e){var t=e.taskId;m.localDeleteTaskById(t)}function c(e){return!!m.getTaskById(e)}var d=e.socket,m=e.taskRepository,p=e.windowToken;return{startListening:function(){a.init(p),d.on("task/merge",t),d.on("task/delete",n),d.on("task/save",i),d.on("task/restore",o),d.on("task/movedAway",r),d.on("task/movedHere",s)}}}},"IVes+VfQYC":function(e,t,n){var a=n("bViCOLaR5Y")(n("MIhMQmxRht"),"Set");e.exports=a},"Ih/X30X6WM":function(e,t,n){"use strict";function a(e){var t=0;return"selectionStart"in e&&(t=e.selectionStart),t}function i(e,t){e.setSelectionRange(t,t)}e.exports={isCursorAtEndOfInput:function(e){return a(e)===e.value.length},isCursorAtStartOfInput:function(e){return 0===a(e)},moveCursorToStartOfInput:function(e){i(e,0)},moveCursorToEndOfInput:function(e){i(e,e.value.length)},inputHasSelectionRange:function(e){return"selectionStart"in e&&"selectionEnd"in e&&e.selectionStart!==e.selectionEnd}}},J1gJTiZ9b2:function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push("\x3c!-- ko component: { name: 'label-select', params: boardSelect }--\x3e\x3c!-- /ko--\x3e\x3c!-- ko component: { name: 'label-select', params: columnSelect }--\x3e\x3c!-- /ko--\x3e\x3c!-- ko if: swimlaneSelectVisible--\x3e\x3c!-- ko component: { name: 'label-select', params: swimlaneSelect }--\x3e\x3c!-- /ko--\x3e\x3c!-- /ko--\x3e<button data-bind=\"click: moveClicked, disable: loading\" class=\"moveTaskDialog-moveButton button button--large button--success\">Move</button>"),t.join("")}},"JATp8q/Vqu":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("BpFSZOxfJb"),n("gmTfqrblK1"),!1,null,null,null);e.exports=a.exports},JOCBxO5V3I:function(e,t,n){"use strict";var a=n("lRwfdXqfkY");n("gRduait4db"),a.component("tooltip-help",{props:["html","icon"],render:function(e){return e("i",{class:"info"===this.icon?"icons-info":"icon-question-sign",directives:[{name:"tooltip",value:this.html}]})}})},JPl8SvVTyQ:function(e,t,n){"use strict";var a=n("NKFQkhZ/hO");e.exports=function(e){function t(e){o.getSelectedTaskIdsInOrder().forEach(function(t){i.deleteTaskById({taskId:t,masterEvent:e})}),o.unlockSelection(),o.clearSelection()}function n(){setTimeout(function(){o.unlockSelection()},0)}var i=e.taskRepository,o=e.taskSelectionController;return{confirmAndDeleteSelectedTasks:function(e){o.lockSelection();var i=function(){var e=o.getSelectedTaskCount();return"Are you sure you want to delete "+e+" task"+(e>1?"s":"")+"?"}();a.confirm(i,function(){t(e)},n)},forceDeleteSelectedTasks:t}}},"JQ+l8HQvl8":function(e,t,n){"use strict";var a=n("rEK1kr4M5E"),i=n("R9zOpUcM5X");e.exports=function(){return{saveTask:i(function(e,t){return a.jsonPost({url:"/task/save",suppressGlobalErrorHandler:t.suppressGlobalErrorHandler,data:{task:e,masterEvent:t.masterEvent}})}),deleteTask:i(function(e){var t=e.taskId;return a.jsonPost({url:"/task/"+t+"/delete",suppressGlobalErrorHandler:e.suppressGlobalErrorHandler,data:{masterEvent:e.masterEvent,eventInfo:e.eventInfo}})})}}},JQ5GZ53m8Q:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{autoClose:!1,title:e.dialogTitle,position:e.dialogPosition,elementId:"editTimeEntry-popover",elementClass:"editTimeEntry-popover",wrapperClass:"editTimeEntry-popoverWrapper"},on:{closeRequested:e.tryClose}},[n("div",{staticClass:"editTimeEntry-dateWrapper"},[n("label",{staticClass:"editTimeEntry-dateLabel"},[e._v("Date:")]),e._v(" "),e.isEditingDate?[n("date-input",{staticClass:"editTimeEntry-dateInputWrapper",attrs:{value:e.entryDate,maxDate:e.maxDate,inputClasses:"editTimeEntry-dateInput"},on:{input:e.dateInput}}),e._v(" "),n("button",{staticClass:"editTimeEntry-icon editTimeEntry-confirmDateButton icons-done",attrs:{title:"Confirm date"},on:{click:e.confirmEditDateClick}})]:[n("span",{staticClass:"editTimeEntry-dateText",on:{click:e.editDateClick}},[e._v(e._s(e.dateText))]),e._v(" "),n("button",{staticClass:"editTimeEntry-icon editTimeEntry-editDateButton icons-edit",attrs:{title:"Edit date"},on:{click:e.editDateClick}})]],2),e._v(" "),n("div",{staticClass:"editTimeEntry-scrollContainer scroll"},[n("table",{staticClass:"editTimeEntry-table"},[n("tr",[n("th",{staticClass:"editTimeEntry-header"}),e._v(" "),n("th",{staticClass:"editTimeEntry-header editTimeEntry-header--from"},[e._v("From")]),e._v(" "),n("th",{staticClass:"editTimeEntry-header editTimeEntry-header--to"},[e._v("To")]),e._v(" "),n("th",{staticClass:"editTimeEntry-header editTimeEntry-header--duration"},[e._v("Duration")]),e._v(" "),e.deleteIconVisible?n("th",{staticClass:"editTimeEntry-header editTimeEntry-header--delete"}):e._e()]),e._v(" "),e._l(e.rows,function(t,a){return n("tr",{staticClass:"editTimeEntry-action"},[n("td",{staticClass:"editTimeEntry-taskNameCell",attrs:{title:t.taskName}},[n("strong",{staticClass:"editTimeEntry-taskName truncate"},[e._v(e._s(t.taskName))])]),e._v(" "),n("td",{staticClass:"editTimeEntry-inputCell"},[n("time-input",{staticClass:"editTimeEntry-fromTimeInput editTimeEntry-input",attrs:{value:t.from,showSeconds:!0},on:{update:function(t){e.updateActionFromTime(a,t)}}})],1),e._v(" "),n("td",{staticClass:"editTimeEntry-inputCell"},[n("time-input",{staticClass:"editTimeEntry-toTimeInput editTimeEntry-input",attrs:{value:t.to,showSeconds:!0},on:{update:function(t){e.updateActionToTime(a,t)}}})],1),e._v(" "),n("td",{staticClass:"editTimeEntry-inputCell"},[n("duration-input",{staticClass:"editTimeEntry-durationInput editTimeEntry-input",attrs:{value:t.duration,showSeconds:!0},on:{update:function(t){e.updateActionDuration(a,t)}}})],1),e._v(" "),e.deleteIconVisible?n("td",{staticClass:"editTimeEntry-buttonWrapper"},[n("button",{staticClass:"editTimeEntry-deleteActionButton editTimeEntry-iconButton icons-delete",attrs:{title:"Delete entry part"},on:{click:function(t){e.deleteActionClick(a,t)}}})]):e._e()])})],2)]),e._v(" "),n("div",{staticClass:"editTimeEntry-updateWrapper"},[n("button",{staticClass:"editTimeEntry-update button button--success",on:{click:e.updateClick}},[e._v("\n            Update\n        ")])])])},staticRenderFns:[]}},JVeC5kEgXF:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",{ref:"headerCell",staticClass:"board-swimlane-header"},[n("div",{ref:"headerCellInner",staticClass:"board-swimlane-header-inner",style:e.headerCellInnerStyle},[n("div",{staticClass:"board-swimlane-nameAndInfo"},[n("h2",{staticClass:"board-swimlane-name",attrs:{title:e.nameTitle},on:{click:e.nameClick}},[e._v("\n                "+e._s(e.swimlane.name)+"\n            ")]),e._v(" "),!e.swimlane.collapsed&&e.swimlane.description.length?n("tooltip-help",{staticClass:"board-swimlane-descriptionIcon",attrs:{html:e.descriptionTooltipHtml,icon:"info"},nativeOn:{click:function(t){e.descriptionIconClick(t)}}}):e._e()],1),e._v(" "),e.swimlane.collapsed?n("div",{staticClass:"board-swimlane-expand",attrs:{title:"Expand swimlane"},on:{click:e.expandIconClick}},[n("div",{staticClass:"icons-plus"})]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.swimlane.collapsed,expression:"!swimlane.collapsed"}],ref:"resizeHandle",staticClass:"board-swimlane-resize ui-resizable-handle ui-resizable-s touchPunch"},[n("div",{staticClass:"board-swimlane-resize-line"}),e._v(" "),n("div",{staticClass:"board-swimlane-resize-line"}),e._v(" "),n("div",{staticClass:"board-swimlane-resize-line"})]),e._v(" "),e.swimlane.headerDetailsVisible?n("header-details",{attrs:{type:"swimlane",details:e.headerDetails},on:{close:e.closeHeaderDetails}}):e._e()],1)])},staticRenderFns:[]}},JXMhLc2pVM:function(e,t,n){var a=n("5cZt+ZS8+Y"),i=n("/NGIRj4LZ0"),o=n("f4Fl+w9HTq"),r=n("R62eDX75PD"),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&r(e,t[0],t[1])?t=[]:n>2&&r(t[0],t[1],t[2])&&(t=[t[0]]),i(e,a(t,1),[])});e.exports=s},Jpv1OAiBRi:function(e,t){e.exports=function(e){return e}},JyTVzAwaCE:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("lRwfdXqfkY"),r=n("SJI6FcOvAZ"),s=r.mapActions,l=r.createNamespacedHelpers("comments").mapMutations,u=r.createNamespacedHelpers("files").mapMutations,c=r.createNamespacedHelpers("relations").mapActions,d=r.createNamespacedHelpers("timer").mapActions,m=n("4ozjojDa8l"),p=n("c/dbZR9XGL"),f=n("EWUDtfBmmZ");e.exports=function(e){function t(){return!!k}var n=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=10;break}return v=k.close(),e.prev=2,e.next=5,v;case 5:return e.prev=5,v=null,e.finish(5);case 8:e.next=11;break;case 10:v=null;case 11:case"end":return e.stop()}},e,this,[[2,,5,8]])}));return function(){return e.apply(this,arguments)}}(),r=e.workTimerDialog,h=f(["close"]),v=void 0,k=void 0;return{on:h.on,off:h.off,open:function(t){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k)throw new Error("Already open");document.activeElement&&document.activeElement.blur();var v=t._id;if((k=new o({render:function(e){return e(p,{on:{close:n}})},store:m(i({},e,{task:t,closeTaskDetails:n})),methods:i({},l({setFocusCommentsSection:"SET_FOCUS_SECTION"}),u({setFocusFilesSection:"SET_FOCUS_SECTION"}),s(["onBeforeClose","handleTaskRepositoryMerge","refreshUsers"]),d(["updateTimerDialogStackingPosition"]),c({focusRelationsSection:"focusSection"}),{focusSection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"comments"===e?this.setFocusCommentsSection(!0):"files"===e?this.setFocusFilesSection(!0):"relations"===e&&this.focusRelationsSection(t)},close:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.$store.dispatch("destroy"),this.$destroy(),document.body.removeChild(this.$el),k=null,h.emit("close",{taskId:v});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),mounted:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:r.isTaskRunning()?this.updateTimerDialogStackingPosition():r.resetDialogStackingPosition();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})).$store.dispatch("init"),k.$store.dispatch("show"),k.$mount(),document.body.appendChild(k.$el),f.focusSection){var g=function(){k&&k.focusSection(f.focusSection,f.sectionOptions)};setTimeout(g,10),setTimeout(g,300),setTimeout(g,500),setTimeout(g,1e3)}},close:n,isOpen:t,isPageReloadOkay:function(){return!t()||k.$store.getters.isPageReloadOkay},getOpenTaskId:function(){if(t())return k.$store.state.task.taskId},waitUntilClosedIfClosing:function(){return v||Promise.resolve()}}}},"K+t7ofM93M":function(e,t,n){"use strict";var a=n("hHlQBZdXtr");e.exports=function(e){function t(e,t){var o=n.getTaskById(e.taskId),r=a(o);Object.assign(r,e.taskData);var s=r.columnId,l=i.evaluate(r,s);if(l.wasChanged){var u=a(e);Object.assign(u.taskData,l.mergeData),t(null,u)}else t()}var n=e.taskRepository,i=e.taskDateEvaluator;return{init:function(){n.addInterceptor("merge",t)}}}},K0eErBJEzS:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");n("IpLvl/p887"),e.exports=function(e){function t(e){var t=e.attr("data-columnId");if(t)return{columnId:t};var n=e.closest(".board-swimlane").attr("data-swimlaneId");if(n)return{swimlaneId:n};throw new Error("columnId or swimlaneId required")}var n=e.pointerMode,i=[{key:"edit",name:"Edit",icon:"editLayout"},{key:"collapse",name:"Collapse",icon:"collapse"},{key:"details",name:"Show details",icon:"details"}],o=null,r=null;return{init:function(){a.contextMenu({selector:".columnHeader, .board-swimlane-header",trigger:"right",zIndex:0,build:function(e,a){var r=a.originalEvent;if(n.wasTouchUsedLast()&&r)return!1;var s=t(e),l=o(s);return 0!==l.length&&{items:i.filter(function(e){return l.includes(e.key)})}},callback:function(e,n){var a=n.$trigger,i=Object.assign({action:e},t(a));r(i)}})},setActionHandler:function(e){r=e},setShowHandler:function(e){o=e}}}},KAdy1FAL8S:function(e,t,n){"use strict";e.exports=function(e){function t(e){var t=e.organizationInvitation;i.localAdd(t)}function n(e){var t=e.organizationInvitationId;i.localDeleteById(t)}var a=e.socket,i=e.pendingOrganizationInvitationRepository;return{startListening:function(){a.on("organizationInvitationSent",t),a.on("organizationInvitationAccepted",n),a.on("organizationInvitationRejected",n),a.on("organizationInvitationCanceled",n)},stopListening:function(){a.off("organizationInvitationSent",t),a.off("organizationInvitationAccepted",n),a.off("organizationInvitationRejected",n),a.off("organizationInvitationCanceled",n)}}}},KIzMYtjqUv:function(e,t,n){var a=n("dtkNIaXL+8"),i=n("gmQJJi80S/"),o=n("+UACBaabjv"),r=i(function(e,t,n,i){a(t,o(t),e,i)});e.exports=r},KRxTYLRynm:function(e,t,n){var a=n("UJWvUbq9/n"),i=n("2NNlzTg4EW")(a);e.exports=i},KYPgIdRcLQ:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("50u+wdY68T"),o=n("lp3B+H0iIX"),r=n("3a8WRQu0Li");e.exports=function(){var e=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o,t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(r,t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t({isPopover:!0}),i.showLoading(),e.next=4,a.getData(n);case 4:o=e.sent,a.render(o),i.hideLoading();case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();return{showEditColumn:e,showEditSwimlane:t}}},"Ke5Yuiq+tE":function(e,t,n){"use strict";var a=n("TkzCCDwnk3"),i=n("zCnJNEeu5Z").encode;e.exports=function(){var e=a({timeout:5e3,clickToClose:!0});return{showMessage:function(t){var n='<h3 class="growl-title">'+i(t.title)+"</h3>"+t.textHtml;e.log(n)}}}},KmF7oWDpur:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("z02KGlyVkX"),n("iz0PiyC27P"),!1,null,null,null);e.exports=a.exports},"L+R46TTXra":function(e,t,n){"use strict";var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n("BBRimJTtLK"),o=n("RNfSVdyTQ7"),r=n("zHtWr7JDEv"),s=n("8/IhxR7Jzb"),l=n("hHlQBZdXtr"),u=n("ksiZ/Wws4x");e.exports=function(e){function t(e,t){var a=p.getTaskById(e),r=l(a);"columnId"in t&&(r.columnId=t.columnId),"swimlaneId"in t&&(r.swimlaneId=t.swimlaneId);var f=r.columnId||a.columnId,h={columnId:f,swimlaneId:r.swimlaneId||a.swimlaneId},v=d.getColumnById(f);if(!v)return Promise.reject(new Error("Invalid targetColumnId"));if(v.groupByDate){var k=t.dateFinished||r.dateFinished||o.getTodayIsoString();r.dateFinished=k,h.dateFinished=k}else a.dateFinished&&(r.dateFinished=null);var g=t.positionAfterTaskId,b=t.positionBeforeTaskId;if(!function(e,t,n,a){var i=c(t.columnId,t.swimlaneId),o=void 0,r=void 0,s=void 0;if(o=t.dateFinished?i.find(function(e){return e.key===t.dateFinished}):i[0]){var l=o.tasks,d=l.findIndex(function(t){return t._id===e._id}),m=l[d-1];r=m&&m._id;var p=l[d+1];s=p&&p._id}return e.columnId!==t.columnId||!u(e.swimlaneId,t.swimlaneId)||e.dateFinished!==t.dateFinished||n&&n!==r||a&&a!==s}(a,r,g,b))return Promise.resolve();r.sortOrder=m.generateSortOrderForAddingTaskToCell(h,{positionAfterTaskId:g,positionBeforeTaskId:b});var T=s.getMergeData({originalTask:a,changedTask:r});return i(T)?Promise.resolve():n(e,T,Object.assign({taskId:e,originalPosition:{columnId:a.columnId,swimlaneId:a.swimlaneId},changedTask:r},t))}function n(e,t,n){return new Promise(function(a,i){p.mergeTask({taskId:e,taskData:t,eventInfo:function(e){var t=e.taskId,n=e.originalPosition,a=e.changedTask,i=function(e){return{masterEvent:e||"taskMoved",oldPrevTaskId:null,oldNextTaskId:null,newPrevTaskId:null,newNextTaskId:null}}(e.masterEvent),r=c(n.columnId,n.swimlaneId),s=function(e,t){for(var n=0,a=e.length;n<a;n++)for(var i=e[n],o=i.tasks,r=0,s=o.length;r<s;r++)if(o[r]._id===t)return{groupKey:i.key,groupIndex:n,taskIndex:r};return null}(r,t);if(s){var l=r[s.groupIndex].tasks,u=s.taskIndex;u>0&&(i.oldPrevTaskId=l[u-1]._id);u<l.length-1&&(i.oldNextTaskId=l[u+1]._id)}var m=c(a.columnId,a.swimlaneId),p=a.dateFinished||function(e){return d.getColumnById(e).groupByDate?o.getTodayIsoString():null}(a.columnId),f=(m.find(function(e){return e.key===p})||{tasks:[]}).tasks.slice().filter(function(e){return e._id!==t});if(f.length){f.push(a),f.sort(function(e,t){return e.sortOrder-t.sortOrder});var h=f.findIndex(function(e){return e._id===t}),v=f[h+1],k=f[h-1];i.newPrevTaskId=k?k._id:null,i.newNextTaskId=v?v._id:null}return i}(n),error:i},a)})}function c(e,t){var n=d.getColumnById(e),a=p.getTasksInCell(e,t).tasks;return n.groupByDate?r.getGroupsByDateDescendingWithOrderedTasks(a):r.getSingleItemGroupListWithOrderedTasks(a)}var d=e.boardColumnRepository,m=e.taskSortOrderGenerator,p=e.taskRepository;return{moveTaskAdvanced:t,moveTaskToTopOfCell:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=p.getTaskById(e),o=i.columnId,s=i.swimlaneId;if(d.getColumnById(o).groupByDate)return Promise.reject(new Error("Not valid for date grouped columns"));var u=p.getTasksInCell(o,s).tasks,c=r.getTasksSortedBySortOrder(u);if(e===a(c,1)[0]._id)return Promise.resolve();var f=l(i);f.sortOrder=m.generateSortOrderForMovingTaskToTopOfCell({columnId:o,swimlaneId:s});var h=Object.assign({taskId:e,originalPosition:{columnId:o,swimlaneId:s},changedTask:f},t);return n(e,{sortOrder:f.sortOrder},h)},moveTaskToBottomOfCell:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=p.getTaskById(e),i=a.columnId,o=a.swimlaneId;if(d.getColumnById(i).groupByDate)return Promise.reject(new Error("Not valid for date grouped columns"));var s=p.getTasksInCell(i,o).tasks,u=r.getTasksSortedBySortOrder(s);if(e===u[u.length-1]._id)return Promise.resolve();var c=l(a);c.sortOrder=m.generateSortOrderForMovingTaskToBottomOfCell({columnId:i,swimlaneId:o});var f=Object.assign({taskId:e,originalPosition:{columnId:i,swimlaneId:o},changedTask:c},t);return n(e,{sortOrder:c.sortOrder},f)},moveTaskToRight:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=p.getTaskById(e),i=d.getNextColumn(a.columnId).uniqueId;return t(e,Object.assign({},n,{columnId:i}))}}}},LG1ynL8Huw:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("nX1tUA06Mi"),n("k8cusLeyCJ"),!1,null,null,null);e.exports=a.exports},LMIzVIthTf:function(e,t,n){"use strict";e.exports={parseTimestamp:function(e){return e.indexOf("Z")>=0?"+00:00":e.match(/(\+|-)\d\d:\d\d$/)[0]}}},"LN6cGD0Ow+":function(e,t,n){var a=n("dRuqNqDRAA"),i=n("GmNUBKa31M");e.exports=function(e){return null!=e&&i(e.length)&&!a(e)}},"LO+gL1DyKR":function(e,t,n){"use strict";var a=n("cFkseZul9o"),i=n("LID5hgrivl").q,o=n("zCnJNEeu5Z");e.exports=function(e){function t(e){return i('.task[data-taskId="'+e+'"]')}var n=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(n){var u,c,d,m,p,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return t(e)||new Promise(function(n){var a=new MutationObserver(function(){var i=t(e);i&&(a.disconnect(),n(i))});a.observe(i("#board-table"),{childList:!0,subtree:!0})})}(n);case 2:u=e.sent,c=s.getTaskById(n),d=o.encode(c.name),m=r.getColumnById(c.columnId),p=o.encode(m.name),f=c.dates.some(function(e){return e.repeat}),h=f?"Repeating task was copied":"Task was copied",l.showMessage({title:h,textHtml:"<b>"+d+"</b> copied to column <b>"+p+"</b>"}),a(u,{times:3,delayStart:!0});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=e.boardColumnRepository,s=e.taskRepository,l=e.growlController;return{notify:n}}},LV1rcwSSYD:function(e,t,n){"use strict";e.exports.findIndex=n("06DjhYJ9Ox")},"LbbZjlw+U0":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("qHlELQnJK8"),n("16DDosKMMr"),!1,null,null,null);e.exports=a.exports},LmyJ3HJHcs:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{appendTo:e.appendTo,position:e.position,showCloseButton:!0,wrapperClass:"copyTaskDialog-wrapper",elementClass:"copyTaskDialog",title:"Copy task"},on:{close:e.close,saveRequested:e.makeCopy}},[n("div",{staticClass:"copyTaskDialog-formRow"},[n("span",{staticClass:"copyTaskDialog-label"},[e._v("\n            Name of copy\n        ")]),e._v(" "),n("textarea",{directives:[{name:"autosize",rawName:"v-autosize"},{name:"model",rawName:"v-model.trim",value:e.taskName,expression:"taskName",modifiers:{trim:!0}},{name:"focus-mouse",rawName:"v-focus-mouse",value:e.taskNameFocus,expression:"taskNameFocus"},{name:"block-characters",rawName:"v-block-characters",value:"\n\r\t",expression:"'\\n\\r\\t'"}],staticClass:"copyTaskDialog-taskName",domProps:{value:e.taskName},on:{focus:e.onTaskNameFocus,blur:[e.onTaskNameBlur,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.taskName=t.target.value.trim())}}})]),e._v(" "),n("label-select",{staticClass:"copyTaskDialog-column",attrs:{options:e.columnOptions,label:"Target column"},model:{value:e.columnId,callback:function(t){e.columnId=t},expression:"columnId"}}),e._v(" "),e.hasSwimlanes?n("label-select",{staticClass:"copyTaskDialog-swimlane",attrs:{options:e.swimlaneOptions,label:"Target swimlane"},model:{value:e.swimlaneId,callback:function(t){e.swimlaneId=t},expression:"swimlaneId"}}):e._e(),e._v(" "),n("div",{staticClass:"copyTaskDialog-buttonRow"},[n("button",{staticClass:"copyTaskDialog-copyButton button button--large button--success",on:{click:e.makeCopy}},[e._v("\n            Copy\n        ")])])],1)},staticRenderFns:[]}},MBRpX1IwOm:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("0iPhQ5GI5H"),r=n("lRwfdXqfkY"),s=n("L+R46TTXra"),l=n("NKFQkhZ/hO"),u=n("RNfSVdyTQ7"),c=n("mUdEeRB+nf"),d=n("MoDmcdZcO4"),m=n("zHtWr7JDEv"),p=n("6Gs9Sfe3CX"),f=n("WMuIpoHugh"),h=n("l5BlPxoQlt"),v=n("jkK2UsCmld"),k=n("68Edc7t3hC"),g=n("vCii1NNpTM"),b=n("ugMjUUug+v"),T=2,y=1;e.exports=function(e){function t(e,t){o(e).trigger(o.Event("contextmenu",{pageX:t.pageX,pageY:t.pageY}))}function n(e){var t=e.description,n=e.subTasks,a=e.labels;return[t.trim(),n,a].some(function(e){return e.length>0})}function I(e){var t=z.createEmptyTask();t.columnId=e.columnId,1===_.length?t.swimlaneId=_[0].uniqueId:t.swimlaneId=e.swimlaneId,t.sortOrder=Y.generateSortOrderForAddingTaskToCell(e),L.openNewTask(t)}function w(e,t){var n=p.fromMembers(e);R.mergeTask({taskId:t,taskData:n,masterEvent:"taskMembersEditedFromBoardProfileDialog"})}function x(e,t){return e.userId===t||e.boardInvitationId===t||e.organizationInvitationId===t}function C(e){return e.map(function(e){var t=i({},e);return delete t.role,t})}var D=e.boardId,S=e.boardColumnRepository,E=e.userBoardSettingsRepository,_=e.swimlanes,M=e.estimationType,R=e.taskRepository,O=e.userRepository,A=e.userPermissionService,N=e.workTimerSession,F=e.userAvatarHelper,L=e.taskDialog,P=e.taskContextMenu,B=e.headerContextMenu,V=e.workTimerDialog,H=e.pointerMode,U=e.copyTaskController,W=e.moveTaskController,j=e.taskGroupDateDialogFactory,K=e.taskLinkDialog,G=e.taskMover,z=e.taskFactory,Y=e.taskSortOrderGenerator,$=e.boardKeyboardShortcutHandler,q=e.boardFilter,Q=e.taskDateWatcher,J=e.midnightNotifier,Z=e.timerStateController,X=e.taskSelectionController,ee=e.pendingBoardInvitationRepository,te=e.pendingOrganizationInvitationRepository,ne=e.taskMembersContextMenuController,ae=e.taskMemberProfileDialog,ie=e.adminDialogController,oe=e.useNewTaskDialog,re=f({taskRepository:R,boardFilter:q,boardColumnRepository:S,swimlanes:_,taskDateWatcher:Q,timerStateController:Z}),se=g({userRepository:O,userAvatarHelper:F,timerStateController:Z,pendingBoardInvitationRepository:ee,pendingOrganizationInvitationRepository:te}),le=k({boardColumnRepository:S,userPermissionService:A,workTimerSession:N,workTimerDialog:V,boardFilter:q,taskSelectionController:X,taskAvatarFactory:se,estimationType:M}),ue=h({boardColumnRepository:S,swimlanes:_,taskRepository:R,userPermissionService:A,boardFilter:q,taskCountMatrix:re,userBoardSettingsRepository:E,taskModelFactory:le,taskAvatarFactory:se,taskSelectionController:X}),ce=v({store:ue,boardFilter:q,boardKeyboardShortcutHandler:$,taskSelectionController:X,taskCountMatrix:re,taskRepository:R,userRepository:O,pendingBoardInvitationRepository:ee,pendingOrganizationInvitationRepository:te,workTimerSession:N,workTimerDialog:V,midnightNotifier:J,timerStateController:Z,taskDateWatcher:Q});return{renderTo:function(e){new r({store:ue,render:function(e){return e(b,{on:{columnHeaderNameClick:this.columnHeaderNameClick,columnHeaderDescriptionIconClick:this.columnHeaderDescriptionIconClick,swimlaneNameClick:this.swimlaneNameClick,swimlaneDescriptionIconClick:this.swimlaneDescriptionIconClick,taskClick:this.taskClick,taskListDoubleClick:this.taskListDoubleClick,setSubTaskFinishedForTask:this.setSubTaskFinishedForTask,addTaskInColumn:this.addTaskInColumn,addTaskInCell:this.addTaskInCell,taskSortStop:this.taskSortStop}})},methods:{columnHeaderNameClick:function(e){H.wasTouchUsedLast()?t(e.headerElement,e.event):ue.dispatch("collapseColumn",e.columnId)},columnHeaderDescriptionIconClick:function(e){H.wasTouchUsedLast()&&t(e.headerElement,e.event)},swimlaneNameClick:function(e){var n=e.swimlaneId;if(ue.getters.isSwimlaneCollapsed(n))ue.dispatch("expandSwimlane",n);else{var a=this.headerContextMenuShowHandler({swimlaneId:n});H.wasTouchUsedLast()&&a.length>0?t(e.headerElement,e.event):ue.dispatch("collapseSwimlane",n)}},swimlaneDescriptionIconClick:function(e){H.wasTouchUsedLast()&&t(e.headerElement,e.event)},setSubTaskFinishedForTask:function(e){var t=e.taskId,n=e.subTask;R.setSubTaskFinished({taskId:t,index:n.index,name:n.name,finished:!n.finished,masterEvent:"subTaskSetFinishedFromBoard"})},taskClick:function(e){var t=e.taskId;if(V.isSelectingTask())V.taskSelected(t);else{var a=e.event;if(a.ctrlKey||a.metaKey)X.taskClickedWithCtrlOrMeta(t);else if(a.shiftKey)X.taskClickedWithShift(t);else if(X.hasSelection())X.clearSelection();else{var i=e.target;if("subTask"!==i)if("hiddenSubTasksText"!==i){var r=R.getTaskById(t);H.wasTouchUsedLast()?oe||!A.canUseTaskContextMenu()&&!n(r)?L.openEditTask(r):function(e,t){o(e).trigger(o.Event("contextmenu",{pageX:t.pageX,pageY:t.pageY}))}(e.taskElement,e.event):"comments"===i?L.openEditTaskShowingComments(r):"attachments"===i?L.openEditTaskShowingAttachments(r):"relations"===i?L.openEditTaskShowingRelations(r):"description"===i?ue.dispatch("toggleTaskDescriptionExpansion",t):"subTasks"===i?ue.dispatch("showNextSubTasksExpansionStateForTask",t):"dueDates"===i?ue.dispatch("showNextDueDatesModeForTask",t):"avatar"===i?function(e){var t=e.memberId,n=e.taskId,a=e.event,i=R.getTaskById(n),o=p.toMembers(i),r=o.find(function(e){return x(e,t)}),s=function(){w(o.filter(function(e){return!x(e,t)}),n)};ae.once("removeMember",s);var l=function(){w(C(o),n)};ae.once("removeResponsible",l);var u=function(){var e=C(o);e.find(function(e){return x(e,t)}).role="Responsible",w(e,n)};ae.once("setResponsible",u),ae.once("close",function(){ae.off("removeMember",s),ae.off("removeResponsible",l),ae.off("setResponsible",u)});var c={my:"left top",at:"left bottom+2px",of:a.target};ae.showForMember(r,{position:c})}(e):L.openEditTask(r)}else ue.dispatch("toggleTaskHiddenSubTasksExpansion",t);else{var s=e.subTask;e.shouldFadeOut?ue.dispatch("fadeOutSubTaskForTask",{subTaskIndex:s.index,taskId:t}):this.setSubTaskFinishedForTask({subTask:s,taskId:t})}}}},taskListDoubleClick:function(e){if(A.canAddTasks()){var t=z.createEmptyTask();t.columnId=e.columnId,t.swimlaneId=e.swimlaneId,t.sortOrder=function(e){var t=void 0,n=void 0;return e.prevTaskId&&(t=R.getTaskById(e.prevTaskId).sortOrder),e.nextTaskId&&(n=R.getTaskById(e.nextTaskId).sortOrder),d.generate({prevSortOrder:t,nextSortOrder:n})}(e),S.getColumnById(e.columnId).groupByDate&&(t.dateFinished=e.dateGroupString||u.getTodayIsoString()),L.openNewTask(t)}},taskContextMenuShowHandlerForCell:function(e){var t=e.task,a=t._id,i=H.wasTouchUsedLast();if(!A.canUseTaskContextMenu())return i&&n(t)?["openTask","expandSection"]:[];var o=["moveAdvanced","setColor","editMembers","copyAfter","link","remove"];i&&(o.push("editTask"),n(t)&&o.push("expandSection"));var r=V.canStartTimer(),s=function(e){var t=e===V.getSelectedTaskId(),n=V.isTaskRunning()||V.isShowing();return!t&&n}(a);r&&s?o.push("timer"):r?o.push("startTimerForTask"):s&&o.push("selectInTimer");var l=ue.state.columns,u=l.find(function(e){return e.columnId===t.columnId});if(u.groupByDate)o.push("editDate");else{var c=R.getTasksInCell(t.columnId,t.swimlaneId).tasks,d=m.getTasksSortedBySortOrder(c),p=d.findIndex(function(e){return e._id===a});p>0&&o.push("moveTop"),p<d.length-1&&o.push("moveBottom")}var f=l.indexOf(u);if(l.length-f-1>0){var h=l[f+1],v=l.find(function(e,t){return t>f&&!e.collapsed});h.collapsed&&v?(o.push("moveColumn:"+h.columnId),o.push("moveColumn:"+v.columnId)):o.push("moveRight")}return o},taskContextMenuActionHandlerForCell:function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.action,a=t.task,i=a._id,o=t.$task,"openTask"!==n&&"editTask"!==n){e.next=8;break}L.openEditTask(a),e.next=58;break;case 8:if("startTimerForTask"!==n){e.next=12;break}V.startTimerForTask(i),e.next=58;break;case 12:if("selectInTimer"!==n){e.next=16;break}V.taskSelected(i),e.next=58;break;case 16:if("setColor"!==n){e.next=20;break}!function(e,t){e.color!==t&&R.mergeTask({taskId:e._id,taskData:{color:t},masterEvent:"taskColorSetFromContextMenu"})}(a,t.colorValue),e.next=58;break;case 20:if("editMembers"!==n){e.next=24;break}!function(e,t){var n={my:"left top",at:"left+5px top+5px",of:o};ne.showForTask(e,{position:n})}(a),e.next=58;break;case 24:if("copyAfter"!==n){e.next=31;break}return e.next=27,U.copyAndPlaceAfterOriginal(i);case 27:s=e.sent,r.nextTick(function(){var e=s._id;ue.dispatch("scrollToTask",e),ue.dispatch("flashTask",{taskId:e,options:{times:T,delayStart:!0}})}),e.next=58;break;case 31:if("moveAdvanced"!==n){e.next=35;break}!function(e,t){var n={my:"left top",at:"left+5px top+5px",of:o};W.showMoveAdvanced(e,{position:n})}(i),e.next=58;break;case 35:if("moveRight"!==n){e.next=41;break}return e.next=38,G.moveTaskToRight(i,{masterEvent:"taskMovedRightByContextMenu"});case 38:r.nextTick(function(){ue.dispatch("scrollToTask",i)}),e.next=58;break;case 41:if("moveColumn"!==n){e.next=47;break}return e.next=44,G.moveTaskAdvanced(i,{columnId:t.moveToColumnId,masterEvent:"taskMovedToColumnByContextMenu"});case 44:r.nextTick(function(){ue.dispatch("scrollToTask",i)}),e.next=58;break;case 47:if("moveTop"!==n){e.next=52;break}return e.next=50,G.moveTaskToTopOfCell(i,{masterEvent:"taskMovedToTopByContextMenu"});case 50:e.next=58;break;case 52:if("moveBottom"!==n){e.next=57;break}return e.next=55,G.moveTaskToBottomOfCell(i,{masterEvent:"taskMovedToBottomByContextMenu"});case 55:e.next=58;break;case 57:"editDate"===n?function(e,t){j.createDialog({date:e.dateFinished,position:{my:"left top",at:"left+5 top+5",of:t},onChange:function(t){e.dateFinished!==t&&G.moveTaskAdvanced(e._id,{dateFinished:t,masterEvent:"taskDateFinishedSetByContextMenu"})}}).show()}(a,o):"link"===n?K.showForTask({task:a,position:{my:"left top",at:"left+5px top+10px",of:o}}):"remove"===n?this.deleteTask(a,t.event.shiftKey):"expandSection"===n&&("description"===(l=t.section)?ue.dispatch("toggleTaskDescriptionExpansion",i):"subtasks"===l&&ue.dispatch("toggleTaskSubTasksExpansion",i));case 58:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),headerContextMenuShowHandler:function(e){var t=e.columnId,n=e.swimlaneId;if(t)return ue.getters.isColumnCollapsed(t)?[]:A.canEditColumns()?["edit","collapse","details"]:["collapse","details"];if(n){if(ue.getters.isSwimlaneCollapsed(n))return[];var a=[];return A.canEditSwimlanes()&&a.push("edit"),ue.getters.hasSwimlaneDescription(n)&&a.push("details"),a.length>0&&a.push("collapse"),a}return[]},headerContextMenuActionHandler:function(e){var t=e.action,n=e.columnId,a=e.swimlaneId;"collapse"===t?n?ue.dispatch("collapseColumn",n):a&&ue.dispatch("collapseSwimlane",a):"details"===t?n?ue.commit("SHOW_COLUMN_HEADER_DETAILS",n):a&&ue.commit("SHOW_SWIMLANE_HEADER_DETAILS",a):"edit"===t&&(n?this.editColumn(n):a&&this.editSwimlane(a))},editColumn:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.showEditColumn({boardId:D,columnId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),editSwimlane:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.showEditSwimlane({boardId:D,swimlaneId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteTask:function(e,t){var n=function(){R.deleteTaskById({taskId:e._id,masterEvent:"taskDeletedFromContextMenu"})};if(t)n();else{var a="",i="",o=ue.state.columns,r=o.find(function(t){return t.columnId===e.columnId});o.indexOf(r)===o.length-1&&r.groupByDate?(a="<p>KanbanFlow is <strong>auto-archiving</strong>, so you do <em>NOT</em> need to delete tasks manually when they are done.</p><p>At most 20 tasks will be shown in this column and then a <strong>Show more</strong> button appears.</p><p>Are you <em>sure</em> you still want to delete the task?</p>",i="Please read"):a=e.subTasks.length?"Are you sure you want to delete the task and all its subtasks?":"Are you sure you want to delete the task?",l.customModal({title:i,html:a,buttons:[{text:"Cancel"},{text:"OK",type:"danger",callback:n}]})}},addTaskInColumn:function(e){I({columnId:e})},addTaskInCell:function(e){I(e)},taskSortStop:function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i,o,r,d,m,p,f,h,v,k,g,b,T,y,I,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.newColumnId,a=t.newDateGroupString,i=S.getColumnById(n),o=t.taskIds,!i.groupByDate){e.next=15;break}if(r=u.getTodayIsoString(),a||(a=r),!(d=o.some(function(e){var t=R.getTaskById(e).columnId!==n;return!(a===r)&&t}))){e.next=15;break}return m=c.getLabelText(a),p=o.length,e.next=13,function(e,t){return new Promise(function(n){var a=t>1?"tasks":"task";l.customModal({text:"Which date should the "+a+" belong to?",buttons:[{text:"Today",callback:function(){n(!0)}},{text:e,callback:function(){n(!1)}}]})})}(m,p);case 13:(f=e.sent)&&(a=r);case 15:for(h=s({boardColumnRepository:S,taskRepository:R,taskSortOrderGenerator:Y}),v=t.newPrevTaskId,k=[],g=!0,b=!1,T=void 0,e.prev=21,y=o[Symbol.iterator]();!(g=(I=y.next()).done);g=!0)w=I.value,k.push(h.moveTaskAdvanced(w,{columnId:n,swimlaneId:t.newSwimlaneId,positionAfterTaskId:v,positionBeforeTaskId:t.newNextTaskId,dateFinished:a})),v=w;e.next=29;break;case 25:e.prev=25,e.t0=e.catch(21),b=!0,T=e.t0;case 29:e.prev=29,e.prev=30,!g&&y.return&&y.return();case 32:if(e.prev=32,!b){e.next=35;break}throw T;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return X.clearSelection(),ue.dispatch("setTaskSorting",!1),e.next=41,Promise.all(k);case 41:case"end":return e.stop()}},e,this,[[21,25,29,37],[30,,32,36]])}));return function(t){return e.apply(this,arguments)}}(),onTaskDialogSaveCompleted:function(e){var t=e.task._id,n=R.getTaskById(t),a="existing"===e.taskMode;a&&(ue.dispatch("ensureColumnExpanded",n.columnId),ue.dispatch("ensureSwimlaneExpanded",n.swimlaneId)),r.nextTick(function(){ue.dispatch("scrollToTask",t);var e=a?y:T;ue.dispatch("flashTask",{taskId:t,options:{times:e}})})},initTaskContextMenu:function(){var e=this;ue.state.swimlanes.forEach(function(t){ue.state.columns.forEach(function(n){var a={columnId:n.columnId,swimlaneId:t.swimlaneId};P.setShowHandlerForCell(a,e.taskContextMenuShowHandlerForCell),P.setActionHandlerForCell(a,e.taskContextMenuActionHandlerForCell)})})}},mounted:function(){this.initTaskContextMenu(),L.on("saveAndCloseCompleted",this.onTaskDialogSaveCompleted),L.on("saveAndAddMoreCompleted",this.onTaskDialogSaveCompleted),B.setShowHandler(this.headerContextMenuShowHandler),B.setActionHandler(this.headerContextMenuActionHandler);var e=o(".board-loadingContainer");e.on("transitionend",function(){e.remove()}),setTimeout(function(){e.remove()},500),document.body.classList.add("body-board--loaded")}}).$mount(e)},setForecastPlanningController:function(e){le.setForecastPlanningController(e),ce.setForecastPlanningController(e)}}}},MEPIwEbOBN:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("dEkNkNY3p9"),n("i/3JbANjcP"),!1,null,null,null);e.exports=a.exports},MH8qJQNpxa:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-relationList"},[e._l(e.relationItemGroups,function(t){return n("div",{staticClass:"taskDetails-relationGroup"},[n("h4",{staticClass:"taskDetails-relationGroupHeader"},[e._v("\n            "+e._s(t.title)+"\n        ")]),e._v(" "),n("ul",{staticClass:"taskDetails-relations"},e._l(t.relations,function(t){return n("li",{key:t.relationId,staticClass:"taskDetails-relation"},[n("div",{staticClass:"taskDetails-iconWrapper"},[n("div",{class:e.getTaskColorClasses(t)})]),e._v(" "),n("div",{staticClass:"taskDetails-relationTextContent"},[n("a",{staticClass:"taskDetails-relationTaskName truncate",attrs:{href:t.taskUrl,title:t.taskName},on:{click:e.close}},[e._v("\n                        "+e._s(e.getTaskFullName(t))+"\n                    ")]),e._v(" "),n("div",{staticClass:"taskDetails-relationPosition"},[e._v("\n                        "+e._s(e.getTaskPositionText(t))+"\n                    ")])]),e._v(" "),e.readOnly?e._e():n("button",{ref:"relationMoreButton-"+t.relationId,refInFor:!0,class:e.getMoreIconClasses(t.relationId),on:{click:function(n){e.menuIconClick(t.relationId)}}}),e._v(" "),t.relationId===e.menuRelationId?n("kf-menu",{attrs:{position:e.getRelationMenuPosition(t.relationId),appendTo:".appendWrapper"},on:{close:e.hideMenu}},[n("item",{attrs:{text:"Delete",iconClass:"menu-icon-delete"},on:{click:function(n){e.deleteRelation(t.relationId)}}})],1):e._e()],1)}))])}),e._v(" "),e.readOnly?e._e():n("button",{ref:"addRelation",staticClass:"taskDetails-addRelation button",on:{click:e.showAddRelation}},[e._v("\n        Add relation\n    ")])],2)},staticRenderFns:[]}},MPL5sHSYnd:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("OBWLwzwgjQ"),o=n("suu7+2GOu+"),r=n("NKFQkhZ/hO"),s=n("hHlQBZdXtr"),l=n("ksiZ/Wws4x"),u=n("jWWb2sICF9"),c={ALL:"ALL",ALL_UNFINISHED:"ALL_UNFINISHED"};n("JOCBxO5V3I"),n("GbcutZx8hN"),e.exports={props:["boardId","boardName","column","swimlanes","initialTaskLimits","isPopover"],data:function(){return a({},this.column,{descriptionTooltip:"The description is shown as a tooltip in the column header on the board when hovering the information icon.",wipLimitTooltip:"If task count exceeds limit, a warning is shown.",taskLimits:s(this.initialTaskLimits),addLimitPopoverVisible:!1,subTasksToShowValue:function(e){return e.showSubTasks?c.ALL:e.showUnfinishedSubTasks?e.maxSubTasksToShow||c.ALL_UNFINISHED:""}(this.column),SUBTASK_VALUES:c})},computed:{hasSwimlanes:function(){return this.swimlanes.length>1},taskLimitsOrderedBySwimlane:function(){var e=this,t=this.taskLimits.slice();return t.sort(function(t,n){return e.swimlanes.findIndex(function(e){return l(e.uniqueId,t.swimlaneId)})-e.swimlanes.findIndex(function(e){return l(e.uniqueId,n.swimlaneId)})}),t},headerTitle:function(){return this.isPopover?"Edit column":this.boardName+": Edit column"}},methods:{showAddLimitPopover:function(){this.addLimitPopoverVisible=!0},hideAddLimitPopover:function(){this.addLimitPopoverVisible=!1},addSwimlaneTaskLimit:function(e){var t=e.swimlaneId,n=e.value,a=this.taskLimits.find(function(e){return l(e.swimlaneId,t)});if(a)a.value=n;else{var i=this.swimlanes.find(function(e){return l(e.uniqueId,t)});this.taskLimits.push({swimlaneId:t,swimlaneName:i.name,value:n})}this.hideAddLimitPopover()},deleteSwimlaneTaskLimit:function(e){var t=e.swimlaneId;this.taskLimits=this.taskLimits.filter(function(e){return!l(t,e.swimlaneId)})},cancelClick:function(){this.$emit("cancelEditColumn")},saveClick:function(){if(this.name)if(!this.taskLimit||this.taskLimit>=0){var e=!0,t=!1,n=void 0;try{for(var a,i=this.taskLimits[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=a.value;if(o.value<0)return void r.alert("Swimlane WIP limit must be a positive number");if(this.groupByDate&&o.value>15)return void r.alert("Swimlanes in columns that are grouped by date can have a maximum task limit of 15.\nPlease lower your limit before saving.")}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}var s=this.taskLimits.map(function(e){return{swimlaneId:e.swimlaneId,taskLimit:e.value}}),l={uniqueId:this.uniqueId,name:this.name,description:this.description,showDescription:this.showDescription,showLabels:this.showLabels,dueDateDisplayMode:this.dueDateDisplayMode,groupByDate:this.groupByDate,taskLimit:this.taskLimit,showSubTasks:!1,showUnfinishedSubTasks:!1,cells:s};l.taskLimit||(l.taskLimit=null),this.subTasksToShowValue===c.ALL?l.showSubTasks=!0:this.subTasksToShowValue===c.ALL_UNFINISHED?l.showUnfinishedSubTasks=!0:this.subTasksToShowValue&&(l.showUnfinishedSubTasks=!0,l.maxSubTasksToShow=parseInt(this.subTasksToShowValue,10)),l.groupByDate&&l.taskLimit>15?r.alert("Columns that are grouped by date can have a maximum task limit of 15. Please lower your limit before saving."):this.$emit("saveEditColumn",l)}else r.alert("WIP limit must be a positive number");else r.alert("Name is required")}},components:{"add-limit":i,"admin-dialog":o,"settings-checkbox":u}}},"MWmSSh/6n+":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("x3DuHOIS1J"),r=n("aetiaUNG0j"),s=n("RNfSVdyTQ7"),l=n("ksiZ/Wws4x"),u=28,c="Unknown user";e.exports=function(e){function t(e,t){var n=e.find(function(e){return e._id===t});return n?k.getImageUrl(n,{size:u}):k.getAnonymousImageUrl()}var n=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i,o=t.commit,r=t.state;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,y.getAll({suppressGlobalErrorHandler:!0});case 4:n=e.sent,e.next=18;break;case 7:return e.prev=7,e.t0=e.catch(1),e.prev=9,e.next=12,y.getAll({suppressGlobalErrorHandler:!0});case 12:n=e.sent,e.next=18;break;case 15:e.prev=15,e.t1=e.catch(9),o("SET_FAILED_TO_LOAD",!0);case 18:a=n.slice().sort(function(e,t){return e.createdTimestamp.localeCompare(t.createdTimestamp)}),o("SET_COMMENTS",a),r.commentsLoaded||((i=a.length)>2&&o("SET_NUMBER_OF_HIDDEN",i-2),o("SET_COMMENTS_LOADED",!0));case 21:case"end":return e.stop()}},e,this,[[1,7],[9,15]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,o,r=n.commentId,s=n.text;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getById(r);case 2:if((a=e.sent).text===s){e.next=7;break}return o=i({},a,{text:s,mentions:T.getMentionsFromText(s),updatedTimestamp:(new Date).toISOString()}),e.next=7,y.update(o);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i=t.getters,o=(t.commit,t.dispatch);return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.commentItems.some(function(e){return e.commentId!==n})){e.next=4;break}return e.next=4,o("updateTask",{hasComments:!1},{root:!0});case 4:return e.next=6,y.deleteById(n);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o,r=t.state,s=t.commit,l=t.dispatch,u=t.getters;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.task.taskId,i=T.createComment({taskId:a,text:n}),o=0===r.comments.length,e.next=5,y.save(i,{isFirstResource:o});case 5:if(!o){e.next=8;break}return e.next=8,l("updateTask",{hasComments:!0},{root:!0});case 8:s("SET_ADD_COMMENT_TEXT","");case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),f=e.userId,h=e.singleTaskResourceRepositoryFactory,v=e.userRepository,k=e.userAvatarHelper,g=e.swimlanes,b=e.userPermissionService,T=o({userRepository:v,userId:f}),y=void 0;return{namespaced:!0,state:{visible:!1,commentsLoaded:!1,failedToLoad:!1,focusSection:!1,comments:[],addCommentText:"",addCommentFocus:!1,editCommentId:null,editCommentText:"",renderCommentTextAsHtml:function(e){var t=T.getMentionsFromText(e);return r.renderHtml({text:e,mentions:t})},numberOfHidden:0},getters:{task:function(e,t,n){return n.task},taskColor:function(e,t){return t.task.color},columnName:function(e,t){return e.boardColumns.find(function(e){return e.columnId===t.task.columnId}).name},swimlaneName:function(e,t){var n=g.find(function(e){return l(e.uniqueId,t.task.swimlaneId)});return n?n.name:""},commentsCount:function(e){return e.comments.length},searchForUsers:function(){return function(){return v.searchLocal.apply(v,arguments)}},users:function(e,t,n){return n.users},userAvatarImageUrl:function(e,n){return t(n.users,f)},hasUnsavedComment:function(e,t){if(e.addCommentText.length)return!0;if(!e.editCommentId)return!1;var n=t.commentItems.find(function(t){return t.commentId===e.editCommentId});return e.editCommentText!==n.text},commentItems:function(e,n,a){return e.comments.map(function(e){return function(e,n,a){return{commentId:e._id,authorFullName:function(e,t){var n=e.find(function(e){return e._id===t});return n?n.fullName:c}(n,e.authorUserId),timestampsText:function(e,t){var n=new Date(e.createdTimestamp),a=s.friendlyLocalDateTimeString(n,{now:t});if(e.updatedTimestamp){var i=new Date(e.updatedTimestamp),o=s.friendlyLocalDateTimeString(i,{now:t});a!==o&&(a+=" (Edited: "+o+")")}return a}(e,a),avatarImageUrl:t(n,e.authorUserId),text:e.text,mentions:e.mentions,canEdit:b.canEditComment(e.authorUserId),canDelete:b.canDeleteComment(e.authorUserId)}}(e,n.users,a.now)})},visibleComments:function(e,t){return e.numberOfHidden?t.commentItems.slice(e.numberOfHidden):t.commentItems}},mutations:{SET_VISIBLE:function(e,t){e.visible=t},SET_FAILED_TO_LOAD:function(e,t){e.failedToLoad=t},SET_COMMENTS:function(e,t){e.comments=t},SET_ADD_COMMENT_FOCUS:function(e,t){e.addCommentFocus=t},SET_ADD_COMMENT_TEXT:function(e,t){e.addCommentText=t},SET_EDIT_COMMENT_ID:function(e,t){e.editCommentId=t},SET_EDIT_COMMENT_TEXT:function(e,t){e.editCommentText=t},SET_FOCUS_SECTION:function(e,t){e.focusSection=t},SET_NUMBER_OF_HIDDEN:function(e,t){e.numberOfHidden=t},SET_COMMENTS_LOADED:function(e,t){e.commentsLoaded=t}},actions:{init:function(e){var t=e.dispatch,n=e.getters;(y=h.createCommentRepository(n.task.taskId)).on("localSave localDelete localUpdate localReset save preDelete preUpdate",function(){t("loadComments")})},destroy:function(){y.destroy()},loadComments:n,editComment:function(e,t){var n=e.getters,a=e.commit,i=n.commentItems.find(function(e){return e.commentId===t});a("SET_EDIT_COMMENT_ID",t),a("SET_EDIT_COMMENT_TEXT",i.text)},updateComment:d,deleteComment:m,addComment:p,cancelAddComment:function(e){var t=e.commit;t("SET_ADD_COMMENT_FOCUS",!1),t("SET_ADD_COMMENT_TEXT","")},showAddComment:function(e){var t=e.commit;t("SET_VISIBLE",!0),t("SET_ADD_COMMENT_FOCUS",!0)},showEarlierComments:function(e){(0,e.commit)("SET_NUMBER_OF_HIDDEN",0)}}}}},MYNFXHagiK:function(e,t,n){"use strict";function a(e){function t(){return"viewAndComment"===a}var n=e.userId,a=e.userBoardRole,i=e.isPremium,o=e.isOrganizationDeactivated;return{canAddTasks:function(){return!t()},canChangeTaskProperties:function(e){return!t()||e.every(function(e){return"hasComments"===e})},canUseTimer:function(){return!t()},canUseTaskContextMenu:function(){return!t()},canEditTasks:function(){return!t()},canRestoreTasks:function(){return!t()},canRestoreAllTasks:function(){return"owner"===a||"boardAdministrator"===a},canMassUpdateTasks:function(){return"owner"===a||"boardAdministrator"===a},canDeleteComment:function(e){return!t()||e===n},canEditComment:function(e){return e===n},canEditColumns:function(){return"owner"===a||"boardAdministrator"===a},canEditSwimlanes:function(){return"owner"===a||"boardAdministrator"===a},canInviteUsers:function(){return"owner"===a&&!o&&!i},canEditColors:function(){return"owner"===a||"boardAdministrator"===a}}}e.exports=a,a.createServiceWithoutPermissions=function(){return a({userId:"DUMMY",role:"DUMMY",isPremium:!1})}},MgOMVvGlQg:function(e,t,n){"use strict";function a(e){var t=m(e);c.scrollToShow(t,m(".taskDetails-wrapper"));var n=t.querySelector(".taskDetails-sectionHeader");d(n)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ"),r=n("lRwfdXqfkY"),s=o.mapState,l=o.createNamespacedHelpers("subTasks").mapGetters,u=n("1KkDuqVNta"),c=n("Gh3TGTRxcI"),d=n("cFkseZul9o"),m=n("LID5hgrivl").$;e.exports={computed:i({},s(["task"]),l(["totalSubTaskCount"])),methods:{subTasksClick:function(){r.nextTick(function(){a("#taskDetails-subTasksSection")})},attachmentsClick:function(){r.nextTick(function(){a("#taskDetails-filesSection")})},commentsClick:function(){r.nextTick(function(){a("#taskDetails-commentsSection")})},relationsClick:function(){r.nextTick(function(){a("#taskDetails-relationsSection")})}},components:{position:u}}},Mn28mDYCNI:function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<p>Tasks that are deleted from the board are stored in the recycle bin for a period of time.\n While tasks are in the recycle bin, they can be restored to the board. When the period ends, they are <em>permanently deleted</em> and can <em>no longer be restored</em>.</p><p><strong>Note:</strong> For free boards, deleted tasks can be restored for 24 hours. For premium boards, they can be restored for 30 days.</p><h4 class="recycleBinHelpDialog-title">Permissions</h4><p>- <strong>Board owners</strong> and <strong>Board administrators</strong> have permission to restore tasks deleted by any user<br> - <strong>Task administrators</strong> can <em>only</em> view and restore tasks deleted by themselves</p>'),t.join("")}},MoDmcdZcO4:function(e,t,n){"use strict";var a={generate:function(e){var t=e.prevSortOrder,n=e.nextSortOrder,a=e.distanceIfMissing||1e3,i="number"==typeof t,o="number"==typeof n;if(i&&o){if(t>n)throw new Error("prevSortOrder should be smaller than nextSortOrder");0==(a=n-t)&&(a=0===t?.001:Math.abs(t)/1e4)}else o?t=n-a:i||(t=0);var r=t+a/4+Math.random()*(a/2),s=function(e){for(var t=0;e<1e5;)t++,e*=10;return t}(a);return Math.round(r*Math.pow(10,s))/Math.pow(10,s)},generateForMove:function(e){var t=e.items,n=e.moveFromIndex,i=e.moveToIndex;if(n<i){var o=void 0;return i+1===t.length||(o=t[i+1].sortOrder),a.generate({prevSortOrder:t[i].sortOrder,nextSortOrder:o})}if(n>i){var r=void 0;return 0===i||(r=t[i-1].sortOrder),a.generate({prevSortOrder:r,nextSortOrder:t[i].sortOrder})}return t[n].sortOrder}};e.exports=a},"MsGyxL+QFM":function(e,t,n){"use strict";e.exports={formatTimeWithUnits:function(e,t){var n=(t=t||{}).showHoursOnly,a=t.showSeconds,i=t.roundMinutesUp,o=e<0;o&&(e=-e);var r=Math.floor(e/3600),s=(i?Math.ceil:Math.floor)(e%3600/60),l=e%60;60===s&&(r++,s=0);var u="";return o&&(u+="-"),(n||r)&&(u+=r+"h"),n||(s&&(r&&(u+=" "),u+=s+"m"),a&&l&&(u.length&&"-"!==u&&(u+=" "),u+=l+"s")),u},formatTimeWithColons:function(e,t){t=t||{};var n=Math.floor(e/3600),a=Math.floor(e%3600/60),i=Math.floor(e%60),o="";return(n>0||t.showHoursAlways)&&(n<10&&t.padHours&&(o+="0"),o+=n+":"),a<10&&(o+="0"),o+=a,o+=":",i<10&&(o+="0"),o+=i}}},N0V4YkNWvJ:function(e,t,n){var a=n("E5qx8dT/dj"),i=n("HI10SF8mJN");e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,a(r)]}return t}},"N7axB/oalN":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("uj5lqEehEg"),o=n("RNfSVdyTQ7"),r=n("NKFQkhZ/hO"),s=n("VZMU+UILta"),l="yy-mm-dd";e.exports=function(e){function t(){b.close()}function n(){b=null,T=null}function u(){T.find(".task-editGroupDateWrapper").focus()}function c(){return T.find(".task-editGroupDateInput")}function d(){var e=null;try{var n=c().val();e=a.datepicker.parseDate(l,n)}catch(e){return void r.alert("Date is invalid. Please select a new date.")}var i=o.getIsoDateString(e);i>o.getIsoDateString(o.todayDate())?r.alert("Future dates are not allowed. Please select a new date."):(i!==k&&g(i),t())}function m(e){var n=e.which;n===s.ENTER?d():n===s.ESC&&t()}function p(){u()}var f=e.appendTo,h=e.positionAboveSelector,v=e.position,k=e.date||"",g=e.onChange||function(){},b=void 0,T=void 0;return{show:function(){(b=i({elementId:"taskGroupDateDialog",title:"Edit date",appendTo:f,position:v,positionAboveSelector:h})).on("closed",n);var e=function(){var e=a("<div/>",{class:"task-editGroupDateWrapper",click:function(e){e.stopPropagation()},tabindex:0,keydown:m}),t=a("<input/>",{type:"text",class:"task-editGroupDateInput",value:k});e.append(t);var n=a("<button/>",{class:"task-editGroupDateUpdate button button--success",text:"Update",click:d});return e.append(n),e}();b.open(e),T=b.getElement(),c().datepicker({maxDate:o.todayDate(),dateFormat:l,onClose:p,showOn:"focus",buttonText:""}),u()},getElement:function(){return T}}}},NLZmemVMcH:function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div id="workTimerDialog" data-bind="css: {\'workTimerDialog-atStartPosition\': atStartPosition }" style="display: none" class="dialog dialog-dark stackable"><div class="dialog-header touchPunch"><h2 data-bind="text: dialogTitle"></h2><div data-bind="click: closeDialogClicked" title="Close" class="dialog-closeX"></div></div><div data-bind="visible: !showModalInfo()" class="workTimerDialog-normalWrapper"><div class="workTimerDialog-normalContent"><div class="workTimerDialog-clockRowWrapper"><div class="workTimerDialog-clockWrapper"><div data-bind="text: clockLabel" class="workTimerDialog-clockLabel"></div><div data-bind="text: clockText, click: clockTextClicked, css: { \'workTimerDialog-clockText-hasHours\' : clockHasHours, \'workTimerDialog-clockText-canEdit\': canEditSession }, attr: { title: getClockTextTitle() }" class="workTimerDialog-clockText"></div></div><div class="workTimerDialog-clockButtonWrapper"><button data-bind="click: startClicked, visible: showStartButton" class="workTimerDialog-startButton workTimerDialog-clockButton">Start</button><button data-bind="click: stopClicked, visible: showStopButton" class="workTimerDialog-stopButton workTimerDialog-clockButton">Stop</button><button data-bind="click: takeBreakClicked, visible: showTakeBreakButton" class="workTimerDialog-takeBreakButton workTimerDialog-clockButton">Take break</button></div></div><div data-bind="css: { \'workTimerDialog-currentTaskWrapper-selecting\': isSelectingTask }" class="workTimerDialog-currentTaskWrapper"><div class="workTimerDialog-currentTaskNameAndButtonWrapper"><div data-bind="attr: { title: taskName }" class="workTimerDialog-currentTaskNameWrapper"><div data-bind="text: taskText" class="workTimerDialog-currentTaskName"></div></div><div class="workTimerDialog-currentTaskButtonWrapper"><button data-bind="click: selectTaskClicked, visible: showSelectTaskButton, text: selectTaskButtonText" class="workTimerDialog-selectTaskButton workTimerDialog-taskButton"></button><button data-bind="click: cancelSelectTaskClicked, visible: showCancelSelectTaskButton" class="workTimerDialog-cancelSelectTaskButton workTimerDialog-taskButton">Cancel</button></div></div><div class="workTimerDialog-currentTaskTotalTimeWrapper"><div class="workTimerDialog-currentTaskTotalTime-label">Total task time:&nbsp;</div><div data-bind="text: taskTotalTimeText" class="workTimerDialog-currentTaskTotalTime-value"></div></div></div><div class="workTimerDialog-infoWrapper"><div class="workTimerDialog-infoWrapper-title">TODAY</div>\x3c!-- ko if: isPomodoroMode--\x3e<div class="workTimerDialog-infoPair"><div class="workTimerDialog-infoLabel">Pomodoros:</div><div data-bind="text: pomodorosToday, css: { \'workTimerDialog-infoValue--countUpActive\': pointsCountUpActive }" class="workTimerDialog-infoValue workTimerDialog-pomodorosToday"></div></div><div class="workTimerDialog-infoPair"><div class="workTimerDialog-infoLabel">FlowPoints:</div><div data-bind="text: flowPointsToday, css: { \'workTimerDialog-infoValue--countUpActive\': pointsCountUpActive }" class="workTimerDialog-infoValue workTimerDialog-flowPointsToday"></div></div>\x3c!-- /ko--\x3e\x3c!-- ko if: isStopwatchMode--\x3e<div class="workTimerDialog-infoPair"><div class="workTimerDialog-infoLabel">Sessions:</div><div data-bind="text: sessionCountToday" class="workTimerDialog-infoValue workTimerDialog-sessionsToday"></div></div><div class="workTimerDialog-infoPair"><div class="workTimerDialog-infoLabel">Total time:</div><div data-bind="text: totalTimeTodayText" class="workTimerDialog-infoValue workTimerDialog-totalTimeToday"></div></div>\x3c!-- /ko--\x3e</div></div><div class="workTimerDialog-toolbar"><div class="workTimerDialog-toolbar-innerWrapper"><label data-bind="visible: isPomodoroMode, click: switchToStopwatchClicked" title="Switch to Stopwatch mode" class="workTimerDialog-toolbarItem-label"><button class="workTimerDialog-hiddenButton"></button><div class="icons-stopwatch"></div><div class="workTimerDialog-toolbarItem-title">Stopwatch</div></label><label data-bind="visible: isStopwatchMode, click: switchToPomodoroClicked" title="Switch to Pomodoro mode" class="workTimerDialog-toolbarItem-label"><button class="workTimerDialog-hiddenButton"></button><div class="icons-pomodoro"></div><div class="workTimerDialog-toolbarItem-title">Pomodoro</div></label><label data-bind="click: showAddTimeClicked" title="Add time manually" class="workTimerDialog-toolbarItem-label"><button class="workTimerDialog-hiddenButton"></button><div class="icons-addTime"></div><div class="workTimerDialog-toolbarItem-title">Add time</div></label><label data-bind="click: workLogClicked" class="workTimerDialog-toolbarItem-label"><button class="workTimerDialog-hiddenButton"></button><div class="icons-log"></div><div class="workTimerDialog-toolbarItem-title">Log</div></label><label data-bind="click: settingsClicked" class="workTimerDialog-toolbarItem-label"><button class="workTimerDialog-hiddenButton"></button><div class="icons-settings"></div><div class="workTimerDialog-toolbarItem-title">Settings</div></label></div></div></div><div data-bind="visible: showModalInfo()" class="workTimerDialog-modalInfo"><div data-bind="visible: modalMode() === \'editSession\'" class="workTimerDialog-editSession"><h2 class="workTimerDialog-modal-title">Edit session</h2><div class="workTimerDialog-editSession-scrollWrapper scroll scroll--horizontalHidden"><div data-bind="foreach: editSessionItems" class="workTimerDialog-editSession-list"><div data-bind="css: { \'workTimerDialog-editSession-itemEdit\': isEditing }" class="workTimerDialog-editSession-item"><div data-bind="click: $root.editSessionItemContentClicked, attr: { title: $root.getEditedSessionItemContentTitle($data) }" class="workTimerDialog-editSession-content"><div data-bind="text: taskName" class="workTimerDialog-editSession-taskName"></div><div class="workTimerDialog-editSession-time"><span data-bind="text: timeText" class="workTimerDialog-editSession-timeText"></span><i class="icons-edit"></i></div><input type="text" data-bind="textInput: editTimeText, enterPress: $root.editSessionItemDoneClicked, hasFocus: editFocus" class="workTimerDialog-editSession-editTime"></div><label data-bind="click: $root.deleteSessionItemClicked" title="Delete" class="workTimerDialog-editSession-delete"><button class="workTimerDialog-hiddenButton"></button><i class="icons-delete"></i></label><label data-bind="click: $root.editSessionItemDoneClicked" title="Done" class="workTimerDialog-editSession-done"><button class="workTimerDialog-hiddenButton"></button><i class="icons-done"></i></label></div></div></div><div class="workTimerDialog-editSession-totalTime">Total time:<span data-bind="text: editSessionTotalTimeText" class="workTimerDialog-editSession-totalTimeText"></span></div><div class="workTimerDialog-buttons workTimerDialog-buttons-bottom"><button data-bind="click: cancelEditedSessionClicked" class="workTimerDialog-button">Cancel</button><button data-bind="click: updateEditedSessionClicked" class="workTimerDialog-button workTimerDialog-button-success">Update</button></div></div><div data-bind="visible: modalMode() === \'disturbanceSelection\'" class="workTimerDialog-disturbanceSelection"><h2 class="workTimerDialog-modal-title">Why did you stop?</h2><div class="workTimerDialog-disturbanceScrollWrapper scroll scroll--horizontalHidden"><div class="workTimerDialog-disturbanceList">\x3c!-- ko foreach: enabledDisturbanceReasons--\x3e<button data-bind="text: value, click: $root.disturbanceClicked" class="workTimerDialog-disturbanceItem"></button>\x3c!-- /ko--\x3e<button data-bind="visible: !newDisturbanceReasonInputVisible(), click: $root.showNewDisturbanceReasonClicked" class="workTimerDialog-newDisturbanceReason">Add new reason</button><div data-bind="visible: newDisturbanceReasonInputVisible" class="workTimerDialog-newDisturbanceReason-wrapper"><div class="workTimerDialog-newDisturbanceReason-inputWrapper"><input data-bind="textInput: newDisturbanceReasonText, hasFocus: newDisturbanceReasonInputFocus" placeholder="New reason..." class="workTimerDialog-newDisturbanceReason-input"></div><div class="workTimerDialog-newDisturbanceReason-buttonWrapper"><button data-bind="click: addDisturbanceReasonClicked" class="workTimerDialog-addNewDisturbanceReason-addButton">Add</button></div></div></div></div><div class="workTimerDialog-buttons workTimerDialog-buttons-bottom"><button data-bind="click: undoStopClicked" class="workTimerDialog-button">Undo stop</button><button data-bind="click: taskDoneClicked" class="workTimerDialog-button">Task done</button></div></div><div data-bind="visible: modalMode() === \'taskDoneExplanation\'" class="workTimerDialog-taskDoneExplanation"><h2 class="workTimerDialog-modal-title">Task done?</h2><p class="workTimerDialog-p">If you have finished working on your task before the time has run out, the Pomodoro technique recommends that you resume and review your work.</p><p class="workTimerDialog-p">If you work on small tasks, you can also resume and click <strong>Change</strong> to select a new task.</p><div class="workTimerDialog-buttons workTimerDialog-buttons-bottom"><button data-bind="click: resumeWorkAfterTaskDoneClicked" class="workTimerDialog-button">Resume</button><button data-bind="click: stopNowAfterTaskDoneClicked" class="workTimerDialog-button workTimerDialog-button-danger">Stop</button></div></div><div data-bind="visible: modalMode() === \'rescueWork\'" class="workTimerDialog-rescueWork"><h2 class="workTimerDialog-modal-title">Rescue unsaved work</h2><p class="workTimerDialog-p">You have\x3c!-- ko if: rescueWorkMinutes() === 0--\x3e &lt;1 minute of\x3c!-- /ko--\x3e\x3c!-- ko if: rescueWorkMinutes() === 1--\x3e 1 minute of\x3c!-- /ko--\x3e\x3c!-- ko if: rescueWorkMinutes() > 1--\x3e <span data-bind="text: rescueWorkMinutes">&nbsp;</span> minutes of\x3c!-- /ko--\x3e unsaved work on\x3c!-- ko if: rescueWorkTaskCount() === 1--\x3e <strong data-bind="text: rescueWorkSingleTaskName">&nbsp;</strong>\x3c!-- /ko--\x3e\x3c!-- ko if: rescueWorkTaskCount() > 1--\x3e <span data-bind="text: rescueWorkTaskCount">&nbsp;</span> tasks\n <i class="icon-white icon-info-sign" data-bind="attr: { \'data-powertip\': rescueWorkTooltipHtml }"></i>\x3c!-- /ko--\x3e</p><div class="workTimerDialog-buttons workTimerDialog-buttons-stacked"><button data-bind="click: resumeRescuedWorkClicked" class="workTimerDialog-button">Resume work</button><button data-bind="click: skipRescuedWorkButKeepTimeClicked" class="workTimerDialog-button">Skip, but keep time</button><button data-bind="click: skipRescuedWorkAndDiscardTimeClicked" class="workTimerDialog-button">Skip &amp; discard time</button></div></div><div data-bind="visible: modalMode() === \'addTime\'" class="workTimerDialog-addTime"><div data-bind="css: { \'workTimerDialog-addTime-taskWrapper-selecting\': isSelectingTask }" class="workTimerDialog-addTime-taskWrapper"><div data-bind="attr: { title: taskName }" class="workTimerDialog-addTime-taskNameWrapper"><div data-bind="text: taskText" class="workTimerDialog-addTime-taskName"></div></div><div class="workTimerDialog-addTime-taskButtonWrapper"><button data-bind="click: selectTaskClicked, visible: showSelectTaskButton, text: selectTaskButtonText" class="workTimerDialog-taskButton"></button><button data-bind="click: cancelSelectTaskClicked, visible: showCancelSelectTaskButton" class="workTimerDialog-taskButton">Cancel</button></div></div><div class="workTimerDialog-addTime-inputListWrapper"><div class="workTimerDialog-addTime-inputWrapper"><label class="workTimerDialog-addTime-inputLabel">Date:</label><input type="text" placeholder="yyyy-mm-dd" data-bind="dateStringValue: addTime.date, datePickerOptions: { beforeShow: positionAddTimeDatePicker }" class="workTimerDialog-addTime-date workTimerDialog-addTime-input"></div><div class="workTimerDialog-addTime-inputWrapper"><label class="workTimerDialog-addTime-inputLabel">From:</label><input type="text" data-bind="timeInput: addTime.from" class="workTimerDialog-addTime-from workTimerDialog-addTime-input"></div><div class="workTimerDialog-addTime-inputWrapper"><label class="workTimerDialog-addTime-inputLabel">To:</label><input type="text" data-bind="timeInput: addTime.to" class="workTimerDialog-addTime-to workTimerDialog-addTime-input"></div><div class="workTimerDialog-addTime-inputWrapper"><label class="workTimerDialog-addTime-inputLabel">Duration:</label><input type="text" data-bind="durationInput: addTime.duration" class="workTimerDialog-addTime-duration workTimerDialog-addTime-input"></div></div><div class="workTimerDialog-buttons workTimerDialog-buttons-bottom"><button data-bind="click: cancelAddTimeClicked" class="workTimerDialog-button">Cancel</button><button data-bind="click: addTimeClicked" class="workTimerDialog-button workTimerDialog-button-success">Add</button></div></div><div data-bind="visible: modalMode() === \'sessionDiscarded\'" class="workTimerDialog-sessionDiscarded"><div class="workTimerDialog-modal-title">Session discarded</div><p class="workTimerDialog-p">It looks like the timer was abandoned.\nIt had been running for more than <span data-bind="text: maxSessionHours">&nbsp;</span>&nbsp;hours in a row.</p><p class="workTimerDialog-p">The session was automatically discarded, so no time has been added to your task(s).</p><div class="workTimerDialog-buttons workTimerDialog-buttons-bottom workTimerDialog-buttons-stacked"><button data-bind="click: confirmSessionDiscardedClicked" class="workTimerDialog-button workTimerDialog-button-success">I understand</button></div></div></div><div data-bind="visible: preventClicks" class="workTimerDialog-preventClicks"></div></div>'),t.join("")}},"NmaC2/cCdd":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"estimateText",class:e.textClasses,attrs:{tabindex:e.readOnly?-1:0},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.showEditFromKeyboard(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.showEditFromKeyboard(t)}],click:e.showEditEstimate}},[e._v("\n        "+e._s(e.pointsEstimateText)+"\n    ")]),e._v(" "),e.editVisible?n("edit-points-estimate",{attrs:{position:e.getEstimateTextPosition()},on:{done:e.updateEstimate,close:e.editClose}}):e._e()],1)},staticRenderFns:[]}},OBWLwzwgjQ:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("irB8nWyAIn"),n("TwFXo3XaZ5"),!1,null,null,null);e.exports=a.exports},"OJqx+78Y+a":function(e,t,n){"use strict";var a=n("hHlQBZdXtr");e.exports={copy:function(e){var t=a(e);return delete t._id,delete t._rev,delete t.hasComments,delete t.hasAttachments,delete t.hasRelations,delete t.number,delete t.totalSecondsSpent,t.subTasks.forEach(function(e){e.finished&&(e.finished=!1)}),t}}},ONdmn5aCcJ:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"editor",class:e.textEditorClasses},[e.preview?n("div",{class:e.previewClasses,domProps:{innerHTML:e._s(e.previewHtml)},on:{click:e.previewContentClick}}):[e.highlightSettings?n("text-highlight",{attrs:{value:e.inputValue,settings:e.highlightSettings}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"},{name:"focus",rawName:"v-focus",value:e.inputFocus,expression:"inputFocus"},{name:"autosize",rawName:"v-autosize"},{name:"text-complete",rawName:"v-text-complete",value:e.completeSettings,expression:"completeSettings"}],class:e.inputClasses,attrs:{disabled:e.saving,placeholder:e.placeholder},domProps:{value:e.inputValue},on:{focus:e.onInputFocus,blur:e.onInputBlur,input:[function(t){t.target.composing||(e.inputValue=t.target.value)},e.onInput],keydown:[function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:void e.done(t):null},function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.metaKey?t.ctrlKey||t.shiftKey||t.altKey?null:void e.done(t):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;t.preventDefault(),t.stopPropagation(),e.inputEscapePress(t)}]}})]):n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"},{name:"focus",rawName:"v-focus",value:e.inputFocus,expression:"inputFocus"},{name:"autosize",rawName:"v-autosize"},{name:"text-complete",rawName:"v-text-complete",value:e.completeSettings,expression:"completeSettings"}],class:e.inputClasses,attrs:{disabled:e.saving,placeholder:e.placeholder},domProps:{value:e.inputValue},on:{focus:e.onInputFocus,blur:e.onInputBlur,input:[function(t){t.target.composing||(e.inputValue=t.target.value)},e.onInput],keydown:[function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:void e.done(t):null},function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.metaKey?t.ctrlKey||t.shiftKey||t.altKey?null:void e.done(t):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;t.preventDefault(),t.stopPropagation(),e.inputEscapePress(t)}]}})],e._v(" "),e.inputActive?n("div",{staticClass:"taskDetails-textEditorToolbar"},[n("div",{staticClass:"taskDetails-textEditorTabs"},[n("button",{class:e.writeTabClasses,attrs:{tabindex:"-1"},on:{click:e.editAndFocusInput}},[e._v("\n                Write\n            ")]),e._v(" "),n("button",{class:e.previewTabClasses,attrs:{tabindex:"-1"},on:{click:e.previewClick}},[e._v("\n                Preview\n            ")])]),e._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.formattingTooltipHtml,expression:"formattingTooltipHtml"}],staticClass:"taskDetails-textEditorFormattingHelp"},[n("i",{staticClass:"icons-info"}),e._v(" "),n("span",{staticClass:"taskDetails-textEditorFormattingText"},[e._v("Formatting")])]),e._v(" "),e.showActionButtons?n("div",{staticClass:"taskDetails-textEditorButtons"},[n("button",{staticClass:"taskDetails-editButton taskDetails-editButton--secondary button",attrs:{disabled:e.saving},on:{click:e.cancel}},[e._v("\n                Cancel\n            ")]),e._v(" "),n("button",{staticClass:"taskDetails-editButton button",attrs:{disabled:e.doneDisabled},on:{click:e.done}},[e._v("\n                "+e._s(e.doneText)+"\n            ")])]):e._e()]):e._e()],2)},staticRenderFns:[]}},OTuxUJp4XE:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"taskDialog-onboarding-clickOverlay"}),e._v(" "),n("svg",{staticClass:"taskDialog-onboarding-svg",attrs:{preserveAspectRatio:"none",height:e.wrapperHeight}},[n("mask",{attrs:{id:"Mask"}},[n("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"White"}}),e._v(" "),e.loaded?[1===e.step?[e.addButtonCircle.r?n("circle",{attrs:{cx:e.addButtonCircle.cx,cy:e.addButtonCircle.cy,r:e.addButtonCircle.r,fill:"Black"}}):e._e()]:e._e(),e._v(" "),2===e.step?[n("rect",{attrs:{x:e.nameRect.left-5,y:e.nameRect.top,width:e.nameRect.width+10,height:e.nameRect.height,rx:5,ry:5,fill:"Black"}}),e._v(" "),n("rect",{attrs:{x:e.colorSelectRect.left-5,y:e.colorSelectRect.top,width:e.colorSelectRect.width+10,height:e.colorSelectRect.height,rx:5,ry:5,fill:"Black"}})]:e._e()]:e._e()],2),e._v(" "),n("marker",{attrs:{id:"arrowHead",markerWidth:"10",markerHeight:"10",refX:"0",refY:"3",orient:"auto",markerUnits:"strokeWidth"}},[n("path",{staticStyle:{fill:"#fff",stroke:"none"},attrs:{d:"M0,0 L0,6 L7,3 z"}})]),e._v(" "),n("rect",{attrs:{x:"0",y:"0",width:"100%",height:e.wrapperHeight,fill:"#000000","fill-opacity":"0.5",mask:"url(#Mask)"}}),e._v(" "),e.loaded?[1===e.step?[n("path",{attrs:{d:e.addButtonArrow,stroke:"white","stroke-width":"4",fill:"transparent","marker-end":"url(#arrowHead)"}})]:e._e(),e._v(" "),2===e.step?[n("path",{attrs:{d:e.editColorArrow,stroke:"white","stroke-width":"4",fill:"transparent","marker-end":"url(#arrowHead)"}}),e._v(" "),n("path",{attrs:{d:e.editNameArrow,stroke:"white","stroke-width":"4",fill:"transparent","marker-end":"url(#arrowHead)"}})]:e._e()]:e._e()],2),e._v(" "),e.loaded?[1===e.step?n("div",{staticClass:"taskDialog-onboarding-messageBox",style:e.addMessageBoxStyle},[n("p",[e._v("Add description, labels, members, subtasks and more by clicking up here")]),e._v(" "),n("button",{staticClass:"button button--primary button--stretch button--large",on:{click:e.stepDone}},[e._v("\n                Got it!\n            ")])]):e._e(),e._v(" "),2===e.step?n("div",{staticClass:"taskDialog-onboarding-messageBox",style:e.editMessageBoxStyle},[n("p",[e._v("Edit name, color and other things simply by clicking on it")]),e._v(" "),n("button",{staticClass:"button button--primary button--stretch button--large",on:{click:e.stepDone}},[e._v("\n                Understood!\n            ")])]):e._e()]:e._e()],2)},staticRenderFns:[]}},OYyIQ74CCY:function(e,t,n){var a=n("LIpyplBEl9"),i=Object.prototype,o=i.hasOwnProperty;e.exports=function(e,t,n,r){return void 0===e||a(e,i[n])&&!o.call(r,n)?t:e}},OxR0S1vMsg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n("2JJlSkUcHj")),r=(a(n("wK5dsQjYHe")),a(n("heLhFGELzy")),["handleQueryResult"]),s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.strategies=[],r.forEach(function(t){e[t]=e[t].bind(e)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"destroy",value:function(){return this.strategies.forEach(function(e){return e.destroy()}),this}},{key:"registerStrategy",value:function(e){return this.strategies.push(e),this}},{key:"run",value:function(e){var t=this.extractQuery(e);t?t.execute(this.handleQueryResult):this.handleQueryResult([])}},{key:"extractQuery",value:function(e){for(var t=0;t<this.strategies.length;t++){var n=this.strategies[t].buildQuery(e);if(n)return n}return null}},{key:"handleQueryResult",value:function(e){this.emit("hit",{searchResults:e})}}]),t}();t.default=s},P0Byk9kR7w:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ").mapState;n("GbcutZx8hN"),n("natLtIr/Gc"),n("3yz/kx2JkK"),e.exports={props:["position"],data:function(){return{points:this.$store.state.task.pointsEstimate||void 0}},computed:a({},i({pointsEstimate:function(e){return e.task.pointsEstimate}}),{isEdit:function(){return this.pointsEstimate>0}}),methods:{pointsEstimateUpdate:function(e){this.points=e},deleteClick:function(){this.$emit("done",0),this.close()},done:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$emit("done",this.points||0),this.close();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),close:function(){this.$emit("close")}}}},P89MwyBaDG:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("qRbadsr4Vt"),n("86g4xzFxL/"),!1,null,null,null);e.exports=a.exports},PBPfGuJyjG:function(e,t,n){(function(e){var a=n("j3D9aNexoM"),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,r=o&&o.exports===i&&a.process,s=function(){try{return r&&r.binding&&r.binding("util")}catch(e){}}();e.exports=s}).call(t,n("l2620E2jk3")(e))},"PDMX9bwy/y":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"headerDetails",on:{click:function(e){e.stopPropagation()}}},[n("h3",{staticClass:"headerDetails-header"},[e._v("\n        "+e._s(e.title)+"\n        "),n("button",{staticClass:"headerDetails-header-closeButton icons-close icons-gray",attrs:{title:"Close"},on:{click:e.closeClick}})]),e._v(" "),e.isSwimlane?e._e():[n("hr",{staticClass:"headerDetails-divider"}),e._v(" "),n("ul",{staticClass:"headerDetails-countInfoList"},[e.details.isFilterActive?n("li",{staticClass:"headerDetails-filterCount headerDetails-countInfoItem",domProps:{innerHTML:e._s(e.filterCountHtml)}}):e._e(),e._v(" "),n("li",{staticClass:"headerDetails-countInfoItem",domProps:{innerHTML:e._s(e.taskCountHtml)}}),e._v(" "),e.details.taskLimit?n("li",{staticClass:"headerDetails-limit headerDetails-countInfoItem",domProps:{innerHTML:e._s(e.taskLimitHtml)}}):e._e()])],e._v(" "),e.details.description?[n("hr",{staticClass:"headerDetails-divider"}),e._v(" "),n("p",{staticClass:"headerDetails-description scroll scroll--horizontalHidden"},[e._v(e._s(e.details.description))])]:e._e()],2)},staticRenderFns:[]}},PI55PZUUtQ:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("mpS4yaNLgJ"),o=n("CXfR8Bb8Nd"),r=n("TS0ILVVaKW"),s=n("Zz1PBJ8Ns9"),l=n("8iHB64F76s"),u=n("rEK1kr4M5E"),c=n("EWUDtfBmmZ"),d=n("yKS169xhxh"),m=n("e9xRBbbPG2"),p=n("MsGyxL+QFM"),f=n("CNahyagoxK"),h=n("zCnJNEeu5Z"),v=n("RNfSVdyTQ7"),k=n("RyzQOUNNaK"),g=n("NKFQkhZ/hO"),b=n("H/QV61slXi"),T=n("Gh3TGTRxcI"),y=n("0THXnr+3dF"),I=n("nLTT+Rs0w5"),w=n("9nJm49KDlC"),x=p.formatTimeWithColons,C=p.formatTimeWithUnits;n("5NmzUcivbB"),n("hPMTES7IZs"),n("S9LUgT/mQf"),n("DWtTvLcI7H");var D=n("NLZmemVMcH"),S=200,E=12e5,_=2592e5,M="WorkTimerDialog:LastWorkUpdateTime",R=1e3,O=20,A="You can not switch mode when the timer has been running for more than 5 minutes. Please stop the timer or discard the current session first.",N="You are about to delete the last item in the session. This will discard the session. Do you want to continue?",F="You are about to delete the last item in the session. This will discard the session without tracking it as an interruption. Do you want to continue?",L=5,P=10,B=3600*P-300,V="The total session time is too long. It can be at most 10 hours.",H=20,U=3600*H,W="workTimerDialog-currentTaskWrapper-selecting",j=300,K=20;e.exports=function(e){function t(){mn||J(),b.toTopOfStack(un,".stackable"),mn.atStartPosition()||n(),pn||(un.show(),pn=!0,Cn.emit("show"))}function n(){un.css({top:"auto",right:"auto",left:"0",bottom:cn.outerHeight()+"px"}),mn.atStartPosition(!0)}function p(e){mn||J();var n=$t.getTaskById(e);Vt(n),pn||G()||t(),Se()?mn.isTaskRunning()&&(fn.changeTask(n),qt.updateWorkEntry(fn)):mn.elapsedSecondsSinceClockStart(0)}function G(){return mn&&mn.isTaskRunning()}function z(){return mn&&mn.taskId()}function Y(){mn&&(mn.modalMode()||(pn?Ve()?Ze():He()?tt():Ke()&&at():He()&&(t(),tt())))}function $(){pn&&un.css("z-index","")}function q(e,t){return e.x>=t.left&&e.y>=t.top&&e.x<=t.right&&e.y<=t.bottom}function Q(){var e=mn.elapsedSecondsSinceClockStart();return xe()?Se()?Math.max(0,mn.clockTotalSecondsOnClockStart()-e):mn.pomodoroStartTotalSeconds():e}function J(){!function(){var e=D({});un=a(e),a(sn).append(un)}(),function(){var e=nn.getTimerSettings(),t=60*e.workTimeMinutes,n=60*e.shortBreakTimeMinutes,a=60*e.longBreakTimeMinutes;(mn=r.mapping.fromJS({todayLocalDateString:s().format("YYYY-MM-DD"),timerMode:e.timerMode||"pomodoro",taskName:"",taskId:"",shortBreakTimeTotalSeconds:n,longBreakTimeTotalSeconds:a,longBreakInterval:e.longBreakInterval,pomodoroStartTotalSeconds:t,elapsedSecondsSinceClockStart:0,clockTotalSecondsOnClockStart:0,savedTaskTotalSeconds:0,unsavedTaskTotalSeconds:0,isTaskRunning:!1,isBreakRunning:!1,isSelectingTask:!1,modalMode:null,preventClicks:!1,disturbanceReasons:ie(e.disturbanceReasons),newDisturbanceReasonInputVisible:!1,newDisturbanceReasonInputFocus:!1,newDisturbanceReasonText:"",rescueWorkMinutes:0,rescueWorkTaskCount:0,rescueWorkSingleTaskName:"",rescueWorkTooltipHtml:"",atStartPosition:!1,editSessionItems:[],editSessionOriginalTotalSeconds:0,addTime:{date:null,from:null,to:null,duration:0},sessions:[],pomodorosToday:0,flowPointsToday:0,pointsCountUpActive:!1})).enabledDisturbanceReasons=r.pureComputed(re),mn.maxSessionHours=r.pureComputed(se),mn.totalSecondsSpentTodayOnClockStart=r.pureComputed(me),mn.totalSecondsSpentToday=r.pureComputed(le),mn.sessionCountToday=r.pureComputed(de),mn.clockTotalSeconds=r.pureComputed(Q),mn.dialogTitle=r.pureComputed(we),mn.isPomodoroMode=r.pureComputed(xe),mn.isStopwatchMode=r.pureComputed(Ce),mn.taskText=r.pureComputed(Ie),mn.taskTotalSecondsSpent=r.pureComputed(De),mn.canBreak=r.pureComputed(_e),mn.isBreakOver=r.pureComputed(Me),mn.clockLabel=r.pureComputed(Fe),mn.showModalInfo=r.pureComputed(Le),mn.selectTaskButtonText=r.pureComputed(ye),mn.showSelectTaskButton=r.pureComputed(Pe),mn.showCancelSelectTaskButton=r.pureComputed(Be),mn.showStartButton=r.pureComputed(Ve),mn.showStopButton=r.pureComputed(He),mn.clockText=r.pureComputed(Ue),mn.taskTotalTimeText=r.pureComputed(We),mn.totalTimeTodayText=r.pureComputed(je),mn.showTakeBreakButton=r.pureComputed(Ke),mn.showBreakMessage=r.pureComputed(Ge),mn.breakMessage=r.pureComputed(ze),mn.clockHasHours=r.pureComputed(Ye),mn.flowPointsToEarn=r.pureComputed($e),mn.editSessionTotalTimeText=r.pureComputed(qe),mn.canEditSession=r.pureComputed(ve),mn.getClockTextTitle=r.pureComputed(ke),Object.assign(mn,{startClicked:Ze,stopClicked:tt,undoStopClicked:nt,takeBreakClicked:at,disturbanceClicked:it,showNewDisturbanceReasonClicked:rt,addDisturbanceReasonClicked:st,taskDoneClicked:lt,resumeWorkAfterTaskDoneClicked:ut,stopNowAfterTaskDoneClicked:ct,selectTaskClicked:dt,cancelSelectTaskClicked:mt,closeDialogClicked:pt,settingsClicked:ft,workLogClicked:ht,showAddTimeClicked:vt,positionAddTimeDatePicker:kt,addTimeClicked:fe,cancelAddTimeClicked:he,resumeRescuedWorkClicked:bt,skipRescuedWorkButKeepTimeClicked:Tt,skipRescuedWorkAndDiscardTimeClicked:yt,switchToStopwatchClicked:It,switchToPomodoroClicked:wt,clockTextClicked:Ct,editSessionItemContentClicked:Et,deleteSessionItemClicked:Dt,editSessionItemDoneClicked:_t,updateEditedSessionClicked:Mt,cancelEditedSessionClicked:Ot,getEditedSessionItemContentTitle:ge,confirmSessionDiscardedClicked:oe}),mn.isTaskRunning.subscribe(be),mn.isBreakRunning.subscribe(Te),mn.canBreak.subscribe(Oe),mn.isBreakOver.subscribe(Ne),mn.clockText.subscribe(Nt),mn.timerMode.subscribe(Ft),mn.clockTotalSeconds.subscribe(Lt),mn.addTime.from.subscribe(Pt),mn.addTime.to.subscribe(Pt),mn.addTime.duration.subscribe(Bt),r.applyBindings(mn,un[0])}(),$t.on("merge localMerge",function(e){var t=e.taskId;if(t===mn.taskId()){var n=$t.getTaskById(t);mn.taskName(n.name);var a=e.changedProperties;(!a||a.indexOf("totalSecondsSpent")>=0)&&mn.savedTaskTotalSeconds(n.totalSecondsSpent||0)}}),$t.on("delete localDelete",function(e){e.taskId===mn.taskId()&&(d.clear(gn),mn.isSelectingTask(!1).isTaskRunning(!1).taskId("").taskName("").savedTaskTotalSeconds(0).unsavedTaskTotalSeconds(0).elapsedSecondsSinceClockStart(0).modalMode(null),qt.clearWorkEntry(),fn=null,Cn.emit("workStopped"))}),nn.on("workTimeMinutesChanged",function(e){var t=60*e.value;mn.pomodoroStartTotalSeconds(t)}).on("shortBreakTimeMinutesChanged",function(e){var t=60*e.value;mn.shortBreakTimeTotalSeconds(t)}).on("longBreakTimeMinutesChanged",function(e){var t=60*e.value;mn.longBreakTimeTotalSeconds(t)}).on("longBreakIntervalChanged",function(e){mn.longBreakInterval(e.value)}).on("disturbanceReasonsChanged",function(e){var t=ie(e.value).map(function(e){return r.mapping.fromJS(e)});mn.disturbanceReasons(t)}),function(){var e=o(te,100);a(window).on("resize",e)}(),un.draggable({handle:".dialog-header",scroll:!1,distance:10,start:function(){b.toTopOfStack(un,".stackable"),mn.atStartPosition(!1)},stop:ee}),un.click(function(){b.toTopOfStack(un,".stackable")}),function(){(In=I({positionRelativeTo:".workTimerDialog-pomodorosToday",duration:1e3})).on("valueChange",function(e){var t=e.valueChange,n=mn.pomodorosToday()+t;mn.pomodorosToday(n)}),(wn=I({positionRelativeTo:".workTimerDialog-flowPointsToday",duration:1e3})).on("valueChange",function(e){var t=e.valueChange,n=mn.flowPointsToday()+t;mn.flowPointsToday(n)});var e=nn.getTimerSettings().pointsVolumePercentage;(xn=new ln("/sound/points/standard",!0)).setVolume(e/100),nn.on("timerSettingsChanged",X)}(),cn=a("#toolbar"),Qt.on("workEntryDeleted",ae),tn.addUnloadCheck(Z),k.onMidnight(ne),jt||ae()}function Z(){if(mn.isTaskRunning())return pn||t(),"The timer is still running. Please stop it before leaving the page.";if(mn.modalMode()){pn||t();var e="The timer needs your attention before leaving the page. ";return e+=Je()}}function X(e){var t=e.oldSettings,n=e.newSettings.pointsVolumePercentage;t.pointsVolumePercentage!==n&&(xn.setVolume(n/100),n>0&&nn.isSoundEnabled()&&xn.play())}function ee(){te(),function(){var e=un.offset(),t=un.outerHeight(),n=cn.offset(),a=Math.abs(e.left),i=Math.abs(n.top-(e.top+t));return a<O&&i<O}()&&n()}function te(){b.ensureInsideContainer(un,{$container:a("body")})}function ne(){var e=s().format("YYYY-MM-DD");mn.todayLocalDateString(e),mn.pomodorosToday(ue()),mn.flowPointsToday(ce())}function ae(){u.get({url:"/work-timer/timer-init-data",data:{date:v.getIsoDateString(new Date)}}).then(function(e){var t=e.sessions.map(function(e){return i(e,{collectedPomodoro:!1,flowPoints:0}),r.mapping.fromJS(e)});mn.sessions(t),mn.pomodorosToday(ue()),mn.flowPointsToday(ce())})}function ie(e){return e.map(function(e){return{value:e.value,disabled:!!e.disabled}}).sort(function(e,t){return e.value.localeCompare(t.value)})}function oe(){Ut(),mn.modalMode(null)}function re(){return mn.disturbanceReasons().filter(function(e){return!e.disabled()})}function se(){return xe()?L:P}function le(){return mn.isTaskRunning()?mn.totalSecondsSpentTodayOnClockStart()+mn.elapsedSecondsSinceClockStart():mn.totalSecondsSpentTodayOnClockStart()}function ue(){return pe().filter(function(e){return e.collectedPomodoro()}).length}function ce(){var e=0;return pe().forEach(function(t){e+=t.flowPoints()}),e}function de(){return pe().length}function me(){var e=0;return pe().forEach(function(t){e+=s(t.endTimestamp()).diff(s(t.startTimestamp()),"seconds")}),e}function pe(){return mn.sessions().filter(function(e){return s(e.endTimestamp()).format("YYYY-MM-DD")===mn.todayLocalDateString()})}function fe(){if(Ut(),mn.taskId()){var e=mn.addTime.date(),t=mn.addTime.from(),n=mn.addTime.to();if(e)if(t)if(n){var a=s(e),i=s(e);t>n&&i.add(1,"days");var o=s(e+" "+t).toDate(),r=s(i.format("YYYY-MM-DD")+" "+n).toDate(),l=new Date;if(a>l)g.alert("You can not enter a date in the future");else if(o>l||r>l)g.alert("You can not enter a time in the future");else{var u=mn.addTime.duration();if(u)if(u>U)g.alert("The duration can not exceed "+H+" hours");else{var c={type:"manualTimeEntry",boardId:zt,boardName:Yt,userId:Kt,taskId:mn.taskId(),taskName:mn.taskName(),createdTimestamp:l.toISOString(),startTimestamp:o.toISOString(),startTimestampLocal:v.getLocalIsoTimestamp(o),endTimestamp:r.toISOString(),endTimestampLocal:v.getLocalIsoTimestamp(r)};Jt.saveEntryAndUpdateTask(c),mn.modalMode(null)}else g.alert("The entry needs to have a duration")}}else g.alert("You need to enter a valid To time");else g.alert("You need to enter a valid From time");else g.alert("You need to enter a valid date")}else g.alert("You need to select a task first")}function he(){Ut(),mn.modalMode(null)}function ve(){return mn.isTaskRunning()}function ke(){return ve()?"Click to edit session":null}function ge(e){return e.isEditing()?null:"Click to edit time"}function be(e){e||Zt.clearPrefix()}function Te(e){e||Zt.clearPrefix()}function ye(){return mn.taskId()?"Change":"Select"}function Ie(){return mn.isSelectingTask()?"Click a task on the board to select it":mn.taskName()||"No task selected"}function we(){return"addTime"===mn.modalMode()?"Add time manually":xe()?"Pomodoro timer":"Stopwatch timer"}function xe(){return"pomodoro"===mn.timerMode()}function Ce(){return"stopwatch"===mn.timerMode()}function De(){return mn.savedTaskTotalSeconds()+mn.unsavedTaskTotalSeconds()}function Se(){return mn.isTaskRunning()||mn.isBreakRunning()}function Ee(){return xe()?mn.pomodoroStartTotalSeconds():0}function _e(){return mn.isPomodoroMode()&&mn.isTaskRunning()&&0===mn.clockTotalSeconds()}function Me(){return mn.isBreakRunning()&&0===mn.clockTotalSeconds()}function Re(){return(function(){var e=mn.sessions().filter(function(e){return e.collectedPomodoro()}).map(function(e){return{startTimestamp:e.startTimestamp(),endTimestamp:e.endTimestamp()}});fn&&e.push({startTimestamp:fn.startTimestamp});for(var t=0,n=1;n<e.length;n++){var a=e[n-1],i=e[n];s(i.startTimestamp).diff(a.endTimestamp,"seconds")>=mn.longBreakTimeTotalSeconds()?t=0:t++}return t}()+1)%mn.longBreakInterval()==0}function Oe(e){if(e&&!hn){var n=Ae();hn=Xt.notify({imageUrl:"/img/bell.png",title:"Time for break",text:n+" minutes of work done. You deserve a break!"}),pn||t(),Cn.emit("workOverDue")}else!e&&hn&&(hn.close(),hn=null)}function Ae(){return mn.clockTotalSecondsOnClockStart()/60}function Ne(e){if(e&&!vn){var t=Ae();vn=Xt.notify({imageUrl:"/img/bell.png",title:"Break over",text:"Your break of "+t+" minutes is over."}),Cn.emit("breakOverDue")}else!e&&vn&&(vn.close(),vn=null)}function Fe(){return Ce()?"Session time":mn.isBreakRunning()?"Break time":"Time until break"}function Le(){return!!mn.modalMode()}function Pe(){return!mn.isSelectingTask()}function Be(){return mn.isSelectingTask()}function Ve(){return!mn.isTaskRunning()}function He(){return mn.isTaskRunning()&&!mn.canBreak()}function Ue(){var e=mn.clockTotalSeconds();return xe()&&0===e&&mn.isTaskRunning()&&mn.taskTotalSecondsSpent()%2==0?"":x(e)}function We(){return x(mn.taskTotalSecondsSpent())}function je(){return C(mn.totalSecondsSpentToday())||"0m"}function Ke(){return mn.canBreak()}function Ge(){return mn.canBreak()}function ze(){return Re()?"It is time for a long break":"It is time for a short break"}function Ye(){return mn.clockTotalSeconds()>=3600}function $e(){return Ae()}function qe(){return C(Qe(),{showSeconds:!0})||"0m"}function Qe(){var e=0;return mn.editSessionItems().forEach(function(t){e+=t.totalSeconds()}),e}function Je(){var e=mn.modalMode();return"disturbanceSelection"===e?"Please select an interruption reason first.":"taskDoneExplanation"===e?'Please click either "Resume" or "Stop" first.':"rescueWork"===e?"Please decide what to do with the unsaved work first.":"addTime"===e?'Please click either "Cancel" or "Add" first.':"editSession"===e?'Please click either "Cancel" or "Update" first.':"sessionDiscarded"===e?'Please click "I understand" first.':""}function Ze(){mn.taskId()?(Ut(),xe()&&Xt.requestPermission(),mn.isBreakRunning()&&mn.isBreakRunning(!1),kn=s().milliseconds(0).toDate().getTime(),mn.elapsedSecondsSinceClockStart(0).clockTotalSecondsOnClockStart(Ee()).isSelectingTask(!1).isTaskRunning(!0),function(){var e={userId:Kt,userFullName:Gt};xe()?(e.targetWorkTimeMinutes=Ae(),e.timerMode="pomodoro"):e.timerMode="stopwatch";var t=new l(e),n=$t.getTaskById(mn.taskId());t.selectTask(n),fn=t,qt.updateWorkEntry(t)}(),Ht()):mn.isSelectingTask()?et({times:6}):(mn.isSelectingTask(!0),et({times:4}))}function Xe(){return!mn||!G()}function et(e){dn||(dn=a(".workTimerDialog-currentTaskWrapper")),yn=d.times({times:e.times,delay:250},function(){dn.toggleClass(W)})}function tt(){Ut(),d.clear(gn),mn.isSelectingTask(!1).isTaskRunning(!1),fn.endByStop(),mn.elapsedSecondsSinceClockStart()<K?(St(),on.showMessage({title:"Session discarded",textHtml:"Session lasted less than "+K+" seconds"})):xe()?(mn.modalMode("disturbanceSelection"),a(".workTimerDialog-disturbanceScrollWrapper").scrollTop(0),qt.updateWorkEntry(fn)):(mn.savedTaskTotalSeconds(mn.taskTotalSecondsSpent()).unsavedTaskTotalSeconds(0).elapsedSecondsSinceClockStart(0),gt()),Cn.emit("workStopped")}function nt(){Ut(),fn.undoEndByStop(),qt.updateWorkEntry(fn),mn.isTaskRunning(!0).modalMode(null),Ht()}function at(){Ut();var e=Re(),t=e?mn.longBreakTimeTotalSeconds():mn.shortBreakTimeTotalSeconds();mn.isSelectingTask(!1).isTaskRunning(!1).savedTaskTotalSeconds(mn.taskTotalSecondsSpent()).unsavedTaskTotalSeconds(0).elapsedSecondsSinceClockStart(0).clockTotalSecondsOnClockStart(t).isBreakRunning(!0).modalMode(null),fn.endByBreak(),fn.acceptPomodoro(),gt(),Cn.emit("workStopped"),kn=Date.now(),d.clear(gn),gn=d.every(S,function(){var e=Math.floor((Date.now()-kn)/1e3);mn.elapsedSecondsSinceClockStart(e);e>=mn.clockTotalSecondsOnClockStart()&&d.clear(gn)});var n=e?"long":"short";Cn.emit("breakStarted",{type:n})}function it(e){Ut(),ot(e.value())}function ot(e){var t=mn.taskTotalSecondsSpent();mn.savedTaskTotalSeconds(t).unsavedTaskTotalSeconds(0).elapsedSecondsSinceClockStart(0).modalMode(null),fn.setDisturbanceInfo(e),gt()}function rt(){Ut(),mn.newDisturbanceReasonInputVisible(!0);var e=a(".workTimerDialog-newDisturbanceReason-wrapper"),t=a(".workTimerDialog-disturbanceScrollWrapper");T.scrollToShow(e[0],t[0]),Wt.wasMouseUsedLast()&&mn.newDisturbanceReasonInputFocus(!0)}function st(){var e=mn.newDisturbanceReasonText().trim();if(0!==e.length){var t=nn.getTimerSettings(),n=t.disturbanceReasons.find(function(t){return t.value===e});if(n)n.disabled&&(n.disabled=!1,nn.updateTimerSettings(t));else{var a={value:e};t.disturbanceReasons.push(a),nn.updateTimerSettings(t)}Ut(),ot(e),mn.newDisturbanceReasonText("")}else g.alert("You need to enter a reason")}function lt(){Ut(),mn.modalMode("taskDoneExplanation")}function ut(){nt()}function ct(){g.customModal({title:"Are you really sure you want to stop?",html:"<p>The Pomodoro technique wants you to work in timeboxed periods. Always. If you are done before the period is over, it is recommended that you either review your work or start to work on a new task until the time is up.</p><p>By stopping now, no Pomodoro point is rewarded.</p>",buttons:[{text:"Cancel"},{text:"Yes, stop now",type:"danger",callback:function(){ot("Other"),Cn.emit("workStopped")}}]})}function dt(){mn.isSelectingTask(!0)}function mt(){yn&&dn&&(d.clear(yn),yn=null,dn.removeClass(W)),mn.isSelectingTask(!1)}function pt(){if(mn.modalMode()){var e="You can not close the dialog at this stage. ";return e+=Je(),g.alert(e)}if(mn.canBreak())return g.alert('You can not close the dialog when it is time for break. Please click "Take break" first.');un.hide(),pn=!1,mn.isSelectingTask(!1),mn.isBreakRunning()&&Zt.clearPrefix(),Cn.emit("hide")}function ft(){en.show()}function ht(){rn()}function vt(){if(mn.isTaskRunning())g.alert("You can not add time while the timer is running. Please stop the timer first.");else{Ut();var e=s(),t=e.format("HH:mm");mn.addTime.date(e.format("YYYY-MM-DD")).from(t).to(t).duration(0),mn.modalMode("addTime")}}function kt(e,t){var n=t.dpDiv;setTimeout(function(){n.position({my:"left+5 top-2",at:"right top",of:e,collision:"fit"})},0)}function gt(){var e=r.mapping.fromJS({sourceId:null,startTimestamp:fn.startTimestamp,endTimestamp:fn.getLastAction().end.timestamp,collectedPomodoro:fn.collectedPomodoro,flowPoints:fn.collectedPomodoro?fn.targetWorkTimeMinutes:0});mn.sessions.push(e),e.collectedPomodoro()&&function(e){wn.once("valueChange",function(){mn.pointsCountUpActive(!0),nn.isSoundEnabled()&&xn.play()}),wn.once("remove",function(){mn.pointsCountUpActive(!1)}),wn.once("countEnd",function(){wn.remove(),In.remove()}),In.addPoints(1),wn.addPoints(e.flowPoints())}(e),mn.preventClicks(!0),Qt.saveFinishedEntryAndUpdateTasks(fn,function(t,n){t?y.broadcastError(t):(e.sourceId(n._id),qt.clearWorkEntry(),mn.preventClicks(!1))}),fn=null}function bt(){Ut();var e=qt.getSavedWorkEntryInfoOrNull();if(Date.now()>Date.parse(e.savedTimestamp)+E)return g.alert("It is not possible to resume. More than 20 minutes have passed since the timer stopped.");var t=e.workEntry,n=t.getLastTaskId(),a=$t.getTaskById(n);if(!a)return g.alert("It is not possible to resume. The last used task is not available on the board.");t.ensureLastActionHasNoEnd(),qt.clearWorkEntry(),fn=t,Vt(a),kn=Date.parse(t.startTimestamp),mn.modalMode(null).clockTotalSecondsOnClockStart(Ee()).isTaskRunning(!0),Ht()}function Tt(){Ut();var e=qt.getSavedWorkEntryInfoOrNull(),t=e.workEntry;if(!t.isLastActionEnded()){var n=new Date(e.savedTimestamp),a=v.getIsoTimestamp(n);t.endByRescue(a)}0!==t.getTotalSeconds()?(mn.modalMode(null),fn=t,qt.updateWorkEntry(t),gt(),Cn.emit("workStopped")):yt()}function yt(){Ut(),mn.modalMode(null),qt.clearWorkEntry(),Cn.emit("workStopped")}function It(){xt()?(mn.isTaskRunning()?(fn.timerMode="stopwatch",delete fn.targetWorkTimeMinutes,qt.updateWorkEntry(fn)):(mn.isBreakRunning()&&(mn.isBreakRunning(!1),d.clear(gn)),mn.pointsCountUpActive()&&(In.finish(),wn.finish(),mn.pointsCountUpActive(!1)),xn.stop(),mn.elapsedSecondsSinceClockStart(0)),mn.timerMode("stopwatch"),Cn.emit("modeChanged",{newMode:"stopwatch"})):g.alert(A)}function wt(){xt()?(mn.isTaskRunning()?(mn.clockTotalSecondsOnClockStart(mn.pomodoroStartTotalSeconds()),fn.timerMode="pomodoro",fn.targetWorkTimeMinutes=Ae(),qt.updateWorkEntry(fn),Xt.requestPermission()):mn.elapsedSecondsSinceClockStart(0),mn.timerMode("pomodoro"),Cn.emit("modeChanged",{newMode:"pomodoro"})):g.alert(A)}function xt(){return!mn.isTaskRunning()||mn.elapsedSecondsSinceClockStart()<j}function Ct(){mn.isTaskRunning()&&(Ut(),d.clear(gn),mn.isSelectingTask(!1).isTaskRunning(!1),fn.endByStop(),qt.updateWorkEntry(fn),Cn.emit("workStopped"),function(){var e=fn.actions.map(function(e){var t=r.mapping.fromJS({isEditing:!1,editTimeText:"",taskName:e.taskName,taskId:e.taskId,endReason:e.end&&e.end.reason,totalSeconds:fn.getTotalSecondsInAction(e),editFocus:!1});return t.timeText=r.pureComputed(function(){return x(t.totalSeconds(),{showHoursAlways:!0,padHours:!0})}),t});mn.editSessionItems(e)}(),mn.editSessionOriginalTotalSeconds(Qe()).modalMode("editSession"))}function Dt(e){if(1===mn.editSessionItems().length){var t=Ce()?N:F;g.confirm(t,St)}else mn.editSessionItems.remove(e)}function St(){qt.clearWorkEntry(),fn=null,mn.elapsedSecondsSinceClockStart(0).unsavedTaskTotalSeconds(0).modalMode(null)}function Et(e){e.isEditing()||e.editTimeText(e.timeText()).isEditing(!0).editFocus(!0)}function _t(e){if(e.isEditing()){var t=f.parseToTotalSeconds(e.editTimeText());if(isNaN(t))g.alert("Invalid time format. Please use HH:MM:SS.",function(){setTimeout(function(){e.editFocus(!0)},0)});else if(0===t)if(1===mn.editSessionItems().length){var n=Ce()?N:F;g.confirm(n,St,function(){e.isEditing(!1)})}else mn.editSessionItems.remove(e);else e.totalSeconds(t),e.isEditing(!1)}}function Mt(){if(function(){for(var e=Rt();e.length;){var t=e[0];if(_t(t),t.isEditing())return;e.splice(0,1)}}(),!(Rt().length>0)){var e=Qe();if(e>=B)g.alert(V);else{var t=mn.editSessionOriginalTotalSeconds();if(xe()&&e>t){var n=C(t,{showSeconds:!0})||"0m";g.alert("When editing a Pomodoro session, you can not make the total time longer than the original time. The original time is "+n+".")}else{var a=At()-(Qe()-function(){var e=fn.getLastAction().end.timestamp,t=fn.startTimestamp;return s(e).diff(t,"seconds")}()),i=s(fn.startTimestamp).add(a,"seconds");fn.startTimestamp=i.toISOString(),fn.startTimestampLocal=v.getLocalIsoTimestamp(i.toDate());var o=i.clone();fn.actions=mn.editSessionItems().map(function(e){var t=e.totalSeconds();o.add(t,"seconds");var n=o.toDate();return{taskId:e.taskId(),taskName:e.taskName(),boardId:zt,end:{reason:e.endReason(),timestamp:n.toISOString(),timestampLocal:v.getLocalIsoTimestamp(n)}}});var r=fn.getLastAction();if(r.taskId!==mn.taskId()){var l=$t.getTaskById(r.taskId);Vt(l),fn.changeTask(l)}delete r.end,qt.updateWorkEntry(fn),kn=s().milliseconds(0).subtract(e,"seconds").toDate().getTime(),mn.modalMode(null).elapsedSecondsSinceClockStart(0).isTaskRunning(!0),Ht()}}}}function Rt(){return mn.editSessionItems().filter(function(e){return e.isEditing()})}function Ot(){var e=At(),t=s(fn.startTimestamp).add(e,"seconds");fn.startTimestamp=t.toISOString(),fn.startTimestampLocal=v.getLocalIsoTimestamp(t.toDate()),fn.actions.forEach(function(t){if(t.end){var n=s(t.end.timestamp).add(e,"seconds").toDate();t.end.timestamp=n.toISOString(),t.end.timestampLocal=v.getLocalIsoTimestamp(n)}}),delete fn.getLastAction().end,qt.updateWorkEntry(fn),kn=s(kn).milliseconds(0).add(e,"seconds").toDate().getTime(),mn.modalMode(null).elapsedSecondsSinceClockStart(0).isTaskRunning(!0),Ht()}function At(){var e=fn.getLastAction().end.timestamp;return s().diff(e,"seconds")}function Nt(e){if(!mn.isBreakRunning()||pn){var t="";Se()&&(e.length?t=e+" ":mn.isTaskRunning()&&(t="------- ")),Zt.setPrefix(t)}}function Ft(e){var t=nn.getTimerSettings();e!==t.timerMode&&(t.timerMode=e,nn.updateTimerSettings(t))}function Lt(e){mn.isBreakRunning()||Cn.emit("workClockTotalSecondsChanged",e)}function Pt(){var e=mn.addTime.from(),t=mn.addTime.to();if(e&&t){var n=s.duration(e),a=s.duration(t),i=n.asSeconds(),o=a.asSeconds(),r=void 0;r=i<=o?o-i:86400+o-i,mn.addTime.duration(r)}}function Bt(e){if(null!==e){var t=mn.addTime.to();if(t){var n=mn.addTime.date();null===n&&(n="2000-01-01");var a=s(n+" "+t).subtract(e,"seconds").format("HH:mm");mn.addTime.from(a)}}}function Vt(e){var t=mn.taskId(),n=e._id;mn.taskId(n),mn.taskName(e.name),mn.savedTaskTotalSeconds(e.totalSecondsSpent||0),mn.isSelectingTask(!1),Cn.emit("taskChanged",{oldTaskId:t,newTaskId:n})}function Ht(){d.clear(gn);var e=!0,t=3600*se();gn=d.nowAndEvery(S,function(){var n=Date.now(),a=Math.floor((n-kn)/1e3);mn.elapsedSecondsSinceClockStart(a);var i=fn.getAddedSecondsSpentForTask(mn.taskId());mn.unsavedTaskTotalSeconds(i),function(){var e=Math.floor(mn.taskTotalSecondsSpent()/60),t=mn.taskId();bn===e&&Tn===t||(e<1&&mn.taskTotalSecondsSpent()>=K?(bn=e,Tn=t,qt.updateWorkEntry(fn)):e>0&&(bn=e,Tn=t,qt.updateWorkEntry(fn)))}(),an.set(M,n),e?e=!1:a>=t&&(mn.modalMode("sessionDiscarded"),d.clear(gn),mn.isTaskRunning(!1).isSelectingTask(!1).elapsedSecondsSinceClockStart(0).unsavedTaskTotalSeconds(0),qt.clearWorkEntry(),fn=null,Cn.emit("workStopped"))}),Cn.emit("workStarted")}function Ut(){mn.preventClicks(!0),setTimeout(function(){mn.preventClicks(!1)},500)}var Wt=e.pointerMode,jt=e.skipInitLoadingOnShow,Kt=e.userId,Gt=e.userFullName,zt=e.boardId,Yt=e.boardName,$t=e.taskRepository,qt=e.workTimerSession,Qt=e.workEntryRepository,Jt=e.manualTimeEntryRepository,Zt=e.documentTitleFacade,Xt=e.desktopNotifier,en=e.settingsDialog,tn=e.windowUnloadManager,nn=e.userBoardSettingsRepository,an=e.boardStorage,on=e.growlController,rn=e.showWorkLogDialog,sn=e.appendTo||document.body,ln=e.Audio||w,un=void 0,cn=void 0,dn=void 0,mn=void 0,pn=!1,fn=null,hn=void 0,vn=void 0,kn=void 0,gn=void 0,bn=void 0,Tn=void 0,yn=void 0,In=void 0,wn=void 0,xn=void 0,Cn=c.createStandalone(["show","hide","taskChanged","modeChanged","workStarted","workOverDue","workStopped","workClockTotalSecondsChanged","breakStarted","breakOverDue"]);return{on:Cn.on,off:Cn.off,show:t,taskSelected:p,isShowing:function(){return pn},isTaskRunning:G,isBreakRunning:function(){return mn&&mn.isBreakRunning()},isTaskSelected:function(e){return z()===e},isSelectingTask:function(){return mn&&mn.isSelectingTask()},getSelectedTaskId:z,enableTaskSelect:function(){mn.isSelectingTask(!0)},hide:pt,handleRescueOfUnsavedWork:function(){if(mn)throw new Error("Should not be called when already initalized");var e=qt.getSavedWorkEntryInfoOrNull();e&&function(e){var t=an.get(M);setTimeout(function(){var n=an.get(M);e(n!==t)},R)}(function(n){if(!n){var a=e.workEntry,i=e.savedTimestamp,o=Date.parse(i)-Date.parse(a.startTimestamp),r=o/1e3,s=Date.now()-Date.parse(a.startTimestamp);if(r<K||_<s)return qt.clearWorkEntry(),void Cn.emit("workStopped");t();var l=Math.floor(o/6e4),u=a.getUniqueTaskIds(),c='<ul class="bulletList">'+u.map(function(e){var t=a.getTaskNameById(e),n=a.getAddedSecondsSpentForTask(e,i),o=C(n);return""!==o&&"0m"!==o||(o="&lt;1m"),"<li>"+h.encode(m.textMaxLength(t,50))+" ("+o+")</li>"}).join("")+"</ul>";if(mn.modalMode("rescueWork").rescueWorkMinutes(l).rescueWorkTaskCount(u.length).rescueWorkTooltipHtml(c),1===u.length){var d=a.getTaskNameById(u[0]),p=m.textMaxLength(d,50);mn.rescueWorkSingleTaskName(p)}un.find(".icon-info-sign").powerTip({smartPlacement:!0})}})},getClockTotalSeconds:Q,toggleMode:function(){mn.modalMode()||(xe()?It():wt())},getCurrentMode:function(){return mn.timerMode()},startTimerForTask:function(e){if(!Xe())throw new Error("Cannot start timer in its current state");p(e),Ze()},tryStop:function(){Y()},canStartTimer:Xe,clockButtonKeyboardShortcutPressed:Y,sessionTooShort:function(){return mn&&mn.elapsedSecondsSinceClockStart()<K},updateDialogStackingPosition:function(e){var t=e.ensureNotBlockingSelector,n=e.positionAboveSelector;if(pn){var i=!0;t&&(i=!function(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return q({x:n.left,y:a.top},a)||q({x:n.right,y:a.top},a)||q({x:n.right,y:a.bottom},a)||q({x:n.left,y:a.bottom},a)}(un[0],a(t)[0])),i?b.toTopOfStack(un,n):$()}},resetDialogStackingPosition:$,_getModel:function(){return mn},_getClockStart:function(){return kn}}}},PMmivYbTNU:function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div data-bind="visible: premiumInfoView() === \'faq\'" class="premiumInfoDialog-faq"><h2 class="premiumInfoDialog-viewTitle">Frequently asked questions</h2><div class="premiumInfoDialog-faq-questionsAndAnswers"><div class="premiumInfoDialog-faq-column"><h4 class="premiumInfoDialog-faq-question">Can I upgrade/downgrade between Free and Premium?</h4><p class="premiumInfoDialog-faq-answer">Yes. You can upgrade and downgrade your plan at any time.</p><h4 class="premiumInfoDialog-faq-question">What is your cancelation policy?</h4><p class="premiumInfoDialog-faq-answer">You can cancel at any time. No more charges are made after you have canceled.</p><h4 class="premiumInfoDialog-faq-question">What are your accepted payment methods?</h4><p class="premiumInfoDialog-faq-answer">Credit card, PayPal or check.</p></div><div class="premiumInfoDialog-faq-column"><h4 class="premiumInfoDialog-faq-question">We are a team that wants Premium, should everyone sign up individually?</h4><p class="premiumInfoDialog-faq-answer">If you are a team, only one of you should sign up for premium and then invite the others.\n The person signing up will pay for the entire team.</p><h4 class="premiumInfoDialog-faq-question">Can I enable Premium for only some of my boards?</h4><p class="premiumInfoDialog-faq-answer">Yes. You can select which boards that you want to enable the premium features for.\n The other boards can be shared with anyone without a license, just like in the free version.</p></div></div><hr class="premiumInfoDialog-faq-divider"><p class="premiumInfoDialog-questions"><strong>Other questions?</strong> Mail to <strong><a href="mailto:sales@kanbanflow.com">sales@kanbanflow.com</a></strong></p></div>'),t.join("")}},PYZbBHzT0Z:function(e,t){e.exports=function(){return!1}},PnXa42nM0t:function(e,t){e.exports=function(e){return function(t){return e(t)}}},PyPloSQITp:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskTimeLog"},[n("sub-view-header",{attrs:{title:"Time log"}},[n("div",{staticClass:"taskTimeLog-toolbar"},[e.readOnly?e._e():n("button",{ref:"add",staticClass:"taskTimeLog-toolbarButton icons--button",on:{click:e.addEntryClick}},[n("i",{staticClass:"taskTimeLog-toolbarIcon icons-plus icons-darkGray"}),e._v("\n                Add entry\n            ")]),e._v(" "),e.isPremium&&e.dateGroups.length?n("button",{staticClass:"taskTimeLog-export taskTimeLog-toolbarButton icons--button",on:{click:e.exportToExcel}},[n("i",{staticClass:"taskTimeLog-toolbarIcon icons-export icons-gray"}),e._v("\n                Export\n            ")]):e._e()])]),e._v(" "),e.loading?n("div",{staticClass:"taskTimeLog-loading loading loading--noText"},[n("div",{staticClass:"loadingSpinner loadingSpinner--semiTransparent"})]):[e.dateGroups.length?n("div",{class:e.dateGroupListClasses},e._l(e.dateGroups,function(t){return n("div",{staticClass:"taskTimeLog-dateGroup"},[n("div",{staticClass:"taskTimeLog-dateGroupHeader"},[n("h3",{staticClass:"taskTimeLog-dateGroupTitle"},[e._v("\n                        "+e._s(t.dateText)+"\n                    ")]),e._v(" "),n("span",{staticClass:"taskTimeLog-dateGroupDuration"},[e._v("\n                        "+e._s(t.totalDurationText)+"\n                    ")])]),e._v(" "),e._l(t.entries,function(t){return n("div",{key:t.itemId,ref:t.itemId,refInFor:!0,staticClass:"taskTimeLog-item",on:{click:function(n){e.itemClick(t)}}},[n("div",{staticClass:"taskTimeLog-itemAvatarWrapper"},[n("img",{class:e.avatarClasses,attrs:{src:t.userAvatarImageUrl}})]),e._v(" "),n("span",{staticClass:"taskTimeLog-itemUserName truncate",attrs:{title:t.userFullName}},[e._v("\n                        "+e._s(t.userFullName)+"\n                    ")]),e._v(" "),n("span",{staticClass:"taskTimeLog-itemDuration"},[e._v(e._s(t.durationText))]),e._v(" "),n("span",{staticClass:"taskTimeLog-itemTimespan"},[e._v(e._s(t.from)+" - "+e._s(t.to))]),e._v(" "),n("div",{staticClass:"taskTimeLog-entryTypeWrapper"},[n("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.getTooltiHtmlForEntry(t),expression:"getTooltiHtmlForEntry(entry)"}],class:e.getEntryTypeClasses(t),on:{click:function(e){e.stopPropagation()}}})]),e._v(" "),n("div",{staticClass:"taskTimeLog-itemMoreWrapper"},[e.readOnly?e._e():n("i",{staticClass:"taskTimeLog-itemMore icons-more icons-gray",on:{click:function(n){n.stopPropagation(),e.itemMoreClick(t,n)}}}),e._v(" "),t.itemId===e.menuItemId?n("kf-menu",{attrs:{position:e.getItemMenuPosition()},on:{close:e.hideMenu}},[n("item",{attrs:{text:"Edit",iconClass:"menu-icon-edit"},on:{click:e.onMenuEdit}}),e._v(" "),n("item",{attrs:{text:"Delete",iconClass:"menu-icon-delete"},on:{click:function(n){e.onMenuDelete(t)}}})],1):e._e()],1)])})],2)})):e._e(),e._v(" "),e.timeSpentDiffText?n("div",{staticClass:"taskTimeLog-totalTimeSpentExplanation"},[n("strong",[e._v("Note:")]),e._v("\n            A "),n("em",{attrs:{"t-id":"taskTimeLog-totalTimeSpentDifference"}},[e._v(e._s(e.timeSpentDiffText))]),e._v("\n            adjustment has been made directly via the "),n("strong",[e._v("Time spent")]),e._v(" field\n        ")]):e._e(),e._v(" "),e.addManualTimeEntryVisible?n("add-manual-time-entry",{attrs:{position:e.getAddEntryDialogPosition()},on:{close:e.addManualTimeEntryClose}}):e._e()]],2)},staticRenderFns:[]}},PyvLK45y8a:function(e,t,n){"use strict";var a=n("+TczBPWG2Q");n("natLtIr/Gc"),n("ByTcWmGYN+"),n("GbcutZx8hN"),e.exports={props:["appendTo","position","columns","swimlanes","taskToMove"],data:function(){return{taskName:this.taskToMove.name,taskNameFocus:!0,columnId:this.taskToMove.columnId,swimlaneId:this.taskToMove.swimlaneId}},computed:{columnOptions:function(){return this.columns.map(function(e){return{value:e.uniqueId,text:e.name}})},swimlaneOptions:function(){return this.swimlanes.map(function(e){return{value:e.uniqueId,text:e.name}})},hasSwimlanes:function(){return this.swimlanes.length>1}},watch:{taskName:function(e){this.$emit("changeTaskName",e)}},methods:{onTaskNameFocus:function(){this.taskNameFocus=!0},onTaskNameBlur:function(){this.taskNameFocus=!1},close:function(){this.$emit("close")},columnChange:function(e){this.columnId=e},swimlaneChange:function(e){this.swimlaneId=e},makeCopy:function(){this.$emit("copy",{taskName:this.taskName,columnId:this.columnId,swimlaneId:this.swimlaneId})}},components:{"label-select":a}}},Q8mw2gjaKr:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("hHlQBZdXtr");e.exports=function(e){var t=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,o,r=t.dispatch,l=t.commit,u=t.getters,c=n.position,d=n.onClose,m=void 0===d?function(){}:d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e){e.length&&l("SET_VISIBLE",!0),l("SET_TRANSIENT_LABELS",i(e))},s.on("change",a),s.once("close",function(e){e.length&&l("SET_VISIBLE",!0),l("SET_DIALOG_VISIBLE",!1),r("updateLabels",e),s.off("change",a),m()}),o=i(u.task.labels),s.show(o,{appendTo:".appendWrapper",position:c}),l("SET_DIALOG_VISIBLE",!0);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a=t.dispatch,i=t.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i("SET_TRANSIENT_LABELS",null),e.next=3,a("updateTask",{labels:n},{root:!0});case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,o=t.dispatch,r=t.getters,s=n.index,l=n.pinned;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i(r.task.labels),a[s].pinned=l,e.next=4,o("updateTask",{labels:a},{root:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,o=t.dispatch,r=t.getters;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=i(r.task.labels)).splice(n,1),e.next=4,o("updateTask",{labels:a},{root:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),s=e.taskLabelsDialog;return{namespaced:!0,state:{visible:!1,transientLabels:null,dialogVisible:!1},getters:{task:function(e,t,n){return n.task},visibleLabels:function(e,t){return e.transientLabels?e.transientLabels:t.task.labels}},mutations:{SET_VISIBLE:function(e,t){e.visible=t},SET_TRANSIENT_LABELS:function(e,t){e.transientLabels=t},SET_DIALOG_VISIBLE:function(e,t){e.dialogVisible=t}},actions:{showLabelsDialog:t,updateLabels:n,setLabelPinnedAtIndex:o,deleteLabelAtIndex:r,updateVisibility:function(e){var t=e.commit;e.getters.visibleLabels.length&&t("SET_VISIBLE",!0)}}}}},QFEgsXpyaj:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e.exports=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=t(e[i]);Array.isArray(o)?n.push.apply(n,a(o)):n.push(o)}return n}},QIo6QdJuVq:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-property"},[t("label",{staticClass:"taskDetails-propertyLabel"},[this._v("Labels")]),this._v(" "),t("div",{staticClass:"taskDetails-propertyValue"},[t("label-list")],1)])},staticRenderFns:[]}},QJnCDK7oGm:function(e,t,n){"use strict";var a=n("PSVRk/lVcm"),i=n("ksiZ/Wws4x"),o=3e4;e.exports=function(e){function t(e){l(e.taskId)}function n(e){u(e.taskId),r()}function r(){k?f.length?k.changeTarget(f[0].dueTime):k.clearTimeout():f.length&&(k=a(f[0].dueTime,c))}function s(e){var t=e.taskId;u(t),l(t)}function l(e){d(m.getTaskById(e)),r()}function u(e){for(var t=0;t<f.length;t++)f[t].taskId===e&&(f.splice(t,1),t--)}function c(){var e=Date.now(),t=f.filter(function(t){return e>=t.dueTime});t.length&&(f.splice(0,t.length),t.forEach(function(e){(function(e){var t=e.columnId,n=e.swimlaneId,a=v.filter(function(e){return e.columnId===t&&i(e.swimlaneId,n)}).map(function(e){return e.callback});return[].concat(h,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))})(m.getTaskById(e.taskId)).forEach(function(t){return t({taskId:e.taskId})})}),r())}function d(e){e.dates.forEach(function(t){(function(e){return"active"===e.status&&function(e){return!!p.getColumnById(e)}(e.targetColumnId)&&Date.now()<Date.parse(e.dueTimestamp)+o})(t)&&function(e,t){var n={taskId:e._id,columnId:e.columnId,swimlaneId:e.swimlaneId,dueTime:Date.parse(t.dueTimestamp)};f.push(n),f.sort(function(e,t){return e.dueTime-t.dueTime})}(e,t)})}var m=e.taskRepository,p=e.boardColumnRepository,f=[],h=[],v=[],k=void 0;return{init:function(){m.getAllLocalTasks().forEach(d),r(),m.on("merge localMerge",s),m.on("delete localDelete",n),m.on("save localSave",t)},destroy:function(){k&&k.clearTimeout(),m.off("merge localMerge",s),m.off("delete localDelete",n),m.off("save localSave",t)},on:function(e,t){if("overdue"!==e)throw new Error("Invalid event name: "+e);h.push(t)},off:function(e,t){if("overdue"!==e)throw new Error("Invalid event name: "+e);var n=h.indexOf(t);n>=0&&h.splice(n,1)},onCell:function(e,t,n){if("overdue"!==t)throw new Error("Invalid event name: "+t);v.push({columnId:e.columnId,swimlaneId:e.swimlaneId,callback:n})}}}},QLbyXdnFI6:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}e.exports=function(){return{namespaced:!0,state:{addVisible:!1,editVisible:!1},getters:{task:function(e,t,n){return n.task}},mutations:{SET_ADD_VISIBLE:function(e,t){e.addVisible=t},SET_EDIT_VISIBLE:function(e,t){e.editVisible=t}},actions:{showAddOrEdit:function(e){var t=e.commit;e.getters.task.totalSecondsEstimate?t("SET_EDIT_VISIBLE",!0):t("SET_ADD_VISIBLE",!0)},updateTimeEstimate:function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("updateTask",{totalSecondsEstimate:n},{root:!0});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),deleteTimeEstimate:function(){var e=a(regeneratorRuntime.mark(function e(t){var n=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("updateTask",{totalSecondsEstimate:0},{root:!0});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}}},QND5zXxSjt:function(e,t,n){"use strict";var a=n("R6wa7XS/Su"),i=n("BBRimJTtLK"),o=n("hHlQBZdXtr");e.exports=function(e){function t(e){r.off("close",t);var a=function(e){var t=s.getTaskById(l),a={},i=e.filter(function(e){return e.userId}),r=i.find(function(e){return"Responsible"===e.role});r&&r.userId!==t.responsibleUserId?a.responsibleUserId=r.userId:!r&&t.responsibleUserId&&(a.responsibleUserId=null);var u=i.filter(function(e){return"Responsible"!==e.role}).map(function(e){return{userId:e.userId}});n(u,t.collaborators)||(a.collaborators=u);var c=e.filter(function(e){return e.boardInvitationId||e.organizationInvitationId}).map(function(e){return o(e)});return n(c,t.members)||(a.members=c),a}(e);i(a)||s.mergeTask({taskId:l,taskData:a,masterEvent:"taskMembersEditedFromContextMenu"}),l=null}function n(e,t){return e.length===t.length&&e.every(function(e){return t.some(function(t){return a(e,t)})})}var r=e.taskMembersDialog,s=e.taskRepository,l=void 0;return{showForTask:function(e,n){l=e._id,r.on("close",t),r.showForTask(e,n)}}}},QW9J5IqaQ8:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("qh3WTG8nsd"),n("UFwdkgl4a4"),!1,null,null,null);e.exports=a.exports},QjfnQW0X1l:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n("2JJlSkUcHj")),r=n("CFxTPrnk5X"),s=(a(n("heLhFGELzy")),function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"destroy",value:function(){return this}},{key:"applySearchResult",value:function(e){throw new Error("Not implemented.")}},{key:"getCursorOffset",value:function(){throw new Error("Not implemented.")}},{key:"getBeforeCursor",value:function(){throw new Error("Not implemented.")}},{key:"emitMoveEvent",value:function(e){var t=(0,r.createCustomEvent)("move",{cancelable:!0,detail:{code:e}});return this.emit("move",t),t}},{key:"emitEnterEvent",value:function(){var e=(0,r.createCustomEvent)("enter",{cancelable:!0});return this.emit("enter",e),e}},{key:"emitChangeEvent",value:function(){var e=(0,r.createCustomEvent)("change",{detail:{beforeCursor:this.getBeforeCursor()}});return this.emit("change",e),e}},{key:"emitEscEvent",value:function(){var e=(0,r.createCustomEvent)("esc",{cancelable:!0});return this.emit("esc",e),e}},{key:"getCode",value:function(e){return 9===e.keyCode?"ENTER":13===e.keyCode?"ENTER":27===e.keyCode?"ESC":38===e.keyCode?"UP":40===e.keyCode?"DOWN":78===e.keyCode&&e.ctrlKey?"DOWN":80===e.keyCode&&e.ctrlKey?"UP":"OTHER"}}]),t}());t.default=s},QzBtks7hgf:function(e,t,n){"use strict";var a=n("8iHB64F76s"),i=n("EWUDtfBmmZ"),o="WorkTimerSession:WorkEntry";e.exports=function(e){function t(){d.savedTimestamp=(new Date).toISOString(),l.set(o,d)}function n(e){return JSON.parse(JSON.stringify(e))}var r=e.userId,s=e.taskRepository,l=e.boardStorage,u={},c=i(["taskUpdated"]),d=void 0;return(d=l.get(o)||{}).clientId||(d.clientId=r+"-"+Date.now(),t()),{on:c.on,off:c.off,getClientId:function(){return d.clientId},getSavedWorkEntryInfoOrNull:function(){if(d.workEntryDoc){var e=n(d.workEntryDoc);return{workEntry:new a(e),savedTimestamp:d.savedTimestamp,isUnsaved:d.isUnsaved}}return null},clearWorkEntry:function(){var e=new Set(Object.keys(u));d.workEntryDoc&&new a(d.workEntryDoc).getUniqueTaskIds().forEach(function(t){e.add(t)});var n=d.clientId;d={clientId:n},t(),u={},e.forEach(function(e){s.getTaskById(e)&&c.emit("taskUpdated",{taskId:e,totalSecondsAdded:0})})},updateWorkEntry:function(e){var a=e.getUniqueTaskIds();Object.keys(u).forEach(function(e){a.indexOf(e)<0&&a.push(e)}),a.forEach(function(t){if(s.getTaskById(t)){var n=u[t],a=e.getAddedSecondsSpentForTask(t);n!==a&&(u[t]=a,c.emit("taskUpdated",{taskId:t,totalSecondsAdded:a}))}}),d.workEntryDoc=n(e),t()},getTotalSecondsAddedForTask:function(e){var t=d.workEntryDoc;return t?new a(t).getAddedSecondsSpentForTask(e):0},storeWorkEntryAsUnsaved:function(e){d.workEntryDoc=n(e),d.isUnsaved=!0,t()}}}},R0XELYJTi9:function(e,t,n){var a=n("UuxzYNRyeK");e.exports=function(e){var t=[],n=e||{};return function(e,n){t.push('<div class="printTaskDialog"><div class="fullScreenDialog-header"><div class="fullScreenDialog-toolbar-left"><button class="fullScreenDialog-toolbar-button printTaskDialog-printButton icons-print icons-gray">Print now</button></div><h2 class="fullScreenDialog-title">Print preview</h2><button class="fullScreenDialog-close icons-close icons-gray"></button></div><div class="printTaskDialog-content"><form id="printTaskDialog-form" method="POST" target="printTaskDialog-iframe"'+a.attr("action","/board/"+e+"/print-task",!0,!0)+' style="display: none"><input type="hidden" name="dto"'+a.attr("value",n,!0,!0)+'></form><iframe id="printTaskDialog-iframe" name="printTaskDialog-iframe" src="about:blank" class="printTaskDialog-iframe"></iframe></div></div>')}.call(this,"boardId"in n?n.boardId:"undefined"!=typeof boardId?boardId:void 0,"dto"in n?n.dto:"undefined"!=typeof dto?dto:void 0),t.join("")}},R1FhLCGtAg:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n("ccx+bsW+DT")),r=a(n("QjfnQW0X1l")),s=n("CFxTPrnk5X"),l=(a(n("heLhFGELzy")),n("G8a1m6+HMg")),u=["onInput","onKeydown"],c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.el=e,u.forEach(function(e){n[e]=n[e].bind(n)}),n.startListening(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"destroy",value:function(){return function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.stopListening(),this.el=null,this}},{key:"applySearchResult",value:function(e){var t=this.getBeforeCursor();if(null!=t){var n=e.replace(t,this.getAfterCursor());this.el.focus(),Array.isArray(n)&&((0,o.default)(this.el,n[0],n[1]),this.el.dispatchEvent(new Event("input")))}}},{key:"getCursorOffset",value:function(){var e=(0,s.calculateElementOffset)(this.el),t=this.getElScroll(),n=this.getCursorPosition(),a=(0,s.getLineHeightPx)(this.el),i=e.top-t.top+n.top+a,o=e.left-t.left+n.left;return"rtl"!==this.el.dir?{top:i,left:o,lineHeight:a}:{top:i,right:document.documentElement?document.documentElement.clientWidth-o:0,lineHeight:a}}},{key:"getBeforeCursor",value:function(){return this.el.selectionStart!==this.el.selectionEnd?null:this.el.value.substring(0,this.el.selectionEnd)}},{key:"getAfterCursor",value:function(){return this.el.value.substring(this.el.selectionEnd)}},{key:"getElScroll",value:function(){return{top:this.el.scrollTop,left:this.el.scrollLeft}}},{key:"getCursorPosition",value:function(){return l(this.el,this.el.selectionEnd)}},{key:"onInput",value:function(){this.emitChangeEvent()}},{key:"onKeydown",value:function(e){var t=this.getCode(e),n=void 0;"UP"===t||"DOWN"===t?n=this.emitMoveEvent(t):"ENTER"===t?n=this.emitEnterEvent():"ESC"===t&&(n=this.emitEscEvent()),n&&n.defaultPrevented&&e.preventDefault()}},{key:"startListening",value:function(){this.el.addEventListener("input",this.onInput),this.el.addEventListener("keydown",this.onKeydown)}},{key:"stopListening",value:function(){this.el.removeEventListener("input",this.onInput),this.el.removeEventListener("keydown",this.onKeydown)}}]),t}();t.default=c},R2LgDlrhJw:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{dimOverlay:!0,title:"Add limit",elementId:"editSwimlane-addTaskLimit",elementClass:"adminBox-popover adminBox-settingSimplePopover"},on:{closed:e.close}},[n("div",{staticClass:"adminBox-settingSimplePopoverContent"},[n("div",{staticClass:"adminBox-formGroup"},[n("label",[n("span",{staticClass:"adminBox-label"},[e._v("Column")]),e._v(" "),n("select",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse"},{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"adminBox-select adminBox-inputStretch",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedValue=t.target.multiple?n:n[0]}}},e._l(e.options,function(t){return n("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])}))])]),e._v(" "),n("div",{staticClass:"adminBox-formGroup"},[n("label",[n("span",{staticClass:"adminBox-label"},[e._v("Limit")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.taskLimit,expression:"taskLimit",modifiers:{trim:!0,number:!0}}],staticClass:"adminBox-numberInput adminBox-inputStretch",attrs:{type:"number",min:"0",step:"1",placeholder:"No limit"},domProps:{value:e.taskLimit},on:{input:function(t){t.target.composing||(e.taskLimit=e._n(t.target.value.trim()))},blur:function(t){e.$forceUpdate()}}})])])]),e._v(" "),n("div",{staticClass:"adminBox-buttonGroup adminBox-buttonGroup--right"},[n("button",{staticClass:"button",on:{click:e.close}},[e._v("\n            Cancel\n        ")]),e._v(" "),n("button",{staticClass:"button button--success",on:{click:e.addClick}},[e._v("\n            Add\n        ")])])])},staticRenderFns:[]}},R3QejrDoNb:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("JyTVzAwaCE"),o=n("DhGYfXPVo+"),r=n("kj8cmbOvsR"),s=n("EWUDtfBmmZ"),l=n("uQLY/krZqb");e.exports=function(e){function t(e){m.open(e)}var n=e.taskRepository,u=r({taskLabelRepository:e.taskLabelRepository}),c=l({copyTaskController:e.copyTaskController,taskCopyNotifier:e.taskCopyNotifier,columns:e.boardColumnRepository.getAll(),swimlanes:e.swimlanes,taskRepository:n}),d=a({taskLabelsDialog:u,copyTaskDialog:c},e),m=i(d),p=o(d),f=s(["saveAndCloseCompleted","saveAndAddMoreCompleted"]);return p.on("openTaskDetails",t),p.on("save",function(e){var t=e.taskId,a=n.getTaskById(t);f.emit("saveAndCloseCompleted",{task:a,taskMode:"new"})}),{on:f.on,openEditTask:t,openEditTaskShowingComments:function(e){m.open(e,{focusSection:"comments"})},openEditTaskShowingAttachments:function(e){m.open(e,{focusSection:"files"})},openEditTaskShowingRelations:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.showBoardView,a=t.focusTaskId;m.open(e,{focusSection:"relations",sectionOptions:{showBoardView:n,focusTaskId:a}})},openNewTask:function(e){p.open(e)},isOpen:function(){return m.isOpen()||p.isOpen()},waitUntilClosedIfClosing:function(){return m.waitUntilClosedIfClosing()},center:function(){},getOpenTaskId:function(){return m.getOpenTaskId()},isPageReloadOkay:function(){return m.isPageReloadOkay()&&p.isPageReloadOkay()}}}},R62eDX75PD:function(e,t,n){var a=n("LIpyplBEl9"),i=n("LN6cGD0Ow+"),o=n("A+grE0WUWC"),r=n("u9vI3PmOia");e.exports=function(e,t,n){if(!r(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&a(n[t],e)}},"R6wa7XS/Su":function(e,t,n){var a=n("iKxpcCgwc6");e.exports=function(e,t){return a(e,t)}},R9zOpUcM5X:function(e,t,n){"use strict";e.exports=function(e){return function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=n[n.length-1];if("function"!=typeof i)return e.apply(void 0,n);var o=i,r=n.slice(0,-1);e.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)).then(function(e){o(null,e)},function(e){o(e)})}}},"RHdP5CG4J+":function(e,t,n){"use strict";var a=n("vhSLfuH2A2");e.exports={props:["appendTo","position","taskLabelInput","initialLabels"],methods:{close:function(){this.$emit("close")},labelsChange:function(e){this.$emit("labelsChange",e)},tryAddUncommitedLabels:function(){this.taskLabelInput.tryAddUncommitedLabel()},tryAddUncommitedLabelsAndClose:function(){this.taskLabelInput.tryAddUncommitedLabel(),this.taskLabelInput.getUncommitedValue()||this.close()}},mounted:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.taskLabelInput.setFocus(!0);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),components:{"task-labels-input":a}}},RM0YEN6TSo:function(e,t,n){var a=n("+d9A1oo0vN");e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=a(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},RNTjqqpIZk:function(e,t,n){"use strict";function a(e,t,n){for(var a=n(e);a.length;){if(a.is(t))return a;a=n(a)}return a}function i(e,t){return a(e,t,function(e){return e.next()})}var o=n("lRwfdXqfkY"),r=n("0iPhQ5GI5H"),s=n("Ywd4cJJEO/"),l=n("dDmgsXwKEp"),u=n("Gh3TGTRxcI"),c=".task-groupLabel, input, select, textarea, button",d=void 0,m=void 0,p=void 0;o.component("task-list-sortable",{props:["hasSwimlanes","selectedTaskIds"],render:function(){return this.$slots.default[0]},data:function(){return{lastClientX:null,lastClientY:null}},computed:{hasSelectedTasks:function(){return this.selectedTaskIds.length>0}},methods:{updateOverflowOffsetOnScroll:function(e){var t=this,n=e.data("sortableItem").containers.map(function(e){return e.element});p=s(function(){var a=function(e,t){return n.find(function(n){var a=n[0].getBoundingClientRect(),i=a.top,o=a.left,r=a.bottom,s=a.right;if(o<=e&&e<=s&&i<=t&&t<=r)return n})}(t.lastClientX,t.lastClientY),i=e.data("sortableItem"),o=i.currentContainer.element;a&&a!==o&&o.sortable("refresh"),i.overflowOffset=i.scrollParent.offset()},300,{leading:!1}),d.on("scroll.taskSortable",p)},scrollBoardForDraggable:function(e){m=u.startEdgeScrolling({element:e[0],containerElement:d[0],edgeThreshold:10,scrollY:this.hasSwimlanes})}},watch:{selectedTaskIds:function(){var e=this;this.hasSelectedTasks?r(this.$el).sortable("option",{helper:function(t,n){return function(e,t){var n="Move "+t+" "+(t>1?"tasks":"task"),a=e.width();return r("<div/>",{class:"task-bulkMoveHelper",width:a,height:18,text:n})}(n,e.selectedTaskIds.length)},cancel:".task:not(.task-selected), .task-groupLabel, input, select, textarea, button",opacity:.8,cursorAt:{bottom:10}}):r(this.$el).sortable("option",{helper:"clone",cancel:c,opacity:.5,cursorAt:!1})}},mounted:function(){var e=this,t=void 0,n=void 0,o=void 0,s=r(this.$el),u=!1;d||(d=r("#board-wrapper")),s.sortable({cursor:"pointer",appendTo:document.body,items:".task, .task-groupLabel",cancel:c,opacity:.5,distance:3,delay:125,scroll:!0,forcePlaceholderSize:!0,helper:"clone",placeholder:"task-placeHolder",connectWith:".board-swimlane:not(.swimlane-collapsed) .board-taskListCell:not(.column-collapsed) .taskList",tolerance:"pointer",start:function(a,r){var s=r.item;t=s.parent(),n=i(s,".task"),e.hasSelectedTasks&&((o=s.clone()).css("display","").insertAfter(s),s.closest(".taskList").sortable("refresh"));var l=r.placeholder,c=l.closest(".task-group");c.length&&(c.addClass("task-group--highlighted"),u=!0);var d=l.closest(".taskList"),m=s.data("sortableItem");m.scrollParent=d,m.overflowOffset=d.offset(),e.scrollBoardForDraggable(r.helper),e.hasSwimlanes&&e.updateOverflowOffsetOnScroll(s),e.$emit("start")},stop:function(s,l){e.lastClientX=null,e.lastClientY=null,m&&(m.stop(),m=null),e.hasSwimlanes&&d.off(".taskSortable"),p&&(p.cancel(),p=null),u&&(r(".task-group--highlighted").removeClass("task-group--highlighted"),u=!1),o&&(o.remove(),o=null);var c=l.item,f=a(c,".task",function(e){return e.prev()}).attr("data-taskId"),h=i(c,".task").attr("data-taskId"),v=c.closest(".board-taskListCell").attr("data-columnId"),k=c.closest(".board-swimlane").attr("data-swimlaneId"),g=function(e){var t=e.closest(".task-group");if(t.length&&0===e.prev().length){var n=t.prev(".task-group");if(n.length)return n}return t}(c).attr("data-date");t[0].insertBefore(c[0],n[0]),c.removeAttr("style");var b=e.hasSelectedTasks?e.selectedTaskIds:[c.attr("data-taskId")];e.$emit("stop",{taskIds:b,newPrevTaskId:f,newNextTaskId:h,newColumnId:v,newSwimlaneId:k,newDateGroupString:g})},change:function(e,t){u&&(r(".task-group--highlighted").removeClass("task-group--highlighted"),u=!1);var n=t.placeholder,a=n.closest(".task-group");a.length&&(n.next().hasClass("task-groupLabel")&&a.prev().hasClass("task-group")&&(a=a.prev()),a.addClass("task-group--highlighted"),u=!0)},over:function(e,t){var n=t.placeholder.closest(".taskList");if(n.length){var a=t.item.data("sortableItem");a.scrollParent=n,a.overflowOffset=n.offset(),function(e,t){var n=t[0].lastChild;if(n){var a=r(n),i=void 0;if((i=a.is(".task")?a:a.is(".task-group")?a.children(".task").last():a.is(".task-showMoreWrapper")?a.prev(".task-group").children(".task").last():t.find(".task").last()).length&&i.attr("data-taskId")!==e.item.attr("data-taskId")){var o=i[0].getBoundingClientRect(),s=e.helper[0].getBoundingClientRect();o.bottom<s.top&&e.placeholder[0].getBoundingClientRect().top<o.top&&i.after(e.placeholder)}}}(t,n)}},sort:function(t){e.lastClientX=t.clientX,e.lastClientY=t.clientY}}),l({listElements:[this.$el],itemSelector:".task",normalStartDelay:125}).init()}})},"RQ0LPoqyJ+":function(e,t,n){var a=n("bgO78Ra6Le");e.exports=function(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},RXmT75SstR:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("foQeKsapDE"),n("nd3lPDO0nU"),!1,null,null,null);e.exports=a.exports},RZa6jUTo1A:function(e,t,n){"use strict";var a=n("JXMhLc2pVM"),i=n("EWUDtfBmmZ"),o=n("rEK1kr4M5E");e.exports=function(e){function t(e){var t=r.findIndex(function(t){return t._id===e});t>=0&&(r.splice(t,1),s.emit("localDelete",{boardInvitationId:e}))}var n=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return o.jsonPost({url:"/board-invitation/"+e+"/cancel"})}(n);case 2:t(n);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r=e.invitations,s=i(["localAdd","localDelete"]);return{on:s.on,off:s.off,getAllOrderedByEmail:function(){var e=r.filter(function(e){return!!e.invitedEmail});return a(e,function(e){return e.invitedEmail.toLowerCase()})},getByIdOrNull:function(e){return r.find(function(t){return t._id===e})||null},cancelInvitationById:n,localAdd:function(e){var t=e._id;r.some(function(e){return e._id===t})||(r.push(e),s.emit("localAdd",{boardInvitationId:t}))},localDeleteById:t}}},"S2F9/wSUHv":function(e,t,n){"use strict";function a(e){return"relatesTo"===e?"relates to":"depends on"}function i(e,t,n){return"<strong>"+r(e)+"</strong> "+t+" <strong>"+r(n)+"</strong>"}function o(e){return{fromTaskId:e.newFromTaskId||e.fromTaskId,fromTaskName:e.newFromTaskName||e.fromTaskName,toTaskId:e.newToTaskId||e.toTaskId,toTaskName:e.newToTaskName||e.toTaskName,relationType:e.newRelationType||e.relationType}}var r=n("zCnJNEeu5Z").encode;e.exports={getRelationTypeText:a,getOldRelationText:function(e){var t=a(e.relationType);return e.fromTaskName+" "+t+" "+e.toTaskName},getNewRelationText:function(e){var t=o(e),n=t.fromTaskName,i=t.toTaskName;return n+" "+a(t.relationType)+" "+i},getRelationHtmlForEntry:function(e){var t=a(e.relationType);return e.fromTaskName?i(e.fromTaskName,t,e.taskName):e.toTaskName?i(e.taskName,t,e.toTaskName):""},getOldRelationHtml:function(e){var t=a(e.relationType);return i(e.fromTaskName,t,e.toTaskName)},getNewRelationHtml:function(e){var t=o(e),n=t.fromTaskName,r=t.toTaskName;return i(n,a(t.relationType),r)},getRelatedTaskName:function(e){if("taskRelationChanged"===e.itemType){var t=o(e),n=t.fromTaskId,a=t.fromTaskName,i=t.toTaskName;return n===e.taskId?i:a}return e.fromTaskName||e.toTaskName}}},S8o8xEPyh8:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("P0Byk9kR7w"),n("A3RAZ4DNb3"),!1,null,null,null);e.exports=a.exports},"S9LUgT/mQf":function(e,t,n){"use strict";function a(e,t){var n=o.unwrap(e());return null===n||void 0===n?null:function(e,t){return function(e,t,n){var a=e,o=t;if(!n.showUnits)return i(a)+":"+i(o);if(a+="h",o+="m",n.showFullTime)return a+" "+o;var r=[];return e>0&&r.push(a),e&&t&&r.push(" "),t>0&&r.push(o),r.join("")||"0h"}(Math.floor(e/3600),Math.floor(e%3600/60),t)}(n,t)}function i(e){return e<10?"0"+e:e}var o=n("TS0ILVVaKW");o.bindingHandlers.durationInput={init:function(e,t,n){var a=Object.assign({showUnits:!0,showFullTime:!1},n().durationInputOptions),i=o.mapping.fromJS({rawText:"",hasFocus:!1});i.options=a,o.utils.domData.set(e,"durationInput",i),o.applyBindingAccessorsToNode(e,{textInput:function(){return i.rawText},hasFocus:function(){return i.hasFocus}});var r=i.rawText.subscribe(function(e){var n=function(e){if(null===e||void 0===e)return null;if(""===(e=e.trim()))return 0;"."===e[0]&&(e="0"+e);var t=e.match(/\d+/g);if(!t)return null;if(t.length>2)return null;var n=e.match(/[A-z]+/g),a=e.match(/\d+\s*(hours?|h)/i);a&&(a=a[1]);var i=e.match(/\d+\s*(minutes?|min|m)/i);if(i&&(i=i[1]),n&&!function(e,t,n){return e.every(function(e){return e===t||e===n})}(n,a,i))return null;if(1===t.length&&!a){var o=t[0];i?(t[0]="0",t[1]=o):3===o.length?(t[0]=o[0],t[1]=o.substr(1)):4===o.length&&(t[0]=o.substr(0,2),t[1]=o.substr(2))}var r=t.map(function(e){return parseInt(e,10)}),s=r[0]||0,l=r[1]||0;return/\./.test(e)&&(l=60*parseFloat("0."+l)),3600*s+60*l}(e);t()(n)}),s=i.hasFocus.subscribe(function(n){var a=o.unwrap(t());!e.readOnly&&n&&0===a&&i.rawText("")});o.utils.domNodeDisposal.addDisposeCallback(e,function(){r.dispose(),s.dispose()})},update:function(e,t){var n=o.utils.domData.get(e,"durationInput");if(!n.hasFocus()){var i=a(t,n.options);null!==i&&n.rawText(i)}}}},SFsG77Eoxd:function(e,t,n){"use strict";var a=function(){};e.exports=function(){return{on:a,off:a,init:a,taskClickedWithCtrlOrMeta:a,taskClickedWithShift:a,hasSelection:function(){return!1},getSelectedTaskIdsInOrder:function(){return[]},getSelectedTaskCount:function(){return 0},isTaskSelected:function(){return!1},clearSelection:a,lockSelection:a,unlockSelection:a}}},SIDXpCz29I:function(e,t,n){"use strict";var a=n("lRwfdXqfkY"),i=new Map;a.directive("keydown-outside",{inserted:function(e,t){var n=t.value,a=function(){setTimeout(function(){var t=document.activeElement;!i.has(e)||t&&e.contains(t)||n()})};document.addEventListener("keydown",a),i.set(e,a)},unbind:function(e){var t=i.get(e);t&&(document.removeEventListener("keydown",t),i.delete(e))}})},SJI6FcOvAZ:function(e,t){e.exports=Vuex},"SfCFge+0Bd":function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}},SmleeLhAWw:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("2WowFETCZ9"),n("633X2H1oeT"),!1,null,null,null);e.exports=a.exports},TOAm8qxE4X:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("iJqiE9A3qy"),n("v7QTuV7+j+"),!1,null,null,null);e.exports=a.exports},TkzCCDwnk3:function(e,t,n){"use strict";e.exports=function(){function e(){if(!c&&i.length){d=i.shift(),(c=document.createElement("div")).innerHTML=d.html,c.className=o,(d.clickToClose||s)&&c.addEventListener("click",t),l.appendChild(c),setTimeout(function(){c.className=o+" "+o+"--animate"});var e=d.timeout||r;e>0&&(u=setTimeout(t,e))}}function t(){clearTimeout(u),c.removeEventListener("click",t),c.className=o,c.addEventListener("transitionend",n)}function n(t){t.target===c&&(l.removeChild(c),c=null,d=null,e())}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=[],o=a.baseClass||"growl",r="timeout"in a?a.timeout:2500,s=a.clickToClose||!1,l=a.container||document.body,u=void 0,c=void 0,d=void 0;return{log:function(t,n){if(!(i.length>=10)){var a=d&&d.html===t,o=i.length&&i[i.length-1].html===t;if(!a&&!o){var r=Object.assign({},n,{html:t});i.push(r),e()}}}}}},TlikZI6ml7:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("I1ovlT6tj/"),n("ER/7NAmEl+"),!1,null,null,null);e.exports=a.exports},Tnr5Pavy2y:function(e,t,n){var a=n("p/0cqC9K/5"),i=n("2ibmMR3lBv"),o=n("jXGUYQNitn"),r=n("A8RVBBuxll");e.exports=function(e,t){return a(e)?e:i(e,t)?[e]:o(r(e))}},TpjKOgR3VJ:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},TsDCveOwoX:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("EWUDtfBmmZ");e.exports=function(e){var t=e.taskLabelRepository,n=function(){return!0},o="boolean"==typeof e.positionAbove&&e.positionAbove,r=void 0,s=i.createStandalone(["labelSelected","opened","closed"]);return{initForElement:function(e){(r=a(e)).autocomplete({minLength:2,delay:300,position:o?{my:"left bottom",at:"left top"}:{my:"left top",at:"left bottom"},select:function(e){if(9===e.which)return!1;setTimeout(function(){r.trigger("change"),s.emit("labelSelected")},10)},source:function(e,a){var i=e.term.trim();t.searchRemote(i,function(e,t){if(e)throw e;var i=t.map(function(e){return e.name}).filter(n);a(i)})},open:function(){s.emit("opened",{type:"opened"})},close:function(){s.emit("closed",{type:"closed"})}})},setItemFilter:function(e){n=e||function(){return!0}},on:s.on,ensureClosed:function(){r.autocomplete("close")}}}},TwFXo3XaZ5:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{dimOverlay:!0,title:"Add limit",elementId:"editColumn-addTaskLimit",elementClass:"adminBox-popover adminBox-settingSimplePopover"},on:{closed:e.close}},[n("div",{staticClass:"adminBox-settingSimplePopoverContent"},[n("div",{staticClass:"adminBox-formGroup"},[n("label",[n("span",{staticClass:"adminBox-label"},[e._v("Swimlane")]),e._v(" "),n("select",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse"},{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"adminBox-select adminBox-inputStretch",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedValue=t.target.multiple?n:n[0]}}},e._l(e.options,function(t){return n("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])}))])]),e._v(" "),n("div",{staticClass:"adminBox-formGroup"},[n("label",[n("span",{staticClass:"adminBox-label"},[e._v("Limit")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.taskLimit,expression:"taskLimit",modifiers:{trim:!0,number:!0}}],staticClass:"adminBox-numberInput adminBox-inputStretch",attrs:{type:"number",min:"0",step:"1",placeholder:"No limit"},domProps:{value:e.taskLimit},on:{input:function(t){t.target.composing||(e.taskLimit=e._n(t.target.value.trim()))},blur:function(t){e.$forceUpdate()}}})])])]),e._v(" "),n("div",{staticClass:"adminBox-buttonGroup adminBox-buttonGroup--right"},[n("button",{staticClass:"button",on:{click:e.close}},[e._v("Cancel")]),e._v(" "),n("button",{staticClass:"button button--success",on:{click:e.addClick}},[e._v("Add")])])])},staticRenderFns:[]}},TwIMXyWGr1:function(e,t,n){var a,i;!function(n){function o(e,t,n){void 0===t&&(t=r),t instanceof RegExp&&(n=t,t=r),void 0===n&&(n=new RegExp(""));for(var a=0,i=e.length;a<i;a++)s[e.charAt(a)]&&(e=e.replace(e.charAt(a),s[e.charAt(a)]));return e=e.toLowerCase().replace(n,"").replace(/[\W|_]+/g,t).replace(new RegExp("^"+t+"+"),"").replace(new RegExp(t+"+$"),"")}var r="-",s=o.chars={"":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"SS","":"oe","":"OE","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"a","":"e","":"i","":"o","":"y","":"h","":"w","":"s","":"i","":"y","":"y","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"A","":"E","":"I","":"O","":"Y","":"H","":"W","":"I","":"Y","":"s","":"S","":"i","":"I","":"g","":"G","":"a","":"b","":"v","":"g","":"d","":"e","":"yo","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"e","":"yu","":"ya","":"A","":"B","":"V","":"G","":"D","":"E","":"Yo","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"E","":"Yu","":"Ya","":"Ye","":"I","":"Yi","":"G","":"ye","":"i","":"yi","":"g","":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z","":"a","":"c","":"e","":"l","":"n","":"s","":"z","":"z","":"A","":"C","":"e","":"L","":"N","":"S","":"Z","":"Z","":"a","":"e","":"g","":"i","":"k","":"l","":"n","":"u","":"A","":"E","":"G","":"i","":"k","":"L","":"N","":"u"};void 0!==(i=function(){return o}.apply(t,a=[]))&&(e.exports=i)}()},UFwdkgl4a4:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-color taskDetails-property"},[n("label",{staticClass:"taskDetails-propertyLabel"},[e._v("Color")]),e._v(" "),n("div",{staticClass:"taskDetails-propertyValue"},[n("button",{ref:"selectColorButton",class:e.selectedColorClasses,attrs:{disabled:e.readOnly},on:{click:e.toggleSelectVisible,keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.openSelectFromKeyboard(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault(),e.openSelectFromKeyboard(t)}]}},[n("i",{class:e.iconClasses}),e._v(" "),n("span",{staticClass:"taskDetails-selectedColorText"},[e._v(e._s(e.selectedColorText))])]),e._v(" "),e.editColorVisible?n("color-select",{attrs:{canEdit:e.canEditColors,options:e.enabledColorItems,selectedValue:e.taskColor,position:e.getColorSelectPosition()},on:{select:e.updateColor,rename:e.renameColor,move:e.moveColor,hide:e.hideColorSelect}}):e._e()],1)])},staticRenderFns:[]}},"UG0H9LhPf+":function(e,t,n){"use strict";var a=n("nx/QJ0z51f");e.exports={components:{"label-list":a}}},"UJWvUbq9/n":function(e,t,n){var a=n("WMV82jU969"),i=n("kAdy2KmJBd"),o=n("Jpv1OAiBRi"),r=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:o;e.exports=r},UVj1gkG2j4:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("0iPhQ5GI5H"),o=n("SJI6FcOvAZ"),r=o.mapMutations,s=o.mapActions,l=n("k4au3tkp+Z");n("JOCBxO5V3I"),e.exports={props:["swimlane"],data:function(){return{isResizing:!1}},computed:{headerCellInnerStyle:function(){if(!this.swimlane.collapsed)return{height:this.swimlane.height+"px"}},descriptionTooltipHtml:function(){return"<strong>"+this.swimlane.name+"</strong><br/>"+this.swimlane.description},nameTitle:function(){var e=this.swimlane,t=[e.name];return e.collapsed?t.push("\nClick to expand"):t.push("\nClick to collapse"),t.join("\n")},headerDetails:function(){return{description:this.swimlane.description}}},methods:a({},r({hideSwimlaneHeaderDetails:"HIDE_SWIMLANE_HEADER_DETAILS"}),s(["resizeSwimlane"]),{nameClick:function(e){this.$emit("nameClick",{swimlaneId:this.swimlane.swimlaneId,event:e,headerElement:this.$refs.headerCell})},descriptionIconClick:function(e){this.$emit("descriptionIconClick",{swimlaneId:this.swimlane.swimlaneId,event:e,headerElement:this.$refs.headerCell})},expandIconClick:function(){this.$emit("expandIconClick",this.swimlane.swimlaneId)},closeHeaderDetails:function(){this.hideSwimlaneHeaderDetails(this.swimlane.swimlaneId)}}),mounted:function(){var e=this,t=i(this.$refs.headerCellInner),n=i(this.$refs.resizeHandle),a=i("<div/>"),o=void 0;t.resizable({minHeight:120,minWidth:129,maxWidth:129,handles:{s:n},grid:[20,20],distance:10,start:function(){o=e.swimlane.height,a.css("height",0),i("#board-wrapper").append(a)},stop:function(){a.detach()},resize:function(n,i){if(i.size.width!==i.originalSize.width&&(i.size.width=i.originalSize.width,t.css("width","")),i.size.height<120?(i.size.height=120,t.css("height","120px")):i.size.height>3e3&&(i.size.height=3e3,t.css("height","3000px")),i.originalSize.height>i.size.height){var r=Math.max(0,o-i.size.height);a.css("height",r+"px")}e.$emit("resize",{swimlaneId:e.swimlane.swimlaneId,height:i.size.height})}})},components:{"header-details":l}}},UcDIndQo1w:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("0/YaoHluYk"),n("X1Xzb1FuRg"),!1,null,null,null);e.exports=a.exports},UcHAjbyVoF:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function i(e){v.scrollToShow(e,T(".taskDetails-wrapper"))}function o(e){return e.trim().replace(/\s\s+/gm," ").trim()}function r(e){return!!(e.ctrlKey^e.metaKey)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n("SJI6FcOvAZ"),u=l.mapState,c=l.createNamespacedHelpers("subTasks"),d=c.mapState,m=c.mapGetters,p=c.mapMutations,f=c.mapActions,h=n("vPodq/6mM+"),v=n("Gh3TGTRxcI"),k=n("NKFQkhZ/hO"),g=n("e9xRBbbPG2"),b=n("LID5hgrivl"),T=b.$,y=b.$$,I=b.closest,w=b.matchesSelector,x=n("Ih/X30X6WM"),C=x.isCursorAtEndOfInput,D=x.isCursorAtStartOfInput,S=x.moveCursorToEndOfInput,E=x.moveCursorToStartOfInput,_=x.inputHasSelectionRange,M=n("utzbvpgxGf"),R=n("LbbZjlw+U0"),O=n("ZCYET1W1AF");n("N3+y4Czoja"),n("ByTcWmGYN+"),n("kLhU/b+vnM"),n("EyP3jztVoF"),n("RBbFDbXq7J"),n("SIDXpCz29I");var A={checkbox:".taskDetails-subTaskCheckboxIcon",nameSpan:"span.taskDetails-subTaskName",nameInput:"textarea.taskDetails-subTaskName",moreIcon:".taskDetails-subTaskMore"},N=h();e.exports={data:function(){return{editSubTaskIndex:-1,editSubTaskName:"",menuItemIndex:-1,blockCharacters:"\r\n\t",sectionMenuVisible:!1,addTemplateDialogVisible:!1,manageTemplatesDialogVisible:!1,loadingSubTaskListTemplates:!1}},computed:s({},u(["task","readOnly"]),d(["addSubTaskFocus","subTaskListTemplates","maxSubTaskCount"]),m(["visibleSubTasks","finishedSubTaskCount","totalSubTaskCount"]),{addSubTaskName:{get:function(){return this.$store.state.subTasks.addSubTaskName},set:function(e){this.setAddSubTaskName(e)}},addSubTaskIconVisible:function(){return this.addSubTaskFocus||this.addSubTaskName.length>0},addSubTaskButtonClasses:function(){var e=["taskDetails-addSubTask taskDetails-addIcon icons--button icons-plus icons-plusSubTask"];return this.addSubTaskIconVisible||e.push("taskDetails-addSubTask--hidden"),e},editingSubTask:function(){return this.editSubTaskIndex>=0},subTaskSortableEnabled:function(){return!!N.wasMouseUsedLast()||!this.editingSubTask&&!this.addSubTaskFocus},trimmedAddSubTaskName:function(){return o(this.addSubTaskName)},visibleSubTaskNames:function(){return this.visibleSubTasks.map(function(e){return e.name})},templatesCount:function(){return this.subTaskListTemplates.length>0},sectionMoreMenuIconClasses:function(){var e=["taskDetails-subTasksSectionMore taskDetails-moreIcon icons--button icons-more icons-gray"];return(this.sectionMenuVisible||this.manageTemplatesDialogVisible)&&e.push("taskDetails-moreIcon--menuOpen"),e}}),watch:{editSubTaskName:function(){this.reschedulePersistIfApplicable()},addSubTaskName:function(){this.reschedulePersistIfApplicable()}},methods:s({},p({setAddSubTaskFocus:"SET_ADD_SUBTASK_FOCUS",setAddSubTaskName:"SET_ADD_SUBTASK_NAME"}),f(["addSubTask","renameSubTask","setSubTaskFinished","deleteSubTaskAtIndex","moveSubTask","reschedulePersistIfApplicable","loadSubTaskListTemplates","applySubTaskListTemplate"]),{getEditSubTaskNameInput:function(){return this.$refs.editSubTaskName[0]},addSubTaskInputPaste:function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.addSubTaskName,a=function(e){return e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text")}(t).trim().split("\n").map(function(e){return o(e)}).filter(function(e){return e}),!(this.visibleSubTasks.length+a.length>this.maxSubTaskCount)){e.next=7;break}return e.next=5,k.alert("You cannot have more than "+this.maxSubTaskCount+" subtasks");case 5:return this.setAddSubTaskFocus(!0),e.abrupt("return");case 7:a.length>1?(t.preventDefault(),a.forEach(function(e){i.addSubTask(e)}),this.addSubTaskName=n):setTimeout(function(){i.addSubTaskName=o(i.addSubTaskName)});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getSubTaskSortableOptions:function(){return{draggable:".taskDetails-subTask",group:".taskDetails-subTasks",ghostParent:document.body,scroll:{x:!1,y:!0,speed:20,threshold:30},scrollParent:".taskDetails-wrapper",allowHiddenScrollParentOverflow:!1,delay:220}},onSubTaskDragUpdate:function(e){var t=e.oldIndex,n=e.newIndex;this.moveSubTask({oldIndex:t,newIndex:n})},toggleCheckbox:function(e,t){this.setSubTaskFinished({index:t,finished:!e.finished})},editSubTaskAtIndex:function(e,t){var n=this;t&&"A"===t.target.tagName||(this.editSubTaskName=this.visibleSubTasks[e].name,this.editSubTaskIndex=e,this.$nextTick(function(){n.focusSubTaskElementTypeAtIndex("nameInput",e)}))},sectionMoreMenuIconClick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingSubTaskListTemplates=!0,e.next=3,this.loadSubTaskListTemplates();case 3:if(!this.loadingSubTaskListTemplates){e.next=8;break}return this.loadingSubTaskListTemplates=!1,e.next=7,this.$nextTick();case 7:this.sectionMenuVisible=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),sectionMenuClose:function(){this.loadingSubTaskListTemplates=!1,this.sectionMenuVisible=!1},templateClick:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.visibleSubTasks.length+t.subTaskNames.length>=this.maxSubTaskCount)){e.next=4;break}k.alert("You cannot have more than "+this.maxSubTaskCount+" subtasks"),e.next=9;break;case 4:return e.next=6,this.applySubTaskListTemplate(t);case 6:return e.next=8,this.$nextTick();case 8:i(T("#taskDetails-subTasksSection"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveAsTemplateClick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.visibleSubTasks.length){e.next=6;break}return e.next=3,k.alert("Please add subtasks to save as template");case 3:this.setAddSubTaskFocus(!0),e.next=7;break;case 6:this.addTemplateDialogVisible=!0;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),addTemplateDialogClose:function(){this.addTemplateDialogVisible=!1},manageTemplatesClick:function(){this.manageTemplatesDialogVisible=!0},manageTemplatesClose:function(){this.manageTemplatesDialogVisible=!1},subTaskMoreClick:function(e,t){t.target.blur(),this.menuItemIndex=e},getSubTaskMoreClasses:function(e){var t=["taskDetails-moreIcon taskDetails-subTaskMore icons--button icons-more icons-gray"];return e===this.menuItemIndex&&t.push("taskDetails-moreIcon--menuOpen"),t},hideMenu:function(){this.menuItemIndex=-1},editSubTaskDone:function(){if(!(this.editSubTaskIndex<0)){var e=o(this.editSubTaskName),t=this.editSubTaskIndex;this.visibleSubTasks[t].name!==e&&this.renameSubTask({index:t,name:e}),this.resetEditInput()}},cancelEditSubTask:function(){var e=this,t=this.editSubTaskIndex;this.resetEditInput(),this.$nextTick(function(){e.focusSubTaskElementTypeAtIndex("nameSpan",t)})},editSubTaskEnter:function(){var e=this,t=this.editSubTaskIndex;this.editSubTaskDone(),this.$nextTick(function(){t<e.visibleSubTasks.length?e.focusSubTaskElementTypeAtIndex("nameSpan",t):e.visibleSubTasks.length?e.focusSubTaskElementTypeAtIndex("nameSpan",e.visibleSubTasks.length-1):e.setAddSubTaskFocus(!0)})},focusSubTaskElementTypeAtIndex:function(e,t){var n=this.getListElement().children[t];i(n);var a=A[e];n.querySelector(a).focus()},moveFocusedSubTaskUp:function(){var e=this.getFocusedTypeOrNull(),t=this.getFocusedRowIndexOrNull(),n=t-1;this.editSubTaskDone(),this.moveSubTask({oldIndex:t,newIndex:n}),this.focusSubTaskElementTypeAtIndex(e,n)},moveFocusedSubTaskDown:function(){var e=this.getFocusedTypeOrNull(),t=this.getFocusedRowIndexOrNull(),n=t+1;this.moveSubTask({oldIndex:t,newIndex:n}),this.focusSubTaskElementTypeAtIndex(e,n)},getFocusedTypeOrNull:function(){var e=document.activeElement;if(!e)return null;var t=!0,n=!1,a=void 0;try{for(var i,o=Object.keys(A)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;if(w(e,A[r]))return r}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}},getListElement:function(){return this.$refs.list.$el},getFocusedRowIndexOrNull:function(){var e=document.activeElement;if(!e)return null;var t=I(e,".taskDetails-subTask");return t?Array.from(this.getListElement().children).indexOf(t):null},arrowDown:function(e){this.editingSubTask?this.editingSubTaskArrowDown(e):this.selectingSubTaskArrowDown(e)},arrowUp:function(e){this.editingSubTask?this.editingSubTaskArrowUp(e):this.selectingSubTaskArrowUp(e)},editingSubTaskArrowDown:function(e){var t=this.getFocusedRowIndexOrNull()===this.visibleSubTasks.length-1,n=r(e);if(!n){var a=this.getEditSubTaskNameInput();if(e.shiftKey||_(a))return;if(!C(a))return void S(this.getEditSubTaskNameInput())}t?(this.editSubTaskDone(),this.setAddSubTaskFocus(!0),i(this.$refs.addWrapper)):n?this.moveEditSubTaskDown():this.editNextSubTask()},selectingSubTaskArrowDown:function(e){e.preventDefault();var t=this.getFocusedRowIndexOrNull();if(t===this.visibleSubTasks.length-1)this.setAddSubTaskFocus(!0),i(this.$refs.addWrapper);else if(r(e))this.moveFocusedSubTaskDown();else{var n=this.getFocusedTypeOrNull();this.focusSubTaskElementTypeAtIndex(n,t+1)}},editingSubTaskArrowUp:function(e){var t=this.getEditSubTaskNameInput(),n=this.getFocusedRowIndexOrNull(),a=r(e);if(!a){if(e.shiftKey||_(t))return;if(!D(t))return void E(t)}0===n||(a?this.moveEditSubTaskUp():this.editPreviousSubTask())},selectingSubTaskArrowUp:function(e){e.preventDefault();var t=this.getFocusedRowIndexOrNull(),n=this.getFocusedTypeOrNull();r(e)?this.moveFocusedSubTaskUp():this.focusSubTaskElementTypeAtIndex(n,t-1)},moveEditSubTaskUp:function(){var e=this.editSubTaskIndex,t=this.editSubTaskIndex-1;this.moveEditSubTask({oldIndex:e,newIndex:t})},moveEditSubTaskDown:function(){var e=this.getFocusedRowIndexOrNull(),t=e+1;this.moveEditSubTask({oldIndex:e,newIndex:t})},moveEditSubTask:function(e){var t=e.oldIndex,n=e.newIndex,a=this.editSubTaskName;this.moveSubTask({oldIndex:t,newIndex:n}),this.editSubTaskAtIndex(n),this.editSubTaskName=a},editNextSubTask:function(){var e=this.editSubTaskIndex;this.editSubTaskName?(this.editSubTaskDone(),this.editSubTaskAtIndex(e+1)):(this.editSubTaskDone(),this.editSubTaskAtIndex(e))},editPreviousSubTask:function(){var e=this,t=this.editSubTaskIndex;this.editSubTaskDone(),this.editSubTaskAtIndex(t-1),this.$nextTick(function(){E(e.getEditSubTaskNameInput())})},addInputUpArrowKeydown:function(){var e=this;this.addSubTaskFocus&&!D(this.$refs.addSubTaskName)?event.shiftKey||E(this.$refs.addSubTaskName):(this.setAddSubTaskFocus(!1),this.editSubTaskAtIndex(this.visibleSubTasks.length-1),this.$nextTick(function(){E(e.getEditSubTaskNameInput())}))},addInputDownArrowKeydown:function(e){this.addSubTaskFocus&&!e.shiftKey&&S(this.$refs.addSubTaskName)},addSubTaskDone:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.visibleSubTasks.length>=this.maxSubTaskCount)){e.next=5;break}return e.next=3,k.alert("You cannot have more than "+this.maxSubTaskCount+" subtasks");case 3:return this.setAddSubTaskFocus(!0),e.abrupt("return");case 5:this.trimmedAddSubTaskName&&(this.addSubTask(this.trimmedAddSubTaskName),this.addSubTaskName="",this.setAddSubTaskFocus(!0),this.$nextTick(function(){i(t.$refs.addWrapper)}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),addSubTaskEscape:function(){this.$refs.addSubTaskName.blur()},getSubTaskMenuPosition:function(){return{my:"right top",at:"right bottom+2px",of:y(".taskDetails-subTaskMore")[this.menuItemIndex]}},getSectionMoreIconPosition:function(){return{my:"right top",at:"right bottom+2px",of:T(".taskDetails-subTasksSectionMore")}},onMenuEdit:function(){this.editSubTaskAtIndex(this.menuItemIndex)},onMenuDelete:function(){this.deleteSubTaskAtIndex(this.menuItemIndex)},focusSubTaskAtIndex:function(e){if(this.totalSubTaskCount>0){var t=Math.min(this.totalSubTaskCount-1,e),n=this.getFocusedTypeOrNull()||"nameSpan";this.focusSubTaskElementTypeAtIndex(n,t)}else this.setAddSubTaskFocus(!0)},resetEditInput:function(){this.editSubTaskName="",this.editSubTaskIndex=-1},onEditSubTaskKeydownOutside:function(e){var t=this;return function(){e===t.editSubTaskIndex&&t.editSubTaskDone()}},getSectionMenuTemplateText:function(e){return'Use "'+e.name+'"'},getHtmlForSubTaskName:function(e){return g.createHtmlFromText(e,{enableLinks:!0,linkClass:"taskDetails-subTask-link"})}}),components:{"kf-menu":M,"add-template":R,"manage-templates":O}}},"VBQA8/XUu4":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("ixoWBFSScg"),n("vQWJcRy7Br"),!1,null,null,null);e.exports=a.exports},VF9ScwKnrQ:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("EWUDtfBmmZ"),r=n("rEK1kr4M5E"),s=n("8jRNpOBZhw"),l=20,u=120,c=20,d=60,m=10;e.exports=function(e){function t(){return L.clients.find(function(e){return e.clientId===M})||n()}function n(){var e={clientId:M,userId:E};return D&&(e.isMobile=!0),e}function p(e){return!!function(e){return!!R.getById(e)}(e.userId)&&!x(e)&&(function(e){return e.userId===E}(e)?_.isTaskRunning()?function(e){return e.clientId===P.clientId}(e):C(e)&&f(e):C(e))}function f(e){return"pomodoroRunning"===e.mode||"stopwatchRunning"===e.mode}function h(e,t){return t.some(function(t){return t.clientId===e.clientId&&t.lastUpdatedTimestamp===e.lastUpdatedTimestamp})}function v(e){return(Date.now()-Date.parse(e))/6e4}function k(e){return[P].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(L.clients)).filter(function(t){return t.lastAliveTimestamp&&t.userId===e})}function g(e){return k(e).sort(function(e,t){return t.lastAliveTimestamp.localeCompare(e.lastAliveTimestamp)})[0]}function b(){T(),P.selectedTaskId&&f(P)&&F.emit("taskClientsUpdated",P.selectedTaskId),B.addWork(a(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(),t=i({},P),delete t.lastUpdatedTimestamp,e.next=5,r.jsonPost({url:"/board/"+S+"/timer-state/clients/"+M,data:t,suppressGlobalErrorHandler:!0});case 5:n=e.sent,P.lastUpdatedTimestamp=n.lastUpdatedTimestamp;case 7:case"end":return e.stop()}},e,this)}))),clearTimeout(V),V=setTimeout(function(){(function(){var e=P.mode;if("stopwatchRunning"===e||"pomodoroRunning"===e)return!0;if(P.sessionEndTimestamp){var t=l;return"break"===e&&(t+=P.breakTimeMinutes),v(P.sessionEndTimestamp)<t}return v(H)<l})()&&b()},6e4*m)}function T(){P.lastAliveTimestamp=new Date(A.getLastActivityTime()).toISOString()}function y(){B.addWork(a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.jsonPost({url:"/board/"+S+"/timer-state/clients/"+M+"/delete",suppressGlobalErrorHandler:!0});case 2:case"end":return e.stop()}},e,this)})))}function I(){var e=new Date;return e.setMilliseconds(0),e.toISOString()}function w(){return O.getTimerSettings().workTimeMinutes}function x(e){if(e===P)return!1;if(!e.lastUpdatedTimestamp)return!0;if((Date.now()-Date.parse(e.lastUpdatedTimestamp))/6e4>(e.isMobile?u:l))return!0;if("break"===e.mode||"taskSelected"===e.mode){var t=(Date.now()-Date.parse(e.lastAliveTimestamp))/6e4,n=c;return"break"===e.mode&&(n+=e.breakTimeMinutes),t>n}return!1}function C(e){return e.lastAliveTimestamp===function(e){var t=g(e);if(t)return t.lastAliveTimestamp}(e.userId)}var D=e.isMobile,S=e.boardId,E=e.userId,_=e.workTimerDialog,M=e.timerClientId,R=e.userRepository,O=e.userBoardSettingsRepository,A=e.pointerMode,N=e.workTimerSession,F=o(["taskClientsUpdated"]),L=e.timerState||{clients:[]},P=Object.assign(t(),e._currentClient);L.clients=L.clients.filter(function(e){return e.clientId!==P.clientId});var B=s(),V=void 0,H=void 0;return _.on("taskChanged",function(e){var t=e.newTaskId,n=P.selectedTaskId,a=f(P);P.selectedTaskId=t,_.isTaskRunning()?P.selectedTaskStartTimestamp=I():(P.mode="taskSelected",delete P.selectedTaskStartTimestamp,delete P.sessionStartTimestamp),H=(new Date).toISOString(),n&&a&&F.emit("taskClientsUpdated",n),(P.sessionStartTimestamp||P.sessionEndTimestamp)&&b()}),_.on("modeChanged",function(e){var t=e.newMode;P.selectedTaskId&&"taskSelected"!==P.mode&&("break"===P.mode?P.mode="taskSelected":"stopwatch"===t?(P.mode="stopwatchRunning",delete P.targetWorkTimeMinutes):(P.mode="pomodoroRunning",P.targetWorkTimeMinutes=w()),b())}),_.on("workStarted",function(){var e=N.getSavedWorkEntryInfoOrNull();if(e){var t=e.workEntry;P.sessionStartTimestamp=t.startTimestamp,P.selectedTaskStartTimestamp=t.getStartTimestampForLastTask();var n=(g(E)||P).selectedTaskId;P.selectedTaskId=_.getSelectedTaskId(),"stopwatch"===_.getCurrentMode()?P.mode="stopwatchRunning":(P.mode="pomodoroRunning",P.targetWorkTimeMinutes=w()),delete P.breakTimeMinutes,delete P.sessionEndTimestamp;var a=new Set;n&&a.add(n),k(E).forEach(function(e){e.selectedTaskId&&a.add(e.selectedTaskId)}),a.forEach(function(e){e!==P.selectedTaskId&&F.emit("taskClientsUpdated",e)}),b()}}),_.on("workStopped",function(){var e=_.getSelectedTaskId();if(e){var t=P.selectedTaskId;P.selectedTaskId=e,P.mode="taskSelected",P.sessionEndTimestamp=I(),delete P.selectedTaskStartTimestamp,delete P.sessionStartTimestamp,delete P.targetWorkTimeMinutes,t&&F.emit("taskClientsUpdated",t),t!==P.selectedTaskId&&F.emit("taskClientsUpdated",P.selectedTaskId),b()}else{if(P.selectedTaskId){var a=P.selectedTaskId;P=n(),F.emit("taskClientsUpdated",a)}y()}}),_.on("breakStarted",function(e){var t="short"===e.type,n=O.getTimerSettings(),a=n.shortBreakTimeMinutes,i=n.longBreakTimeMinutes;P.mode="break",P.sessionEndTimestamp=I(),P.breakTimeMinutes=t?a:i,delete P.selectedTaskStartTimestamp,delete P.sessionStartTimestamp,delete P.targetWorkTimeMinutes,b()}),_.on("show",function(){var e=_.getSelectedTaskId();if(e){var t=!1;P.selectedTaskId!==e&&(P.selectedTaskId=e,t=!0),_.isTaskRunning()||"taskSelected"===P.mode||(P.mode="taskSelected",t=!0),t&&b()}}),_.on("hide",function(){_.isTaskRunning()||(clearTimeout(V),function(){var e=P.selectedTaskId;e&&(f(P)&&!_.isTaskRunning()||(P=t(),y(),F.emit("taskClientsUpdated",e)))}());var e=g(E);e&&e.selectedTaskId&&F.emit("taskClientsUpdated",e.selectedTaskId)}),setInterval(function(){var e=new Set,n=L.clients.filter(x);if(L.clients=L.clients.filter(function(e){return!x(e)}),n.filter(function(e){return!!e.selectedTaskId}).forEach(function(t){e.add(t.selectedTaskId)}),e.forEach(function(e){F.emit("taskClientsUpdated",e)}),function(){if(f(P)&&!_.isTaskRunning()){var e=P.lastUpdatedTimestamp;if(e&&(Date.now()-Date.parse(e))/6e4>(P.isMobile?u:l))return!0}return!1}()){var a=P.selectedTaskId;P=t(),F.emit("taskClientsUpdated",a)}},1e3*d),{setState:function(e){var t=new Set,a=L.clients,i=e.clients;if(a.filter(function(e){return function(e,t){if(!e.selectedTaskId)return!1;if(!h(e,t))return!0;var n=e.userId;if(t.some(function(t){return t.userId===n&&t.lastAliveTimestamp>e.lastAliveTimestamp}))return!0;var a=L.clients.filter(function(e){return e.userId===n}).map(function(e){return e.clientId}),i=t.filter(function(e){return e.userId===n}).map(function(e){return e.clientId});return a.some(function(e){return!i.includes(e)})}(e,i)}).forEach(function(e){t.add(e.selectedTaskId)}),i.filter(function(e){return function(e,t){return!!e.selectedTaskId&&(e.userId===P.userId?f(e)&&!f(P):!h(e,t))}(e,a)}).forEach(function(e){t.add(e.selectedTaskId)}),!_.isTaskRunning()){var o=i.find(function(e){return e.clientId===P.clientId});o&&f(o)?P=o:f(P)&&(P.selectedTaskId&&t.add(P.selectedTaskId),P=n())}L.clients=i.filter(function(e){return e.clientId!==P.clientId});var r=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var d=u.value;F.emit("taskClientsUpdated",d)}}catch(e){s=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw l}}},getValidTaskClients:function(e){return function(e){var t=L.clients.filter(function(t){return t.selectedTaskId===e});return P.selectedTaskId===e&&t.push(P),t}(e).filter(p).map(function(e){return{userId:e.userId,mode:e.mode,targetWorkTimeMinutes:e.targetWorkTimeMinutes,breakTimeMinutes:e.breakTimeMinutes,selectedTaskStartTimestamp:e.selectedTaskStartTimestamp,sessionStartTimestamp:e.sessionStartTimestamp,sessionEndTimestamp:e.sessionEndTimestamp}})},on:F.on,off:F.off}}},VMYNC16Q0W:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("MgOMVvGlQg"),n("wBxSy59NmS"),!1,null,null,null);e.exports=a.exports},VUBFm7NeLx:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("1ik1xQFimA"),n("HjF1U9IMn3"),!1,null,null,null);e.exports=a.exports},VUy0pw8dEn:function(e,t,n){"use strict";e.exports.getNumberTextOrNull=function(e){var t=e.number;return t?t.prefix?t.prefix+t.value.toString():t.value.toString():null}},"VcL+WasjrP":function(e,t,n){var a=n("r8MYFB4F4U"),i=n("3til+no9ro"),o=n("p/0cqC9K/5"),r=n("iyC2nzhlfj"),s=n("A+grE0WUWC"),l=n("kwIbleHrEJ"),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&r(e),m=!n&&!c&&!d&&l(e),p=n||c||d||m,f=p?a(e.length,String):[],h=f.length;for(var v in e)!t&&!u.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||m&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,h))||f.push(v);return f}},VhgkeK5OIn:function(e,t,n){var a=n("srROM87tjO"),i=n("p/0cqC9K/5");e.exports=function(e,t,n){var o=t(e);return i(e)?o:a(o,n(e))}},VmtaGW84r2:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("rEK1kr4M5E"),o=n("EWUDtfBmmZ"),r=n("MoDmcdZcO4");e.exports=function(e){function t(){return d.filter(function(e){return e.enabled})}function n(e){!function(e){var t=d.find(function(t){return t.value===e.value});Object.assign(t,e),s()}(e),m.emit("change")}function s(){d.sort(function(e,t){return e.sortOrder-t.sortOrder})}var l=function(){var e=a(regeneratorRuntime.mark(function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),e.next=3,i.jsonPost({url:"/administration/board/"+c+"/colors/update-settings/"+t.value,data:function(e){var t={};return"showName"in e&&(t.showName=e.showName),"sortOrder"in e&&(t.sortOrder=e.sortOrder),"description"in e&&(t.description=e.description),t}(t),suppressGlobalErrorHandler:!!a.suppressGlobalErrorHandler});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark(function e(n,a){var i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t(),!((o=i.findIndex(function(e){return e.value===n}))<0)){e.next=4;break}throw new Error("Color "+n+" is not enabled");case 4:return s=r.generateForMove({items:i,moveFromIndex:o,moveToIndex:a}),e.next=7,l({value:n,sortOrder:s});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),c=e.boardId,d=e.colors.slice().sort(function(e,t){return e.sortOrder-t.sortOrder}),m=o(["change"]);return{on:m.on,off:m.off,getAllColors:function(){return d.slice()},getEnabledColors:t,getColorIndexByValue:function(e){var t=d.findIndex(function(t){return t.value===e});if(-1===t)throw new Error("Invalid color value:"+e);return t},getDefaultColor:function(){return d.find(function(e){return e.isDefault})},getColorByValue:function(e){return d.find(function(t){return t.value===e})},updateColor:l,moveEnabledColorToIndex:u,localUpdateColor:n,localEnableColor:function(e){var t=d.find(function(t){return t.value===e.value});t?t.enabled=!0:(d.push(e),s()),m.emit("change")},localDisableColor:function(e){d.find(function(t){return t.value===e}).enabled=!1,m.emit("change")}}}},VnFKtsC1ap:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("rEK1kr4M5E"),o=n("EWUDtfBmmZ"),r=n("R9zOpUcM5X");e.exports=function(e){function t(e){return new Promise(function(t){setTimeout(t,e)})}var n=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return t.getUniqueTaskIds().forEach(function(e){var n=d.getTaskById(e);if(n){var a=(n.totalSecondsSpent||0)+t.getAddedSecondsSpentForTask(e);d.localMergeTask({taskId:e,taskData:{totalSecondsSpent:a}})}}),m.emit("workEntrySaved"),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a=t.originalWorkEntry,i=t.updatedWorkEntry;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(i);case 2:return(n=function(e,t){var n=new Set(e.getUniqueTaskIds(),t.getUniqueTaskIds());return Array.from(n)}(a,i)).forEach(function(e){var t=d.getTaskById(e);if(t){var n=a.getAddedSecondsSpentForTask(e),o=i.getAddedSecondsSpentForTask(e);if(n===o)return;var r=o-n;d.localMergeTask({taskId:e,taskData:{totalSecondsSpent:t.totalSecondsSpent+r}})}}),m.emit("workEntryUpdated"),e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.jsonPost({url:"/work-entry/"+t._id+"/delete-entry-and-update-tasks"});case 2:t.getUniqueTaskIds().forEach(function(e){var n=d.getTaskById(e);if(n&&n.totalSecondsSpent){var a=n.totalSecondsSpent-t.getAddedSecondsSpentForTask(e);a<0&&(a=0),d.localMergeTask({taskId:e,taskData:{totalSecondsSpent:a}})}}),m.emit("workEntryDeleted");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark(function e(n){var a,o,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.toDoc?n.toDoc():n,o="/work-entry/save-finished-entry-and-update-tasks",e.prev=2,e.next=5,i.jsonPost({url:o,data:a,suppressGlobalErrorHandler:!0});case 5:r=e.sent,n._id=r.workEntryId,e.next=17;break;case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,t(1e3);case 13:return e.next=15,i.jsonPost({url:o,data:a});case 15:s=e.sent,n._id=s.workEntryId;case 17:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark(function e(n){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.toDoc?n.toDoc():n,o="/work-entry/"+n._id+"/update-entry-and-tasks",e.prev=2,e.next=5,i.jsonPost({url:o,data:a,suppressGlobalErrorHandler:!0});case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(2),e.next=11,t(1e3);case 11:return e.next=13,i.jsonPost({url:o,data:a});case 13:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),d=e.taskRepository,m=o(["workEntrySaved","workEntryDeleted","workEntryUpdated"]);return{on:m.on,off:m.off,saveFinishedEntryAndUpdateTasks:r(n),updateEntryAndTasks:r(s),deleteEntryAndUpdateTasks:r(l)}}},"WDiiPF+AfF":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("admin-dialog",{attrs:{isPopover:e.isPopover,headerTitle:e.headerTitle}},[n("div",{staticClass:"adminBox-body"},[n("div",{staticClass:"adminBox-mainWrapper"},[n("main",{staticClass:"adminBox-main adminBox-main--spaced"},[n("div",{staticClass:"adminBox-formGroup"},[n("label",{staticClass:"adminBox-label",attrs:{for:"editColumnName"}},[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}},{name:"focus-mouse",rawName:"v-focus-mouse"}],staticClass:"adminBox-textInput adminBox-inputStretch",attrs:{type:"text",id:"editColumnName"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",{staticClass:"adminBox-formGroup"},[n("label",{staticClass:"adminBox-label adminBox-label--inline",attrs:{for:"editColumnDescription"}},[e._v("\n                        Description\n                    ")]),e._v(" "),n("tooltip-help",{attrs:{html:e.descriptionTooltip}}),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.description,expression:"description",modifiers:{trim:!0}}],staticClass:"adminBox-textarea adminBox-inputBlock adminBox-inputStretch",attrs:{id:"editColumnDescription"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})],1),e._v(" "),n("div",{staticClass:"adminBox-formGroup"},[n("span",{staticClass:"adminBox-label"},[e._v("Task properties to display on board")]),e._v(" "),n("div",{staticClass:"editColumn-checkboxGroup"},[n("settings-checkbox",{attrs:{label:"Show description expanded"},model:{value:e.showDescription,callback:function(t){e.showDescription=t},expression:"showDescription"}}),e._v(" "),n("settings-checkbox",{attrs:{label:"Show labels expanded"},model:{value:e.showLabels,callback:function(t){e.showLabels=t},expression:"showLabels"}})],1),e._v(" "),n("label",{staticClass:"editColumn-labelGroup"},[n("span",{staticClass:"editColumn-selectLabel adminBox-mainText"},[e._v("Subtasks")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.subTasksToShowValue,expression:"subTasksToShowValue"}],staticClass:"editColumn-subTasksSelect adminBox-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.subTasksToShowValue=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v("Show none")]),e._v(" "),n("option",{attrs:{value:"1"}},[e._v("Show next unfinished")]),e._v(" "),n("option",{attrs:{value:"2"}},[e._v("Show next 2 unfinished")]),e._v(" "),n("option",{attrs:{value:"3"}},[e._v("Show next 3 unfinished")]),e._v(" "),n("option",{attrs:{value:"4"}},[e._v("Show next 4 unfinished")]),e._v(" "),n("option",{attrs:{value:"5"}},[e._v("Show next 5 unfinished")]),e._v(" "),n("option",{domProps:{value:e.SUBTASK_VALUES.ALL_UNFINISHED}},[e._v("Show all unfinished")]),e._v(" "),n("option",{domProps:{value:e.SUBTASK_VALUES.ALL}},[e._v("Show all")])])]),e._v(" "),n("label",{staticClass:"editColumn-labelGroup"},[n("span",{staticClass:"editColumn-selectLabel adminBox-mainText"},[e._v("Due dates")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.dueDateDisplayMode,expression:"dueDateDisplayMode"}],staticClass:"adminBox-select",attrs:{id:"editColumn-dueDateDisplayMode"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.dueDateDisplayMode=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"showOverdue"}},[e._v("Show overdue")]),e._v(" "),n("option",{attrs:{value:"show7daysBefore"}},[e._v("Show active due in 7 days")]),e._v(" "),n("option",{attrs:{value:"showAlways"}},[e._v("Show all")])])])]),e._v(" "),n("div",{staticClass:"adminBox-formGroup"},[n("span",{staticClass:"adminBox-label"},[e._v("Archiving")]),e._v(" "),n("div",{staticClass:"editColumn-checkboxGroup"},[n("settings-checkbox",{attrs:{label:"Group tasks by the date they were added to the column",id:"editColumn-groupByDate"},model:{value:e.groupByDate,callback:function(t){e.groupByDate=t},expression:"groupByDate"}})],1),e._v(" "),n("div",{staticClass:"adminBox-alert adminBox-alert--info"},[e._v("\n                        Recommended for columns that represents an end state for tasks, like the "),n("em",[e._v("Done")]),e._v("\n                        column. Only loads the 20 most recent tasks from the start.\n                    ")])]),e._v(" "),e.hasSwimlanes?n("div",{staticClass:"adminBox-formGroup"},[n("span",{staticClass:"adminBox-label adminBox-label--inline"},[e._v("\n                        WIP limits\n                    ")]),e._v(" "),n("tooltip-help",{attrs:{html:e.wipLimitTooltip}}),e._v(" "),n("ul",{staticClass:"editColumn-taskLimits"},[n("li",{staticClass:"editColumn-taskLimit"},[n("span",{staticClass:"editColumn-taskLimitLabel editColumn-taskLimitCell"},[e._v("\n                                Column\n                            ")]),e._v(" "),n("div",{staticClass:"editColumn-taskLimitCell"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.taskLimit,expression:"taskLimit",modifiers:{number:!0}}],staticClass:"adminBox-numberInput editColumn-taskLimitInput",attrs:{type:"number",min:"0",step:"1",placeholder:"No limit"},domProps:{value:e.taskLimit},on:{input:function(t){t.target.composing||(e.taskLimit=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),e.taskLimits.length?[n("li",{staticClass:"editColumn-taskLimit"},[n("span",{staticClass:"editColumn-taskLimitLabel editColumn-taskLimitCell"},[e._v("\n                                    Swimlanes\n                                ")])]),e._v(" "),e._l(e.taskLimitsOrderedBySwimlane,function(t){return n("li",{staticClass:"editColumn-swimlaneTaskLimit editColumn-taskLimit"},[n("span",{staticClass:"editColumn-taskLimitLabel editColumn-taskLimitCell truncate"},[e._v("\n                                        "+e._s(t.swimlaneName)+"\n                                    ")]),e._v(" "),n("div",{staticClass:"editColumn-taskLimitCell"},[n("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:t.value,expression:"taskLimit.value",modifiers:{trim:!0,number:!0}}],staticClass:"adminBox-numberInput editColumn-taskLimitInput",attrs:{type:"number",min:"0",step:"1",placeholder:"No limit"},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",e._n(n.target.value.trim()))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("button",{staticClass:"editColumn-deleteTaskLimit icons-delete icons--button",attrs:{title:"Delete task limit for swimlane"},on:{click:function(n){e.deleteSwimlaneTaskLimit(t)}}})])])})]:e._e()],2),e._v(" "),n("button",{staticClass:"button",on:{click:e.showAddLimitPopover}},[e._v("\n                        Add limit for swimlane\n                    ")])],1):n("div",{staticClass:"adminBox-formGroup"},[n("span",{staticClass:"adminBox-label adminBox-label--inline"},[e._v("\n                        WIP limit\n                    ")]),e._v(" "),n("tooltip-help",{attrs:{html:e.wipLimitTooltip}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.taskLimit,expression:"taskLimit",modifiers:{number:!0}}],staticClass:"adminBox-numberInput adminBox-inputBlock",attrs:{type:"number",min:"0",step:"1",placeholder:"No limit","t-id":"editColumn-taskLimit"},domProps:{value:e.taskLimit},on:{input:function(t){t.target.composing||(e.taskLimit=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})],1),e._v(" "),n("div",{staticClass:"adminBox-buttonGroup adminBox-buttonGroup--spread"},[n("button",{staticClass:"button button--large",on:{click:e.cancelClick}},[e._v("Cancel")]),e._v(" "),n("button",{staticClass:"button button--large button--success",attrs:{id:"editColumn-saveButton"},on:{click:e.saveClick}},[e._v("\n                        Save column\n                    ")])])])])]),e._v(" "),e.addLimitPopoverVisible?n("add-limit",{attrs:{swimlanes:e.swimlanes},on:{add:e.addSwimlaneTaskLimit,close:e.hideAddLimitPopover}}):e._e()],1)},staticRenderFns:[]}},WMV82jU969:function(e,t){e.exports=function(e){return function(){return e}}},WMuIpoHugh:function(e,t,n){"use strict";var a=n("R6wa7XS/Su"),i=n("7gqpEfr4/c");e.exports=function(e){function t(e){var t=e.taskId,n=I.getTaskById(t),a=n.columnId,i=n.swimlaneId,o=T(a);M.set(a,o),p(a,o);var r={columnId:a,swimlaneId:i},s=v(r),l=y(r);O.set(l,s),m(r,s)}function n(e){var t=e.changedProperties,n=t.includes("columnId");if(n&&d(),(t.includes("swimlaneId")||n)&&c(),t.includes("dates")){var i=I.getTaskById(e.taskId),o=i.columnId,r=i.swimlaneId,s=T(o),l=h(o);a(s,l)||(M.set(o,s),p(o,s));var u={columnId:o,swimlaneId:r},f=v(u),k=h(u);if(!a(f,k)){var g=y(u);O.set(g,f),m(u,f)}}}function o(){d(),c()}function r(e){u(e.taskId)}function s(){d(),c()}function l(e){u(e)}function u(e){var t=I.getTaskById(e);if(t){var n=t.columnId,a=t.swimlaneId,i=T(n);M.set(n,i),p(n,i);var o={columnId:n,swimlaneId:a},r=v(o),s=y(o);O.set(s,r),m(o,r)}}function c(){E.forEach(function(e){C.forEach(function(t){var n={columnId:e.uniqueId,swimlaneId:t.uniqueId},i=v(n),o=b(n);a(i,o)||(O.set(y(n),i),m(n,i))})})}function d(){E.forEach(function(e){var t=e.uniqueId,n=T(t),i=h(t);a(n,i)||(M.set(t,n),p(t,n))})}function m(e,t){var n=y(e);f(R.get(n),t)}function p(e,t){f(_.get(e),t)}function f(e,t){e&&e.forEach(function(e){try{e(t)}catch(e){setTimeout(function(){throw e},0)}})}function h(e){return M.get(e)}function v(e){var t=e.columnId,n=e.swimlaneId,a=I.getTasksInCell(t,n),i=a.tasks,o=w.isAnyFilterActive(),r=g(i),s={columnId:t,swimlaneId:n,totalCount:i.length,hasMore:a.hasMore,isFilterActive:o,totalOverdueCount:r.length};return o&&(s.filterCount=k(i),s.filterOverdueCount=k(r)),s}function k(e){return e.filter(function(e){return!w.isTaskHiddenByFilter(e)}).length}function g(e){return e.filter(function(e){return A.isTaskOverdue(e)})}function b(e){var t=y(e);return O.get(t)}function T(e){var t=I.getTasksInColumn(e),n=t.tasks,a=w.isAnyFilterActive(),i=g(n),o={columnId:e,totalCount:n.length,hasMore:t.hasMore,isFilterActive:a,totalOverdueCount:i.length};return a&&(o.filterCount=k(n),o.filterOverdueCount=k(i)),o}function y(e){var t=e.columnId,n=e.swimlaneId;return n?t+"/"+n:t}var I=e.taskRepository,w=e.boardFilter,x=e.boardColumnRepository,C=e.swimlanes,D=e.taskDateWatcher,S=e.timerStateController,E=void 0,_=new Map,M=new Map,R=new Map,O=new Map,A=i({boardColumnRepository:x});return(E=x.getAll()).forEach(function(e){M.set(e.uniqueId,T(e.uniqueId))}),C.forEach(function(e){E.forEach(function(t){var n={columnId:t.uniqueId,swimlaneId:e.uniqueId},a=y(n),i=v(n);O.set(a,i)})}),I.on("save localSave",t),I.on("merge localMerge",n),I.on("delete localDelete",o),w.onUpdate(s),S.on("taskClientsUpdated",l),D.on("overdue",r),{destroy:function(){I.off("save localSave",t),I.off("merge localMerge",n),I.off("delete localDelete",o),w.offUpdate(s),S.off("taskClientsUpdated",l),D.off("overdue",r)},onEntryChangedForColumn:function(e,t){var n=_.get(e);n||(n=[],_.set(e,n)),n.push(t)},offEntryChangedForColumn:function(e,t){var n=_.get(e);if(n){var a=n.indexOf(t);a>=0&&n.splice(a,1)}},onEntryChangedForCell:function(e,t){var n=y(e),a=R.get(n);a||(a=[],R.set(n,a)),a.push(t)},offEntryChangedForCell:function(e,t){var n=y(e),a=R.get(n);if(a){var i=a.indexOf(t);i>=0&&a.splice(i,1)}},getEntryForColumn:h,getEntryForCell:b}}},WbZhUyZtRc:function(e,t,n){"use strict";var a=n("Zz1PBJ8Ns9"),i=n("usG2r+TNcd");e.exports=function(e){function t(e){var t=function(){var e=function(e){switch(f){case"daily":return"day";case"weekly":return"week";case"monthly":return"month";case"yearly":return"year"}throw Error()}(),t="Repeat ";if(1===p)t+="every "+e;else{t+="every "+i(p)+" "+e}return"weekly"===f?t+=" on "+s(h.map(function(e){return function(e){return e[0].toUpperCase()+e.substr(1)}(e.dayOfWeek)})):"monthly"===f?t+=" on the "+s(h.map(n)):"yearly"===f&&(t+=" on "+s(h.map(o))),t}()+" "+function(e){var t=function(e){var t=d.find(function(t){return t.uniqueId===e});return t?t.name:"[Not found]"}(m.sourceColumnId);return"starting in "+e.emphasize(e.encode(t))}(e);return v&&(t+=" until "+a(v).format("D MMMM YYYY")),m.copyTaskId&&(t+=" (has been copied)"),t}function n(e){if(e.order){if(e.dayOfWeek){var t="workday"===e.dayOfWeek.toLowerCase()?"weekday":r(e.dayOfWeek);return e.order+" "+t}return"last day"}return i(e.dayOfMonth)}function o(e){return e.dayOfMonth+" "+r(e.month)}function r(e){return e[0].toUpperCase()+e.substr(1)}function s(e){var t=e.length;return 1===t?e[0]:e.slice(0,-1).join(", ")+" and "+e[t-1]}function l(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e){return'"'+e+'"'}function c(e){return"<strong>"+e+"</strong>"}var d=e.columns,m=e.repeat,p=m.interval||1,f=m.type,h=m.days,v=m.endDate;return{getDescriptionHtml:function(){return t({encode:l,emphasize:c})},getDescriptionText:function(){return t({encode:function(e){return e},emphasize:u})}}}},WuyAo4RRby:function(e,t,n){"use strict";e.exports={props:["type","details"],computed:{isSwimlane:function(){return"swimlane"===this.type},title:function(){return this.isSwimlane?"Swimlane details":"Column details"},filterCountHtml:function(){return"Filtered tasks: <strong>"+this.details.filterTaskCount+"</strong>"},taskCountHtml:function(){var e=this.details.isFilterActive?"Total tasks":"Task count",t=this.details.hasMore?"+":"";return e+": <strong>"+this.details.totalTaskCount+t+"</strong>"},taskLimitHtml:function(){return"Task limit: <strong>"+this.details.taskLimit+"</strong>"}},methods:{closeClick:function(){this.close()},close:function(){this.$emit("close")}},mounted:function(){document.addEventListener("click",this.close)},destroyed:function(){document.removeEventListener("click",this.close)}}},X1Xzb1FuRg:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-property"},[n("label",{staticClass:"taskDetails-propertyLabel"},[e._v("Time spent")]),e._v(" "),n("div",{ref:"timeSpentText",class:e.textClasses,attrs:{tabindex:"0"},on:{click:e.showMenu,keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.showMenuFromKeyboard(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.showMenuFromKeyboard(t)}]}},[e._v("\n        "+e._s(e.timeSpentText)+"\n    ")]),e._v(" "),e.addDialogVisible?n("add-manual-time-entry",{attrs:{position:e.getPositionRelativeToTimeSpent()},on:{close:e.addDialogClose}}):e._e(),e._v(" "),e.menuVisible?n("kf-menu",{attrs:{appendTo:".appendWrapper",position:e.getPositionRelativeToTimeSpent()},on:{close:e.menuClose}},[e.readOnly?e._e():n("item",{attrs:{text:"Add time entry",iconClass:"taskDetails-timeSpent-timerIcon icons-task-timer"},on:{click:e.addTimeEntryClick}}),e._v(" "),n("item",{attrs:{text:"Open time log",iconClass:"menu-icon-timeLog"},on:{click:e.openTimeLogClick}})],1):e._e()],1)},staticRenderFns:[]}},X7FwpvisBf:function(e,t,n){var a=n("qW88fqIyo4");e.exports=function(e,t,n){for(var i=-1,o=e.criteria,r=t.criteria,s=o.length,l=n.length;++i<s;){var u=a(o[i],r[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},XcfRveFmy9:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("PyvLK45y8a"),n("LmyJ3HJHcs"),!1,null,null,null);e.exports=a.exports},Xt12UBnUQp:function(e,t){e.exports=function(e,t){return e<t}},"Y/vxGFiWiz":function(e,t,n){"use strict";e.exports={props:{taskLabelInput:{type:Object,required:!0},initialLabels:{type:Array,default:function(){return[]}}},methods:{onLabelsChange:function(e){var t=e.labels;this.$emit("labelsChange",t)}},mounted:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.taskLabelInput.initForElement(this.$refs.labelWrapper),this.taskLabelInput.on("changed",this.onLabelsChange),this.taskLabelInput.setLabels(this.initialLabels);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),destroyed:function(){this.taskLabelInput.off("changed",this.onLabelsChange),this.taskLabelInput.reset()}}},Y9QCbSuqqQ:function(e,t,n){"use strict";function a(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=d.normal}function i(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=m.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.")}function o(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e,t){return e=e.source,t=t||"",function n(a,i){return a?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(a,i),n):new RegExp(e,t)}}function u(e){for(var t=1,n=void 0,a=void 0;t<arguments.length;t++){n=arguments[t];for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}function c(e,t,n){if(n||"function"==typeof t){n||(n=t,t=null),t=u({},c.defaults,t||{});var i=void 0;try{i=a.lex(e,t)}catch(e){return n(e)}var o=void 0;try{o=r.parse(i,t)}catch(e){return n(e)}return n(null,o)}try{return t&&(t=u({},c.defaults,t)),r.parse(a.lex(e,t),t)}catch(e){if((t||c.defaults).silent)return"<p>An error occured:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}e.exports=c,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={sanitize:!1,sanitizer:null,smartLists:!0,silent:!1,renderer:new o,openLinksInNewWindow:!1},c.Parser=r,c.parser=r.parse,c.Renderer=o,c.Lexer=a,c.lexer=a.lex,c.InlineLexer=i,c.inlineLexer=i.output,c.parse=c;var d={newline:/^\n+/,list:/^( *)(bull) [\s\S]+?(?:\n{2,}(?! )(?!\1bull )\n*|\s*$)/,paragraph:/^((?:[^\n]+\n?(?!blockquote))+)\n*/,text:/^[^\n]+/,fences:/^ *(`{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/};d.bullet=/(?:[*-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=l(d.item,"gm")(/bull/g,d.bullet)(),d.list=l(d.list)(/bull/g,d.bullet)(),d.paragraph=l(d.paragraph)("blockquote",d.blockquote)("(?!","(?!"+d.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.normal=u({},d),a.rules=d,a.lex=function(e,t){return new a(t).lex(e)},a.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},a.prototype.token=function(e,t,n){e=e.replace(/^ +$/gm,"");for(var a=void 0,i=void 0,o=void 0,r=void 0,s=void 0,l=void 0,u=void 0,c=void 0,m=void 0;e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"pre",text:o[3]||""});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),r=o[2],this.tokens.push({type:"list_start",ordered:r.length>1}),a=!1,m=(o=o[0].match(this.rules.item)).length,c=0;c<m;c++){u=(l=o[c]).length;var p=(l=l.replace(/^ *([*-]|\d+\.) +/,"")).match(/\n( +)[^\n]/);p&&(u=Math.min(p[1].length,4),l=l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==m-1&&(r===(s=d.bullet.exec(o[c+1])[0])||r.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=m-1)),i=a||/\n\n(?!\s*$)/.test(l),c!==m-1&&(a="\n"===l.charAt(l.length-1),i||(i=a)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"})}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var m={escape:/^\\([\\`*{}\[\]()#+\-.!_>~])/,link:/^!?\[(inside)\]\(href\)/,url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,strong:/^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,em:/^\b_(?=\S)([\s\S]*?\S)_\b/,del:/^~(?=\S)([\s\S]*?\S)~(?!~)/,br:/^ *\n(?!\s*$)/,text:/^[\s\S]+?(?=[\\<!\[_*`~]| *\n|$)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,codeWithSpaces:/^(`+)\s([\s\S]*?)\s\1(?!`)/};m._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,m._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,m.link=l(m.link)("inside",m._inside)("href",m._href)(),m.text=l(m.text)("|","|https?://|")(),m.normal=u({},m),i.rules=m,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t="",n=void 0,a=void 0,i=void 0;e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),t+=i[1];else if(this.inLink||!(i=this.rules.url.exec(e)))if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,t+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if(this.inStrong||!(i=this.rules.strong.exec(e)))if(this.inEm||!(i=this.rules.em.exec(e)))if(this.inDel||!(i=this.rules.del.exec(e))){if(i=this.rules.codeWithSpaces.exec(e))e=e.substring(i[0].length),t+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),t+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),t+=this.renderer.br();else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),t+=this.renderer.text(s(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),this.inDel=!0,t+=this.renderer.del(this.output(i[1])),this.inDel=!1;else e=e.substring(i[0].length),this.inEm=!0,t+=this.renderer.em(this.output(i[1])),this.inEm=!1;else e=e.substring(i[0].length),this.inStrong=!0,t+=this.renderer.strong(this.output(i[1])),this.inStrong=!1;else e=e.substring(i[0].length),a=n=s(i[1]),t+=this.renderer.link(a,null,n);return t},i.prototype.outputLink=function(e,t){var n=s(t.href),a=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,a,this.output(e[1])):this.renderer.image(n,a,s(e[1]))},o.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.pre=function(e){return"<pre>"+s(e,!0)+"</pre>\n"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,n){if(this.options.sanitize){var a=void 0;try{a=decodeURIComponent(function(e){return e.replace(/&([#\w]+);/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===a.indexOf("javascript:")||0===a.indexOf("vbscript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),this.options.openLinksInNewWindow&&(i+=' target="_blank"'),i+=">"+n+"</a>"},o.prototype.image=function(e,t,n){var a='<img src="'+e+'" alt="'+n+'"';return t&&(a+=' title="'+t+'"'),a+=">"},o.prototype.text=function(e){return e},r.parse=function(e,t,n){return new r(t,n).parse(e)},r.prototype.parse=function(e){this.inline=new i(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"pre":return this.renderer.pre(this.token.text);case"blockquote_start":for(var e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":for(var t="",n=this.token.ordered;"list_end"!==this.next().type;)t+=this.tok();return this.renderer.list(t,n);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}}},"YMK/h2AxfX":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("85Jx2TckYc"),n("OTuxUJp4XE"),!1,null,null,null);e.exports=a.exports},YXLpapl1k8:function(e,t,n){"use strict";var a=n("BBRimJTtLK"),i=n("ksiZ/Wws4x"),o=n("RNfSVdyTQ7"),r=n("JQ+l8HQvl8"),s=n("hHlQBZdXtr"),l=n("2YJ0Y+cJmC"),u=n("dNVDkvx63A"),c=n("rEK1kr4M5E");e.exports=function(e){function t(e){L=[],P=[],B={},e.forEach(function(e){var t=function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}(e.info);L.push(t),P.push.apply(P,e.tasks)}),P.forEach(C),V=[]}function n(e,t){e.split(" ").forEach(function(e){A[e].push(t)})}function d(e,t){e.split(" ").forEach(function(e){var n=A[e].indexOf(t);n>=0&&A[e].splice(n,1)})}function m(e,t,n){var a=E(e);t.split(" ").forEach(function(e){var t=N[e][a];t||(t=[],N[e][a]=t),t.push(n)})}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.oldPosition,i=n.newPosition;t.eventName=e;var o=[];a&&(o.push(a),t.oldPosition=a),A[e].forEach(function(e){e(t)});var r=a&&i&&S(a,i);i&&!r&&o.push(i),o.forEach(function(n){var a=E(n),i=N[e][a];i&&i.forEach(function(e){e(t)})})}function f(e){return P.find(function(t){return t._id===e})||V.find(function(t){return t._id===e})||void 0}function h(e){var t=e.taskId,n=B[t];v(e);var a=_(f(t));D(t,a),p("localMerge",{taskId:t,changedProperties:Object.keys(e.taskData)},{oldPosition:n,newPosition:a})}function v(e){var t=e.taskId,n=e.taskData,a=f(t);Object.keys(n).forEach(function(e){var t=n[e];a[e]=t})}function k(e,t){if(a(e.taskData))t&&t();else{var n=e.taskId,i=B[n],o=e.taskData,r=f(n),l=s(r);Object.keys(o).forEach(function(e){r[e]=o[e]});var u={oldPosition:i,newPosition:_(r)};p("preInterceptMerge",{taskId:n,taskData:o},u),function(e,t){var n=F.merge;n.length?g(n,e,t):t(null,e)}(e,function(e,a){if(e){if(a.error)return a.error(e);throw e}var o=a.taskData;Object.keys(r).forEach(function(e){e in o?r[e]=o[e]:e in l?r[e]=l[e]:delete r[e]});var s=_(r),u={oldPosition:i,newPosition:s};p("preMerge",{taskId:n,taskData:o},u),M.jsonPost({url:"/task/"+n+"/merge",data:{taskData:o,masterEvent:a.masterEvent,eventInfo:a.eventInfo},suppressGlobalErrorHandler:a.suppressGlobalErrorHandler}).then(function(){D(n,s),t&&t();var e=Object.keys(a.taskData);p("merge",{taskId:n,changedProperties:e},u)},a.error)})}}function g(e,t,n){(0,e[0])(t,function(a,i){if(a)return n(a);i=i||t;var o=e.slice(1);o.length?g(o,i,n):n(a,i)})}function b(e){T(e),C(e),p("localSave",{taskId:e._id},{newPosition:_(e)})}function T(e){P.push(e)}function y(e){var t=I(e);if(t){var n=_(t);delete B[e],p("localDelete",{taskId:e},{oldPosition:n})}}function I(e){for(var t=0,n=P.length;t<n;t++){var a=P[t];if(a._id===e)return P.splice(t,1),a}for(var i=0,o=V.length;i<o;i++){var r=V[i];if(r._id===e)return V.splice(i,1),r}return null}function w(e){var t=e.taskId,n=f(t),a=s(n.subTasks),i=a[e.index];if(i.name!==e.name)throw new Error("No matching subtask");i.finished=e.finished,h({taskId:t,taskData:{subTasks:a}})}function x(e,t){var n={columnId:e,swimlaneId:t};return L.find(function(e){return S(e,n)})}function C(e){D(e._id,_(e))}function D(e,t){B[e]=t}function S(e,t){return e.columnId===t.columnId&&i(e.swimlaneId,t.swimlaneId)}function E(e){var t=e.columnId,n=e.swimlaneId;return n?t+"_"+n:t}function _(e){var t=e.columnId,n=e.swimlaneId;return n?{columnId:t,swimlaneId:n}:{columnId:t}}var M=e.ajax||c,R=e.persister||r(),O=e.boardId,A={save:[],preInterceptMerge:[],preMerge:[],merge:[],preDelete:[],delete:[],localSave:[],localMerge:[],localDelete:[]},N={save:{},preInterceptMerge:{},preMerge:{},merge:{},preDelete:{},delete:{},localSave:{},localMerge:{},localDelete:{}},F={merge:[]},L=void 0,P=void 0,B=void 0,V=void 0;return t(e.taskSections),{getBoardId:function(){return O},setPersister:function(e){R=e},reloadWith:t,on:n,off:d,onAny:function(e){n(Object.keys(A).join(" "),e)},offAny:function(e){d(Object.keys(A).join(" "),e)},onCell:m,onCellAny:function(e,t){m(e,Object.keys(N).join(" "),t)},addInterceptor:function(e,t){F[e].push(t)},getTaskById:f,getTaskOrNullLocalOrRemote:l(function(e,t){var n=f(e);n?t(n):M.get({url:"/task/"+e,suppressGlobalErrorHandler:!0}).then(function(e){V.push(e),C(e),t(e)},function(){t(null)})}),countTasksInCell:function(e,t){if(!e)throw new Error("columnId required");var n={columnId:e,swimlaneId:t},a=0;return P.forEach(function(e){S(e,n)&&a++}),a},hasMoreTasksInCell:function(e,t){if(!e)throw new Error("columnId required");var n=x(e,t);return n&&n.hasMore},countTasksInColumn:function(e){if(!e)throw new Error("columnId required");var t=0;return P.forEach(function(n){n.columnId===e&&t++}),t},hasMoreTasksInColumn:function(e){if(!e)throw new Error("columnId required");return L.some(function(t){return t.columnId===e&&t.hasMore})},getTasksInCell:function(e,t){if(!e)throw new Error("columnId required");var n={columnId:e,swimlaneId:t},a=P.filter(function(e){return S(e,n)}),i=x(e,t);return{tasks:a,hasMore:i&&i.hasMore}},getTasksInColumn:function(e){if(!e)throw new Error("columnId required");return{tasks:P.filter(function(t){return t.columnId===e}),hasMore:L.some(function(t){return t.columnId===e&&t.hasMore})}},getMoreTasksInCellFromServer:l(function(e,t,n){var a=x(e,t);a.ajax&&M.abort(a.ajax),a.ajax=M.get({url:"/board/"+O+"/task-list",data:{columnId:e,swimlaneId:t,limit:20,startId:a.nextStartId,startDateFinished:a.nextStartDateFinished,startSortOrder:a.nextStartSortOrder}}),a.ajax.then(function(e){a.ajax=null;var t=e.info;a.hasMore=t.hasMore,a.nextStartId=t.nextStartId,a.nextStartDateFinished=t.nextStartDateFinished,a.nextStartSortOrder=t.nextStartSortOrder,e.tasks.forEach(b),n({hasMore:t.hasMore,tasks:e.tasks})},function(){a.ajax=null})}),localMergeTask:h,mergeTaskIfExists:function(e){f(e.taskId)&&k(e)},mergeTask:l(k),localSaveTask:b,saveTask:u(function(e,t,n){R.saveTask(e,t,function(e,t){if(e)return n&&n(e);T(t),C(t),n&&n(null,t),p("save",{taskId:t._id},{newPosition:_(t)})})}),localDeleteTaskById:y,deleteTaskById:u(function(e,t){var n=e.taskId,a=f(n);if(!a)return t&&t(new Error("Task not found"));var i=_(a);p("preDelete",{taskId:n},{oldPosition:i}),R.deleteTask(e,function(e){if(e)return t&&t(e);var a=!!I(n);delete B[n],t&&t(),a&&p("delete",{taskId:n},{oldPosition:i})})}),setSubTaskFinished:l(function(e,t){w(e);var n=e.taskId;M.jsonPost({url:"/task/"+n+"/set-subtask-finished",data:{masterEvent:e.masterEvent,eventInfo:e.eventInfo,subTaskData:{name:e.name,index:e.index,finished:e.finished}}}).then(function(){t&&t()})}),moveTask:l(function(e,t){if(e.targetBoardId===O)throw Error("Should only be used to move to other boards");M.jsonPost({url:"/task/"+e.taskId+"/move",data:{targetBoardId:e.targetBoardId,targetColumnId:e.targetColumnId,targetSwimlaneId:e.targetSwimlaneId,date:o.getTodayIsoString()}}).then(function(){y(e.taskId),t&&t()})}),getAllLocalTasks:function(){return P.concat(V)},enumerateLocalTasks:function(e){P.forEach(function(t){e(t)}),V.forEach(function(t){e(t)})},_fire:p,_localSaveTask:T,_localMergeTask:v,_localDeleteTaskById:I,_localSetSubTaskFinished:w}}},YYWGyA79FY:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("dNTmH9MY6P"),n("BYkQ1afAkv"),!1,null,null,null);e.exports=a.exports},YivR1GrJ3n:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Textcomplete=t.Textarea=void 0;var i=a(n("R1FhLCGtAg")),o=a(n("ATlyrcMnUp"));t.Textarea=i.default,t.Textcomplete=o.default},YlJ02REFTz:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ").createNamespacedHelpers("subTasks"),r=o.mapState,s=o.mapGetters,l=o.mapActions,u=n("NKFQkhZ/hO"),c=n("LID5hgrivl").$,d=n("Gh3TGTRxcI"),m=n("vPodq/6mM+"),p=n("utzbvpgxGf");n("natLtIr/Gc");var f=m();e.exports={props:["position","subTaskNames"],data:function(){return{subTaskListTemplateName:"",templateMoreMenuItem:null,renameTemplateItem:null,renameTemplateName:"",moreMenuPosition:null,showingModal:!1}},computed:i({},r(["subTaskListTemplates","maxSubTaskCount"]),s(["visibleSubTasks"]),{templateMoreIcon:function(){return this.$refs["templateMoreIcon-"+this.templateMoreMenuItem._id][0]}}),methods:i({},l(["saveSubTaskListTemplate","applySubTaskListTemplate","deleteSubTaskListTemplate","updateSubTaskListTemplate"]),{templateNameClick:function(e,t){this.renameTemplateItem||(this.templateMoreMenuItem=e,this.moreMenuPosition=this.getTemplateNamePosition(t))},templateEnterOrSpaceKeydown:function(e){this.templateMoreMenuItem=e,this.moreMenuPosition=this.getTemplateMoreIconPosition()},templateMoreClick:function(e){this.templateMoreMenuItem=e,this.moreMenuPosition=this.getTemplateMoreIconPosition()},renameTemplateClick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.renameTemplateItem=this.templateMoreMenuItem,this.renameTemplateName=this.renameTemplateItem.name,e.next=4,this.$nextTick();case 4:this.focusEditTemplateNameInput();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),renameTemplateBlur:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.renameTemplateItem||this.showingModal){e.next=3;break}return e.next=3,this.renameTemplateDone();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),renameTemplateDone:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.renameTemplateName){e.next=6;break}return e.next=3,this.showAlert("Please enter a name");case 3:this.focusEditTemplateNameInput(),e.next=18;break;case 6:if(this.renameTemplateName!==this.renameTemplateItem.name){e.next=10;break}this.renameTemplateItem=null,e.next=18;break;case 10:if(!this.subTaskListTemplates.some(function(e){return e.name===t.renameTemplateName})){e.next=16;break}return e.next=13,this.showAlert("A template already exists with that name");case 13:this.focusEditTemplateNameInput(),e.next=18;break;case 16:this.updateSubTaskListTemplate(i({},this.renameTemplateItem,{name:this.renameTemplateName})),this.renameTemplateItem=null;case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancelRenameTemplate:function(){this.renameTemplateItem=null},useTemplateClick:function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.templateMoreMenuItem.subTaskNames,!(this.visibleSubTasks.length+t.length>=this.maxSubTaskCount)){e.next=4;break}return u.alert("You cannot have more than "+this.maxSubTaskCount+" subtasks"),e.abrupt("return");case 4:return e.next=6,this.applySubTaskListTemplate(this.templateMoreMenuItem);case 6:return this.close(),e.next=9,this.$nextTick();case 9:d.scrollToShow(c("#taskDetails-subTasksSection"),c(".taskDetails-wrapper"));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),deleteSubTaskListTemplateClick:function(){this.deleteSubTaskListTemplate(this.templateMoreMenuItem._id),0===this.subTaskListTemplates.length&&this.close()},getTemplateMoreIconPosition:function(){return{my:"right top",at:"right bottom+2px",of:this.templateMoreIcon}},getTemplateNamePosition:function(e){return{my:"left top",at:"right top+2px",of:e}},templateMoreMenuClose:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.templateMoreMenuItem=null,this.focusTemplateList();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),focusEditTemplateNameInput:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.wasMouseUsedLast()&&this.$refs.editTemplateNameInput[0].focus();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),focusTemplateList:function(){this.$refs.templateList.focus()},close:function(){this.$emit("close")},showAlert:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.showingModal=!0,e.next=3,u.alert(t);case 3:this.showingModal=!1;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),components:{"kf-menu":p},mounted:function(){this.focusTemplateList()}}},ZCYET1W1AF:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("YlJ02REFTz"),n("ezFZFTXFaZ"),!1,null,null,null);e.exports=a.exports},ZEJmeYc4Kq:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},ZGoGYskvBS:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("C9WDmX/5h+"),n("tCH++oePP3"),!1,null,null,null);e.exports=a.exports},ZHsQkwJRX0:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("RNfSVdyTQ7"),o=n("hHlQBZdXtr"),r=n("7gqpEfr4/c");e.exports=function(e){function t(e,t){return c.getColumnIndexById(e.targetColumnId)-c.getColumnIndexById(t.targetColumnId)}var n=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,r,s=t.dispatch,l=t.getters;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.dueDates[n].targetColumnId,i=l.task.dates.findIndex(function(e){return e.targetColumnId===a}),(r=o(l.task.dates)).splice(i,1),e.next=6,s("updateTask",{dates:r},{root:!0});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=a(regeneratorRuntime.mark(function e(n,a){var i,r,s,l,u=n.dispatch,c=n.getters,d=a.index,m=a.dueTimestamp,p=a.targetColumnId,f=a.repeat;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.dueDates[d].targetColumnId,r=c.task.dates.findIndex(function(e){return e.targetColumnId===i}),s=o(c.task.dates),l=s[r],l.dueTimestamp=m,l.targetColumnId=p,f?l.repeat=f:delete l.repeat,s.sort(t),e.next=10,u("updateTask",{dates:s},{root:!0});case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark(function e(n,a){var r,s,l=n.dispatch,u=n.getters,c=a.dueTimestamp,d=a.targetColumnId,m=a.repeat;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(u.task.dates),s={dateType:"dueDate",dueTimestamp:c,dueTimestampLocal:i.getLocalIsoTimestamp(new Date(c)),targetColumnId:d,status:"active"},m&&(s.repeat=m),r.push(s),r.sort(t),e.next=7,l("updateTask",{dates:r},{root:!0});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark(function e(t){var n=t.getters,a=t.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.dueDates.length?a("SET_EDIT_INDEX",0):a("SET_ADD_VISIBLE",!0);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=e.boardColumnRepository,d=e.defaultDueDateTime,m=r({boardColumnRepository:c});return{namespaced:!0,state:{editIndex:-1,addVisible:!1,boardColumns:c.getAll().map(function(e){return{columnId:e.uniqueId,name:e.name,groupByDate:e.groupByDate}}),defaultDueDateTime:d},getters:{task:function(e,t,n){return n.task},dueDates:function(e,n,a){return o(n.task.dates).sort(t).map(function(e){return function(e,t){var n=c.getColumnById(e.targetColumnId);return{dueTimestamp:e.dueTimestamp,dueText:m.formatDueDateShort(e,{now:t}),targetColumnId:e.targetColumnId,targetColumnName:n?n.name:"[Column not found]",overdue:m.isDateOverdue(e,{now:t}),done:"done"===e.status,repeat:o(e.repeat)}}(e,a.now)})},columnId:function(e,t){return t.task.columnId},readOnly:function(e,t,n){return n.readOnly},inLastColumn:function(e,t){var n=e.boardColumns[e.boardColumns.length-1];return t.columnId===n.columnId},hasRepeatingDueDate:function(e,t){return t.task.dates.some(function(e){return e.repeat})}},mutations:{SET_ADD_VISIBLE:function(e,t){e.addVisible=t},SET_EDIT_INDEX:function(e,t){e.editIndex=t}},actions:{deleteDueDate:n,updateDueDate:s,addDueDate:l,showAddOrEdit:u}}}},"a+zQmhtzaf":function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},aD17rJKlPM:function(e,t,n){"use strict";var a=n("rEK1kr4M5E");e.exports=function(){return{getAllForTask:function(e){return a.get({url:"/task/"+e+"/time-log"})}}}},adNImTGudw:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-wrapper appendWrapper scroll scroll--large scroll--horizontalHidden",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.wrapperClick(t)}}},[n("div",{class:e.taskDetailsClasses},[n("div",{ref:"focusDummy",staticClass:"taskDetails-focusDummy",attrs:{tabindex:"0"}}),e._v(" "),e.fileDropZoneEnabled?n("file-drop-zone",{attrs:{dropZoneSelector:".taskDetails"}}):e._e(),e._v(" "),n("div",{class:e.mainClasses},[n("button",{staticClass:"taskDetails-close",attrs:{tabindex:"-1"},on:{click:e.close}}),e._v(" "),n(e.view,{tag:"component"})],1),e._v(" "),n("sidebar",{on:{close:e.close}})],1),e._v(" "),e.isIpad?n("div",{staticClass:"taskDetails-ipadSpacer"}):e._e(),e._v(" "),e.onboardingVisible?n("onboarding",{on:{complete:e.completeOnboarding}}):e._e()],1)},staticRenderFns:[]}},aetiaUNG0j:function(e,t,n){"use strict";var a=n("fi3JK86/f7");e.exports={renderHtml:function(e){var t=e.text,n=0,i=e.mentions.slice();i.sort(function(e,t){return e.position-t.position});var o="";return i.forEach(function(e){var a=e.position,i=e.text,r=i.length;t.substr(a,r)===i&&(o+=t.substring(n,a),o+="*"+i+"*",n=a+r)}),a.render(o+t.substr(n))}}},aittrcMLxP:function(e,t,n){"use strict";var a=n("Zz1PBJ8Ns9"),i=n("MoDmcdZcO4");e.exports=function(e){function t(e){return i.generate({nextSortOrder:function(e){var t=s(e);return t.length?t[0].sortOrder:0}(e)})}function n(e){return i.generate({prevSortOrder:function(e){var t=s(e);return t.length?t[t.length-1].sortOrder:0}(e)})}function o(e,t){var n=l(e,t),a=n.findIndex(function(e){return e._id===t}),o=n[a],r=n[a-1],s={nextSortOrder:o.sortOrder};return r&&(s.prevSortOrder=r.sortOrder),i.generate(s)}function r(e,t){var n=l(e,t),a=n.findIndex(function(e){return e._id===t}),o=n[a],r=n[a+1],s={prevSortOrder:o.sortOrder};return r&&(s.nextSortOrder=r.sortOrder),i.generate(s)}function s(e){return d(e.columnId)?c(e,e.dateFinished||a().format("YYYY-MM-DD")):u(e)}function l(e,t){return d(e.columnId)?c(e,p.getTaskById(t).dateFinished):u(e)}function u(e){var t=e.columnId,n=e.swimlaneId,a=p.getTasksInCell(t,n).tasks;return a.sort(function(e,t){return e.sortOrder-t.sortOrder}),a}function c(e,t){return u(e).filter(function(e){return e.dateFinished===t})}function d(e){return m.getColumnById(e).groupByDate}var m=e.boardColumnRepository,p=e.taskRepository,f=e.newTasksPosition;return{generateSortOrderForAddingTaskToCell:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.positionBeforeTaskId,s=a.positionAfterTaskId,l=a.positionRelativeTaskId;return l?"top"===f?o(e,l):r(e,l):i?o(e,i):s?r(e,s):"top"===f?t(e):n(e)},generateSortOrderForMovingTaskToTopOfCell:t,generateSortOrderForMovingTaskToBottomOfCell:n}}},atbVa1nXN1:function(e,t){e.exports=function(e,t,n,a){for(var i=-1,o=null==e?0:e.length;++i<o;){var r=e[i];t(a,r,n(r),e)}return a}},"brWB+wScTx":function(e,t,n){"use strict";var a=n("N7axB/oalN");e.exports=function(){return{createDialog:function(e){return a(e)}}}},"c/dbZR9XGL":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("GVnuS6ZnCm"),n("adNImTGudw"),!1,null,null,null);e.exports=a.exports},cFkseZul9o:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){var n,a,i,o,r=t.element,s=t.targetOpacity,l=t.duration;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now(),a=""!==r.style.opacity?r.style.opacity:"1";case 2:if(!(Date.now()-n<l)){e.next=10;break}return i=(Date.now()-n)/l,o=a-i*(a-s),r.style.opacity=o,e.next=8,new Promise(function(e){return setTimeout(e,10)});case 8:e.next=2;break;case 10:r.style.opacity=s;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();e.exports=function(e,t){var n=2*(t=a({times:1,duration:600,delayStart:!1},t)).times,o=function a(){var o=void 0;o=--n%2==0?1:.2,n>=0?i({element:e,targetOpacity:o,duration:t.duration/2}).then(a):e.style.opacity=""};t.delayStart?setTimeout(o,t.duration/2):o()}},cWag6eBPTR:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("jGHnBLmhXg"),n("4TwFvc/gMQ"),!1,null,null,null);e.exports=a.exports},"cbOVbjzRZ+":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("hHlQBZdXtr"),o=n("yKS169xhxh");e.exports=function(e){function t(e){var t=i(e);return t.iconUrl=function(e){if(e.iconUrl)return e.iconUrl;var t=e.mimeType;return t.includes("image")?"/img/document-image.png":t.includes("excel")||t.includes("spreadsheet")?"/img/document-excel.png":t.includes("word")?"/img/document-word.png":t.includes("pdf")?"/img/document-pdf.png":t.includes("powerpoint")||t.includes("presentation")?"/img/document-powerpoint.png":"/img/document.png"}(e),t}function n(e){var t=void 0;return e.length>0&&(t=e[0].sortOrder),m.generate({nextSortOrder:t})}var r=function(){var e=a(regeneratorRuntime.mark(function e(n){var a,i,o,r=n.commit,s=n.state,l=n.rootState;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.attachmentsLoaded&&!s.attachmentsUploading){e.next=2;break}return e.abrupt("return");case 2:return a=l.task.taskId,i=[],e.prev=4,e.next=7,d.getAllForTask(a,{suppressGlobalErrorHandler:!0});case 7:i=e.sent,e.next=21;break;case 10:return e.prev=10,e.t0=e.catch(4),e.prev=12,e.next=15,d.getAllForTask(a,{suppressGlobalErrorHandler:!0});case 15:i=e.sent,e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),r("SET_ATTACHMENTS_FAILED_TO_LOAD",!0);case 21:o=i.map(t),r("SET_ATTACHMENT_ITEMS",o),r("SET_ATTACHMENTS_LOADED",!0);case 24:case"end":return e.stop()}},e,this,[[4,10],[12,18]])}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=a(regeneratorRuntime.mark(function e(a,i){var o,r,s,l=a.state,u=a.commit,c=a.dispatch,m=a.rootState,f=i.files;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u("SET_ATTACHMENTS_UPLOADING",!0),u("SET_VISIBLE",!0),o=m.task,r=void 0,e.prev=4,e.next=7,d.uploadFiles(f,{taskId:o.taskId,boardId:p,sortOrder:n(l.attachments),attachmentType:"s3",onProgress:function(e){var t=Math.round(e/2);u("SET_ATTACHMENTS_UPLOAD_PERCENTAGE",t),50===t&&c("fakeUploadToS3Progress")}});case 7:if(r=e.sent,o.hasAttachments){e.next=12;break}return u("SET_ATTACHMENTS_LOADED",!0),e.next=12,c("updateTask",{hasAttachments:!0},{root:!0});case 12:return e.prev=12,u("SET_ATTACHMENTS_UPLOADING",!1),e.finish(12);case 15:s=r.map(t),u("ADD_ATTACHMENT_ITEMS_ON_TOP",s);case 17:case"end":return e.stop()}},e,this,[[4,,12,15]])}));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i=t.state,o=t.commit,r=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o("DELETE_ATTACHMENT",n),a=[d.deleteById(n)],0===i.attachments.length&&a.push(r("updateTask",{hasAttachments:!1},{root:!0})),e.next=5,Promise.all(a);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o=t.state,r=t.commit,s=n.oldIndex,l=n.newIndex;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.attachments[s],i=m.generateForMove({items:o.attachments,moveFromIndex:s,moveToIndex:l}),r("SET_ATTACHMENT_SORT_ORDER",{attachmentId:a.attachmentId,sortOrder:i}),e.next=5,d.merge(a.attachmentId,{sortOrder:i});case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark(function e(a,i){var o,r,s,l,u=a.state,c=a.rootState,m=a.commit,p=a.dispatch,f=i.files,h=i.attachmentType;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m("SET_ATTACHMENTS_UPLOADING",!0),m("SET_VISIBLE",!0),o=c.task,r=void 0,e.prev=4,s={taskId:o.taskId,sortOrder:n(u.attachments),attachmentType:h},e.next=8,d.saveFiles(f,s);case 8:r=e.sent;case 9:return e.prev=9,m("SET_ATTACHMENTS_UPLOADING",!1),e.finish(9);case 12:if(o.hasAttachments){e.next=16;break}return m("SET_ATTACHMENTS_LOADED",!0),e.next=16,p("updateTask",{hasAttachments:!0},{root:!0});case 16:l=r.map(t),m("ADD_ATTACHMENT_ITEMS_ON_TOP",l);case 18:case"end":return e.stop()}},e,this,[[4,,9,12]])}));return function(t,n){return e.apply(this,arguments)}}(),d=e.taskAttachmentRepository,m=e.sortOrderGenerator,p=e.boardId;return{namespaced:!0,state:{visible:!1,addVisible:!1,focusSection:!1,attachmentsUploading:!1,attachmentsUploadPercentage:0,attachmentsFailedToLoad:!1,attachmentsLoaded:!1,attachments:[],dropboxAppKey:e.dropboxAppKey,googleApiClientId:e.googleApiClientId,boxClientId:e.boxClientId},getters:{attachmentsCount:function(e){return e.attachments.length}},mutations:{SET_VISIBLE:function(e,t){e.visible=t},SET_ADD_VISIBLE:function(e,t){e.addVisible=t},ADD_ATTACHMENT_ITEMS_ON_TOP:function(e,t){var n;(n=e.attachments).unshift.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))},SET_ATTACHMENT_ITEMS:function(e,t){e.attachments=t},SET_ATTACHMENTS_FAILED_TO_LOAD:function(e,t){e.attachmentsFailedToLoad=t},SET_ATTACHMENT_SORT_ORDER:function(e,t){var n=t.attachmentId,a=t.sortOrder;e.attachments.find(function(e){return e.attachmentId===n}).sortOrder=a,e.attachments.sort(function(e,t){return e.sortOrder-t.sortOrder})},SET_ATTACHMENTS_UPLOADING:function(e,t){e.attachmentsUploading=t},SET_ATTACHMENTS_UPLOAD_PERCENTAGE:function(e,t){e.attachmentsUploadPercentage=t},SET_ATTACHMENTS_LOADED:function(e,t){e.attachmentsLoaded=t},DELETE_ATTACHMENT:function(e,t){var n=e.attachments.findIndex(function(e){return e.attachmentId===t});e.attachments.splice(n,1)},SET_FOCUS_SECTION:function(e,t){e.focusSection=t}},actions:{loadAttachments:r,uploadFiles:s,deleteAttachment:l,moveAttachment:u,saveFiles:c,fakeUploadToS3Progress:function(e){var t=e.commit,n=Date.now(),a=o.every(500,function(){var e=function(e){return e<=4e3?Math.min(90,50+Math.round(e/100)):e<=9e3?Math.min(95,90+Math.round((e-4e3)/1e3)):Math.min(99,95+Math.round((e-9e3)/5e3))}(Date.now()-n);t("SET_ATTACHMENTS_UPLOAD_PERCENTAGE",e),e>=99&&(o.clear(a),a=null)})}}}}},"ccx+bsW+DT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var a=e.value,i=t+(n||""),o=document.activeElement,r=0,s=0;r<a.length&&r<i.length&&a[r]===i[r];)r++;for(;a.length-s-1>=0&&i.length-s-1>=0&&a[a.length-s-1]===i[i.length-s-1];)s++;r=Math.min(r,Math.min(a.length,i.length)-s),e.setSelectionRange(r,a.length-s);var l=i.substring(r,i.length-s);if(e.focus(),!document.execCommand("insertText",!1,l)){e.value=i;var u=document.createEvent("Event");u.initEvent("input",!0,!0),e.dispatchEvent(u)}return e.setSelectionRange(t.length,t.length),o&&o.focus(),e}},csRna9HhZB:function(e,t,n){"use strict";var a=n("hHlQBZdXtr");e.exports={props:["initialEntry","showTaskName"],data:function(){return{entry:function(e){return e.expanded=!1,e.changedProperties.forEach(function(e){e.expanded=!1}),e}(a(this.initialEntry))}},computed:{hasExpandableDetails:function(){return"taskRelationCreated"===this.entry.itemType||"taskRelationChanged"===this.entry.itemType||"taskChanged"===this.entry.itemType&&this.hasSingleChangedProperty||this.entry.itemType.startsWith("taskComment")},hasSingleChangedProperty:function(){return 1===this.entry.changedProperties.length},singleChangedProperty:function(){return this.entry.changedProperties[0]},entryIsComment:function(){return!!this.entry.commentTextShort}},methods:{getEntrySimplePropertyClasses:function(){var e=["taskHistoryEntry-text"];return this.entryIsComment&&e.push("taskHistroy-commentTitle"),e},getExpandIconClasses:function(e){var t=["taskHistoryEntry-expandDetailsIcon icons-chevron-down"];return e.expanded&&t.push("taskHistoryEntry-expandDetailsIcon--expanded"),t},entryTextClick:function(e){this.hasExpandableDetails&&(e.expanded=!e.expanded)},changedPropertyClick:function(e){e.expanded=!e.expanded}}}},cxAIFAsF52:function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("Eu/lthGz+m"),r=n("suu7+2GOu+"),s=n("hHlQBZdXtr"),l=n("NKFQkhZ/hO");n("JOCBxO5V3I"),n("GbcutZx8hN"),e.exports={props:["boardId","boardName","swimlane","columns","initialTaskLimits","isPopover"],data:function(){return i({},this.swimlane,{descriptionTooltip:"The description is shown as a tooltip in the swimlane header on the board when hovering the information icon.",wipLimitTooltip:"If task count exceeds limit, a warning is shown.",addLimitPopoverVisible:!1,taskLimits:s(this.initialTaskLimits)})},computed:{headerTitle:function(){return this.isPopover?"Edit swimlane":this.boardName+": Edit swimlane"}},methods:{showAddLimitPopover:function(){this.addLimitPopoverVisible=!0},hideAddLimitPopover:function(){this.addLimitPopoverVisible=!1},setTaskLimit:function(e){var t=this.taskLimits.find(function(t){return t.columnId===e.columnId});if(t)t.value=e.value;else{var n=this.columns.find(function(t){return t.uniqueId===e.columnId});this.taskLimits.push({columnName:n.name,columnId:n.uniqueId,value:e.value})}this.hideAddLimitPopover()},deleteTaskLimitClick:function(e){this.taskLimits=this.taskLimits.filter(function(t){return t.columnId!==e.columnId})},saveSwimlaneClick:function(){var e=this;if(this.name){var t=function(t){return t&&t.value<0?(l.alert("Swimlane WIP limit must be a positive number"),{v:void 0}):e.columns.find(function(e){return e.uniqueId===t.columnId}).groupByDate&&t.value>15?(l.alert("Swimlanes in columns that are grouped by date can have a maximum task limit of 15.\nPlease lower your limit before saving."),{v:void 0}):void 0},n=!0,i=!1,o=void 0;try{for(var r,u=this.taskLimits[Symbol.iterator]();!(n=(r=u.next()).done);n=!0){var c=t(r.value);if("object"===(void 0===c?"undefined":a(c)))return c.v}}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}var d=this.taskLimits.filter(function(e){return!!e.value}).map(function(e){return{columnId:e.columnId,value:e.value}}),m=s(this.swimlane);Object.assign(m,{name:this.name,description:this.description,taskLimits:d}),this.$emit("saveSwimlane",m)}else l.alert("Name is required")},cancelClick:function(){this.$emit("cancelEditSwimlane")}},components:{"add-limit":o,"admin-dialog":r}}},"d/5VvrmMCy":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("qVpK81hPgg"),n("EPgwYFGaBt"),!1,null,null,null);e.exports=a.exports},"d/KpYoivik":function(e,t,n){"use strict";function a(e,t){var n=i(t);return o().startOf("day").add(n,"seconds").subtract(e,"seconds").format("HH:mm:ss")}function i(e){return o.duration(e).asSeconds()}var o=n("Zz1PBJ8Ns9"),r=n("NKFQkhZ/hO"),s=n("RNfSVdyTQ7"),l=n("R6wa7XS/Su"),u=n("hHlQBZdXtr"),c=n("iaSKDx5oNz"),d=n("VBQA8/XUu4");n("natLtIr/Gc"),n("kPXMvJIjHV"),n("3yz/kx2JkK"),n("JOCBxO5V3I"),n("HNsrs/OU/N");var m=c.MAX_ENTRY_HOURS,p=c.MAX_ENTRY_TOTAL_SECONDS;e.exports={props:["entry","positionRelativeTo"],data:function(){var e=this.entry.actions;return{maxDate:s.getTodayIsoString(),entryDate:this.entry.date,originalRows:u(e),rows:u(e),deletedActionIndexes:[],isEditingDate:!1}},computed:{dialogTitle:function(){return"manualTimeEntry"===this.entry.type?"Edit manual time entry":"pomodoro"===this.entry.timerMode?"Edit Pomodoro entry":"Edit stopwatch entry"},dialogPosition:function(){return{my:"right+25px top+5px",at:"right bottom",of:this.positionRelativeTo,collision:"fit"}},dateText:function(){var e=s.parseIsoDateString(this.entryDate);return s.friendlyDateString(e,{friendlyTodayAndYesterday:!1})},deleteIconVisible:function(){return this.rows.length>1},rowsValidationErrorMessage:function(){var e=this.validateRows(),t=e.isValid,n=e.message;return t?"":n},rowsValid:function(){return 0===this.rowsValidationErrorMessage.length},updatedEntryData:function(){var e=this.rows,t=this.entryDate,n=o.duration(e[0].from).asSeconds(),a=o(t).add(n,"seconds").toISOString(),i=o(t);return{startTimestamp:a,actions:e.map(function(e){var t=void 0,n=o.duration(e.from,"seconds"),a=o.duration(e.to,"seconds");return t=a<n?i.add(1,"day").add(a,"seconds").toISOString():i.clone().add(a,"seconds").toISOString(),{endTimestamp:t}})}},hasChanges:function(){return!l(this.originalRows,this.rows)||this.entryDate!==this.entry.date},hasUnsavedValidChanges:function(){return this.rowsValid&&this.hasChanges}},methods:{getPopoverOptions:function(){return{elementId:"editTimeEntry-popover",elementClass:"editTimeEntry-popover",wrapperClass:"editTimeEntry-popoverWrapper",position:{my:"right+25px top+5px",at:"right bottom",of:this.positionRelativeTo,collision:"fit"}}},editDateClick:function(){this.isEditingDate=!0,document.activeElement&&document.activeElement.blur()},confirmEditDateClick:function(){this.isEditingDate=!1,document.activeElement&&document.activeElement.blur()},dateInput:function(e){this.entryDate=e},updateActionFromTime:function(e,t){if(this.rows[e].from=t,this.recalculateDuration(e),e>0){var n=this.rows[e-1];o(n.from,"HH:mm:ss").isBefore(o(t,"HH:mm:ss"))&&(n.to=t,this.recalculateDuration(e-1))}},updateActionToTime:function(e,t){this.rows[e].to=t,this.recalculateDuration(e),e<this.rows.length-1&&(this.rows[e+1].from=t,this.recalculateDuration(e+1))},updateActionDuration:function(e,t){for(var n=0,i=e-1;i>=0;i--){var o=this.rows[i],r=this.rows[i+1];if(o.to!==r.from){n=i+1;break}}var s=this.rows[e];s.duration=t,s.from=a(t,s.to);for(var l=e-1;l>=n;l--){var u=this.rows[l],c=this.rows[l+1];u.to=c.from,u.from=a(u.duration,c.from)}},recalculateDuration:function(e){var t=this.rows[e].from,n=this.rows[e].to;if(t&&n){var a=function(e,t){var n=i(e),a=i(t);return n<=a?a-n:86400+a-n}(t,n);this.rows[e].duration=a}},deleteActionClick:function(e,t){var n=this,a=function(){n.deletedActionIndexes.push(e),n.rows.splice(e,1)};t.shiftKey?a():r.confirm("Are you sure you want to delete this part of the entry?",a)},validateRowAtIndex:function(e){for(var t=this.rows,n=o(this.entryDate),a=0;a<e;a++){var i=t[a];i.from>i.to&&n.add(1,"day")}var r=t[e],s=o.duration(r.to).asSeconds()-o.duration(r.from).asSeconds(),l=c({dateString:n.format("YYYY-MM-DD"),fromTimeString:r.from,toTimeString:r.to,duration:s});if(!l.isValid)return l;if(e>0){var u=t[e-1];if(r.from<u.to)return{isValid:!1,message:"Rows "+e+" and "+(e+1)+" cannot overlap. Please correct and then try again."};if(u.to<r.from)return{isValid:!1,message:"Rows "+e+" and "+(e+1)+" are detached. Please correct and then try again."}}return{isValid:!0}},validateRows:function(){for(var e=this.rows,t=0;t<e.length;t++){var n=this.validateRowAtIndex(t);if(!n.isValid)return n}var a=this.updatedEntryData,i=a.startTimestamp,r=a.actions;return o(r[r.length-1].endTimestamp).diff(o(i),"seconds")>p?{isValid:!1,message:"Total time for entry cannot be more than "+m+" hours"}:{isValid:!0}},updateClick:function(){if(this.rowsValid)if(this.hasChanges){var e=this.updatedEntryData,t=e.startTimestamp,n=e.actions;this.$emit("update",{startTimestamp:t,actions:n,deletedActionIndexes:this.deletedActionIndexes})}else this.$emit("close");else r.alert(this.rowsValidationErrorMessage)},tryClose:function(){this.hasChanges?this.showDataLossConfirmation():this.close()},close:function(){this.$emit("close")},showDataLossConfirmation:function(){var e=this;r.customModal({text:"You have unsaved changes. Would you like to apply them?",buttons:[{text:"Cancel"},{text:"No, discard",type:"danger",callback:function(){e.$emit("close")}},{text:"Yes, apply",type:"success",callback:function(){e.updateClick()}}]})}},components:{"date-input":d}}},"d05+lqiLYw":function(e,t,n){var a=n("kAdy2KmJBd");e.exports=function(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},d28dIODZu6:function(e,t,n){"use strict";e.exports=function(e){function t(e){o.localUpdateColor(e)}function n(e){o.localEnableColor(e)}function a(e){var t=e.colorValue;o.localDisableColor(t)}var i=e.socket,o=e.boardColorRepository;return{start:function(){i.on("boardColorUpdated",t),i.on("boardColorEnabled",n),i.on("boardColorDisabled",a)},stop:function(){i.off("boardColorUpdated",t),i.off("boardColorEnabled",n),i.off("boardColorDisabled",a)}}}},d43RGnW1Nr:function(e,t,n){"use strict";e.exports=function(){function e(e){n||(n=t.title),t.title=e+n}var t=document||{title:""},n=void 0;return{setPrefix:e,clearPrefix:function(){e("")}}}},d7qy3hh7LL:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("TS0ILVVaKW"),o=n("0iPhQ5GI5H"),r=n("iayxx/E6kY"),s=n("uj5lqEehEg"),l=n("rEK1kr4M5E"),u=n("50u+wdY68T"),c=n("RNfSVdyTQ7"),d=n("NKFQkhZ/hO"),m=n("2rs9mg/Lpj"),p=n("Mn28mDYCNI");n("nuwnmtiok7"),e.exports=function(e){function t(){R&&(R.close(),R=null),E=null,_=null,M=null}function n(){return M.loadingVisible()||M.emptyRecycleBinMessageVisible()}function f(){return!M.loadingVisible()&&0===M.deletedTasks().length}function h(){return!M.loadingVisible()&&S}function v(){!function(){R&&R.close(),R=s({elementId:"recycleBinHelpDialog",elementClass:"recycleBinHelpDialog",title:"About the recycle bin",positionAboveSelector:"#recycleBinDialog",dimOverlay:!0});var e=p({});R.open(e),R.on("closed",k),M.showHelp(!0)}()}function k(){R=null,M.showHelp(!1)}function g(e){var t=e.requireNewColumn,n=e.requireNewSwimlane;return new Promise(function(e){var a="",r={};t&&(r.columnSelect=function(){var e=C.getAll().map(function(e){return{text:e.name,value:e.uniqueId}});return{label:"Column",options:e,selectedValue:e[0].value}}(),a+="<p>The column no longer exists on the board</p><div data-bind=\"component: { name: 'label-select', params: columnSelect }\" />"),n&&(r.swimlaneSelect=function(){var e=x.map(function(e){return{text:e.name,value:e.uniqueId}});return{label:"Swimlane",options:e,selectedValue:e[0].value}}(),t&&(a+="<br>"),a+="<p>The swimlane no longer exists on the board</p><div data-bind=\"component: { name: 'label-select', params: swimlaneSelect }\" />");var s=i.mapping.fromJS(r),l=o("<div/>",{html:a})[0];d.customModal({title:"Please select a new location",html:l,buttons:[{text:"Cancel"},{text:"Apply",type:"success",callback:function(){var a={};t&&(a.columnId=s.columnSelect.selectedValue()),n&&(a.swimlaneId=s.swimlaneSelect.selectedValue()),e(a)}}]}),i.applyBindings(s,l)})}function b(e){var t=e.task;return i.mapping.fromJS({_id:e._id,taskName:t.name,columnId:t.columnId,swimlaneId:t.swimlaneId,taskClasses:"taskBox--"+t.color,locationText:function(e){var t=C.getColumnById(e.columnId),n=t?t.name:"[Column not found]";if(e.swimlaneId){var a=T(e.swimlaneId);n+=", "+(a?a.name:"[Swimlane not found]")}return n}(t),deletedByUserFullName:function(e){var t=D.getById(e);return t?t.fullName:"[Unknown user]"}(e.deletedByUserId),deletedTimeText:c.friendlyDateMonthTimeString(new Date(e.createdTimestamp)),expiresTimeText:c.friendlyDateMonthTimeString(new Date(e.expiresTimestamp))})}function T(e){return x.find(function(t){return t.uniqueId===e})}var y=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i,o,r,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.columnId(),a=C.getColumnById(n),i=t.swimlaneId(),o=T(i),r=x.length>1&&!o,s={},!(l=!a||r)){e.next=13;break}return e.next=10,g({requireNewColumn:!a,requireNewSwimlane:r});case 10:u=e.sent,s.columnId=u.columnId,s.swimlaneId=u.swimlaneId;case 13:i&&1===x.length&&(s.swimlaneId=null),l?I(t,s):function(e,t){var n="Are you sure you want to restore the task to <strong>"+e.locationText()+"</strong>?";d.customModal({html:n,buttons:[{text:"Cancel"},{text:"OK",type:"success",callback:function(){I(e,t)}}]})}(t,s);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.showLoading(),a=t._id(),e.next=4,l.jsonPost({url:"/board/"+w+"/deleted-tasks/"+a+"/restore",data:{changedTaskProperties:n}});case 4:if(i=e.sent,u.hideLoading(),!i.missing){e.next=9;break}return e.next=9,d.alert("The task is no longer in the recycle bin. Either it has already been restored or permanently deleted.");case 9:M.deletedTasks.remove(t);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),w=e.boardId,x=e.swimlanes,C=e.boardColumnRepository,D=e.userRepository,S=!e.userPermissionService.canRestoreAllTasks(),E=void 0,_=void 0,M=void 0,R=void 0;return{show:function(){E=r({elementId:"recycleBinDialog"});var e=m();E.open(),E.setContent(e),E.on("closed",t),_=E.getElement(),(M=i.mapping.fromJS({loadingVisible:!0,deletedTasks:[],showHelp:!1})).messageVisible=i.pureComputed(n),M.emptyRecycleBinMessageVisible=i.pureComputed(f),M.permissionNoticeVisible=i.pureComputed(h),Object.assign(M,{restoreClicked:y,helpClicked:v}),i.applyBindings(M,_[0]),M.loadingVisible(!0),l.get({url:"/board/"+w+"/deleted-tasks"}).then(function(e){var t=e.sort(function(e,t){return t.createdTimestamp.localeCompare(e.createdTimestamp)}).map(b);M.deletedTasks(t),M.loadingVisible(!1)})},_getModel:function(){return M}}}},dALRNNrcBj:function(e,t,n){var a=n("A8RVBBuxll"),i=0;e.exports=function(e){var t=++i;return a(e)+t}},dDN49muqmp:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ"),r=o.mapState,s=o.mapActions,l=o.createNamespacedHelpers("relations"),u=l.mapState,c=l.mapMutations,d=l.mapActions,m=n("LID5hgrivl").$,p=n("Gh3TGTRxcI"),f=n("NKFQkhZ/hO"),h=n("wrXUy9PdXv");n("GbcutZx8hN"),n("natLtIr/Gc"),e.exports={data:function(){return{relationDialogModel:null}},computed:i({},r(["task","readOnly"]),u(["relationItems","focusTaskId"]),{boards:function(){var e=this,t={};this.relationItems.forEach(function(n){var a=n.taskBoardId;if(!t[a]){var i=e.getSwimlanesForBoard(a).sort(function(e,t){return e.index-t.index}),o=e.getColumnsForBoard(a).sort(function(e,t){return e.index-t.index});t[a]={boardId:a,name:n.taskBoardName,swimlanes:i,columns:o}}});var n=this.task.boardId,a=t[n],i=Object.values(t).filter(function(e){return e.boardId!==n}).sort(function(e,t){return e.name.localeCompare(t.name)});return a?[a].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i)):i},relationDialogTaskColorClasses:function(){return["relationBoardView-relationDialog-taskColor","taskDetails-relationTaskColor","taskDetails-relationTaskColor--"+this.relationDialogModel.taskColor]}}),watch:{focusTaskId:{handler:function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.focusTaskId){e.next=6;break}return e.next=3,this.$nextTick();case 3:(t=this.relationItems.find(function(e){return e.taskId===a.focusTaskId}))&&((n=this.$refs["relationModel-"+this.focusTaskId][0]).focus(),this.scrollToShowBoard(t.taskBoardId)),this.setFocusTaskId(null);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),immediate:!0}},methods:i({},s(["close"]),d(["deleteRelation"]),c({setFocusTaskId:"SET_FOCUS_TASK_ID"}),{getTaskFullName:function(e){var t=e.taskNumberFullText,n=e.taskName;return t?t+": "+n:n},getSwimlanesForBoard:function(e){var t={};return this.relationItems.filter(function(t){return t.taskBoardId===e}).forEach(function(e){t[e.taskSwimlaneIndex]={name:e.taskSwimlaneName,index:e.taskSwimlaneIndex}}),Object.values(t)},getColumnsForBoard:function(e){var t={};return this.relationItems.filter(function(t){return t.taskBoardId===e}).forEach(function(e){t[e.taskColumnIndex]={name:e.taskColumnName,index:e.taskColumnIndex}}),Object.values(t)},getRelationModelsForCell:function(e,t,n){var a=this.relationItems.filter(function(a){return a.taskBoardId===e&&a.taskSwimlaneIndex===t&&a.taskColumnIndex===n});return a.sort(h),a},getRelationModelClasses:function(e){return"relationBoardView-task task taskColor--"+e.taskColor+" taskBorderColor--"+e.taskColor},getRelationModelRefKey:function(e){return"relationModel-"+e.taskId},getRelationDialogPosition:function(){if(!this.relationDialogModel)return null;var e=this.getRelationModelRefKey(this.relationDialogModel);return{my:"left top",at:"left bottom+5px",of:this.$refs[e][0]}},taskClick:function(e){this.relationDialogModel=e},openTaskFromDialogClick:function(){this.close(),window.location.href=this.relationDialogModel.taskUrl+"/relations/board-view/"+this.task.taskId},deleteRelationClick:function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.confirm("Do you want to delete the relation?");case 2:(t=e.sent)&&(this.deleteRelation(this.relationDialogModel.relationId),this.closeRelationDialog());case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),closeRelationDialog:function(){this.relationDialogModel=null},showAddRelationForBoard:function(e){var t=this.boards.indexOf(e),n=this.$refs.addRelationForBoard[t];this.$emit("showAddRelation",{position:this.getPositionRelativeToElement(n),boardId:e.boardId})},getPositionRelativeToElement:function(e){return{my:"left top",at:"left bottom+5px",of:e}},scrollToShowBoard:function(e){p.scrollToShow(this.$refs["board-"+e][0],m(".taskDetails-wrapper"))}})}},dDmgsXwKEp:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("PQ43XoaBtV"),o=500,r=50,s=6;e.exports=function(e){function t(e){g||e.originalEvent.touches.length>1||(c.sortable("option",{delay:0}),function(){if(!p){p=!0;var e=function(){a(document).off(".touchSortableRelease"),setTimeout(function(){p=!1,c.sortable("option",{delay:d})})};a(document).on("touchend.touchSortableRelease",function(t){0===t.originalEvent.touches.length&&e()}),a(document).on("touchcancel.touchSortableRelease",e)}}(),g=a(e.currentTarget),function(e){var t=e.originalEvent.touches[0];v=t.clientX,k=t.clientY}(e),g.on("touchmove.touchSortable",u),g.one("touchend.touchSortable",n),g.one("touchcancel.touchSortable",n),a(document).on("touchstart.touchSortable",l),h=setTimeout(function(){!function(e){f=!0,g.off("touchmove.touchSortable"),g.one("click.touchSortable",function(e){e.stopPropagation()}),g.addClass("touchPunch"),i.vibrate&&window.navigator.vibrate(r),g[0].dispatchEvent(e.originalEvent)}(e)},o))}function n(){clearTimeout(h),a(document).off(".touchSortable"),f?(f=!1,g.off("touchmove.touchSortable touchend.touchSortable touchcancel.touchSortable"),g.removeClass("touchPunch"),setTimeout(function(){g.off("click.touchSortable"),g=null})):(g.off(".touchSortable"),g=null)}function l(e){e.originalEvent.touches.length>1&&n()}function u(e){var t=e.originalEvent.touches,a=t.length>1,i=t[0],o=Math.abs(i.clientX-v),r=Math.abs(i.clientY-k),l=Math.sqrt(o*o+r*r);(a||l>s)&&n()}var c=a(e.listElements),d=e.normalStartDelay,m=e.itemSelector,p=!1,f=!1,h=void 0,v=void 0,k=void 0,g=void 0;return{init:function(){c.on("touchstart.touchSortable",m,t)},destroy:function(){c.off(".touchSortable")}}}},dEkNkNY3p9:function(e,t,n){"use strict";function a(e){return l.duration(e).asSeconds()}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ").createNamespacedHelpers("timeLog"),r=o.mapState,s=o.mapActions,l=n("Zz1PBJ8Ns9"),u=n("NKFQkhZ/hO"),c=n("RNfSVdyTQ7"),d=n("vPodq/6mM+"),m=n("iaSKDx5oNz"),p=n("VBQA8/XUu4"),f=d();n("natLtIr/Gc"),n("3yz/kx2JkK"),n("GbcutZx8hN"),e.exports={props:["position"],data:function(){var e=l(),t=e.format("HH:mm");return{dateInputValue:e.format("YYYY-MM-DD"),fromInputValue:t,toInputValue:t,durationInputValue:0}},computed:i({},r(["addingEntry"]),{addTimeData:function(){return function(e,t,n){var i=a(t),o=l(e).add(i,"seconds").toDate(),r=l(e);t>n&&r.add(1,"day");var s=a(n);return{startDate:o,endDate:r.add(s,"seconds").toDate()}}(this.dateInputValue,this.fromInputValue,this.toInputValue)},validationErrorMessage:function(){var e=m({dateString:this.dateInputValue,fromTimeString:this.fromInputValue,toTimeString:this.toInputValue,duration:this.durationInputValue});return e.isValid?"":e.message}}),methods:i({},s(["addTimeEntry"]),{addTimeFromUpdate:function(e){this.fromInputValue=e,this.updateAddTimeDuration()},addTimeToUpdate:function(e){this.toInputValue=e,this.updateAddTimeDuration()},updateAddTimeDuration:function(){var e=this.fromInputValue,t=this.toInputValue;e&&t&&(this.durationInputValue=function(e,t){var n=a(e),i=a(t);return n<=i?i-n:86400+i-n}(e,t))},addTimeDurationUpdate:function(e){this.durationInputValue=e;var t=function(e){return function(e){return l(e,"YYYY-MM-DD",!0).isValid()}(e)||(e="2000-01-01"),e}(this.dateInputValue),n=a(this.toInputValue),i=l(t).add(n,"seconds").subtract(e,"seconds").format("HH:mm");this.fromInputValue=i},close:function(){this.$emit("close")},addEntry:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.addingEntry){e.next=2;break}return e.abrupt("return");case 2:if(!this.validationErrorMessage.length){e.next=7;break}return e.next=5,u.alert(this.validationErrorMessage);case 5:return f.wasMouseUsedLast()&&this.$refs.dateInput.$el.focus(),e.abrupt("return");case 7:return e.next=9,this.addTimeEntry(this.addTimeData);case 9:this.$emit("close");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getTodayDateString:function(){return c.getTodayIsoString()}}),components:{"date-input":p}}},dNTmH9MY6P:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){m.ensureInsideContainer(r(".taskMembersDialog"),{$container:r("body")})}var o=n("lRwfdXqfkY"),r=n("0iPhQ5GI5H"),s=n("3qmz3wED6s"),l=n("/SJJ953kd9"),u=n("hHlQBZdXtr"),c=n("QnI/8Tl65N"),d=n("NKFQkhZ/hO"),m=n("H/QV61slXi"),p=n("Gh3TGTRxcI");n("natLtIr/Gc"),n("GbcutZx8hN"),n("IpLvl/p887"),e.exports={props:["allUsers","allInvitations","canInviteMember","sendingInvite","dialogAppendTo","dialogPosition","pointerMode","confirmVisible","confirmHelpText","confirmButtonText","ROLES"],data:function(){return{users:u(this.allUsers),invitations:u(this.allInvitations),searchInputValue:"",searchInputHasFocus:!0,markedItemIndex:-1,isClosing:!1,moreMenuMember:null,inviteMemberEmailValue:"",inviteMemberEmailFocus:!1,inviteMemberVisible:!1}},computed:{footerVisible:function(){return this.canInviteMember||this.confirmVisible},searchInputValueLowerCase:function(){return this.searchInputValue.toLowerCase()},visibleUsers:function(){var e=this;return this.searchInputValueLowerCase?this.users.filter(function(t){return c(t.fullName,e.searchInputValueLowerCase)}):this.users},visibleInvitations:function(){var e=this;return this.searchInputValueLowerCase?this.invitations.filter(function(t){return c(t.email,e.searchInputValueLowerCase)}):this.invitations},visibleItems:function(){return[].concat(a(this.visibleUsers),a(this.visibleInvitations))},selectedUserIds:function(){return this.users.filter(function(e){return e.selected}).map(function(e){return e.userId})},selectedInvitations:function(){return this.invitations.filter(function(e){return e.selected})},members:function(){var e=this,t=[];return this.selectedUserIds.forEach(function(n){var a={userId:n};e.users.find(function(e){return e.userId===n}).role===e.ROLES.RESPONSIBLE&&(a.role=e.ROLES.RESPONSIBLE),t.push(a)}),this.selectedInvitations.forEach(function(n){var a={};n.boardInvitationId?a.boardInvitationId=n.boardInvitationId:n.organizationInvitationId&&(a.organizationInvitationId=n.organizationInvitationId),n.role===e.ROLES.PENDING_RESPONSIBLE&&(a.role=e.ROLES.RESPONSIBLE),t.push(a)}),t}},watch:{members:function(e){this.$emit("membersChange",e)},allInvitations:function(e){var t,n=this,o=this.invitations.filter(function(t){return!e.some(function(e){return e.boardInvitationId===t.boardInvitationId})});o.forEach(function(e){var t=n.invitations.findIndex(function(t){return t.boardInvitationId===e.boardInvitationId});n.invitations.splice(t,1)});var r=e.filter(function(e){return!n.invitations.some(function(t){return t.boardInvitationId===e.boardInvitationId})});(t=this.invitations).push.apply(t,a(u(r))),o.length?this.markedItemIndex=-1:r.length&&(this.markedItemIndex=this.visibleItems.length-1),setTimeout(i)},sendingInvite:function(e){var t=this;e||(this.inviteMemberEmailValue="",this.inviteMemberEmailFocus=!0,o.nextTick(function(){var e=t.$refs.members;e.scrollTop=e.scrollHeight}))},markedItemIndex:function(){var e=this;o.nextTick(function(){var t=e.$refs.members,n=t.querySelector(".taskMembersDialog-item--marked");n&&(e.searchInputHasFocus||e.inviteMemberEmailFocus||(e.visibleItems[e.markedItemIndex].focus=!0),p.scrollToShow(n,t)),e.markedItemIndex<0&&(e.searchInputHasFocus=!0)})}},methods:{itemFocus:function(e){this.markedItemIndex=this.visibleItems.indexOf(e)},itemBlur:function(e){e.focus=!1},searchInputFocus:function(){this.markedItemIndex=-1,this.searchInputHasFocus=!0},searchInputBlur:function(){this.searchInputHasFocus=!1},getItemClasses:function(e){var t=["taskMembersDialog-item"];return this.visibleItems.indexOf(e)===this.markedItemIndex&&t.push("taskMembersDialog-item--marked"),t},userCheckboxChange:function(e){e.selected||this.removeUserAsResponsible(e)},invitationCheckboxChange:function(e){e.selected||this.removeInvitationAsResponsible(e)},close:function(){this.isClosing||(this.isClosing=!0,this.$emit("close"))},moveSelectionDownKeyPressed:function(e){e.preventDefault(),this.markedItemIndex<this.visibleItems.length-1&&(this.markedItemIndex+=1)},moveSelectionUpKeyPressed:function(e){e.preventDefault(),this.markedItemIndex>=0&&(this.markedItemIndex-=1)},toggleMemberKeyPressed:function(e){if(!this.inviteMemberEmailFocus&&this.markedItemIndex>=0){e.preventDefault();var t=this.visibleItems[this.markedItemIndex];t.selected=!t.selected,t.userId?this.removeUserAsResponsible(t):(t.boardInvitationId||t.organizationInvitationId)&&this.removeInvitationAsResponsible(t)}},toggleResponsibleKeysPressed:function(e){if(this.markedItemIndex>=0){e.preventDefault();var t=this.visibleItems[this.markedItemIndex];t.userId?""===t.role?this.setUserAsResponsible(t):this.removeUserAsResponsible(t):(t.boardInvitationId||t.organizationInvitationId)&&(t.role===this.ROLES.PENDING?this.setInvitationAsResponsible(t):this.removeInvitationAsResponsible(t))}},moreClick:function(e){this.moreMenuMember=e},removeUserAsResponsible:function(e){var t=e.userId;this.users.find(function(e){return e.userId===t}).role=""},removeInvitationAsResponsible:function(e){var t=e.boardInvitationId,n=e.organizationInvitationId;this.findInvitation(t||n).role=this.ROLES.PENDING},setUserAsResponsible:function(e){var t=e.userId;this.resetMemberRoles();var n=this.users.find(function(e){return e.userId===t});n.role=this.ROLES.RESPONSIBLE,n.selected=!0},setInvitationAsResponsible:function(e){var t=e.boardInvitationId,n=e.organizationInvitationId;this.resetMemberRoles();var a=this.findInvitation(t||n);a.role=this.ROLES.PENDING_RESPONSIBLE,a.selected=!0},findInvitation:function(e){return this.invitations.find(function(t){return t.boardInvitationId===e||t.organizationInvitationId===e})},resetMemberRoles:function(){var e=this;this.invitations.forEach(function(t){t.role=e.ROLES.PENDING}),this.users.forEach(function(e){e.role=""})},buildContextMenu:function(e,t){var n=t.originalEvent;return(!this.pointerMode.wasTouchUsedLast()||!n)&&{items:function(e){var t=[];return e.role.toLowerCase().includes("responsible")?t.push({key:"removeAsResponsible",name:"Remove as responsible",icon:"taskUserNone"}):t.push({key:"setAsResponsible",name:"Set as responsible",icon:"setTaskResponsible"}),e.newInvite&&t.push({key:"cancelInvitation",name:"Cancel invitation",icon:"bin"}),t}(this.moreMenuMember)}},contextMenuItemClick:function(e){"setAsResponsible"===e?this.moreMenuMember.userId?this.setUserAsResponsible(this.moreMenuMember):this.setInvitationAsResponsible(this.moreMenuMember):"removeAsResponsible"===e?this.moreMenuMember.userId?this.removeUserAsResponsible(this.moreMenuMember):this.removeInvitationAsResponsible(this.moreMenuMember):"cancelInvitation"===e&&this.$emit("cancelBoardInvitation",this.moreMenuMember.boardInvitationId),this.moreMenuMember=null},onInviteMemberFocus:function(){this.inviteMemberEmailFocus=!0},onInviteMemberBlur:function(){this.inviteMemberEmailFocus=!1},inviteMember:function(){var e=this;if(this.inviteMemberEmailValue){var t=l.getUniqueValidEmails(this.inviteMemberEmailValue);if(0!==t.length){var n=t.filter(function(t){return!e.invitations.some(function(e){return e.email===t})&&!e.users.some(function(e){return e.email===t})});n.length?this.$emit("inviteEmails",n):(this.inviteMemberEmailValue="",this.inviteMemberEmailFocus=!0,this.invitations.filter(function(e){return t.some(function(t){return t===e.email})}).forEach(function(t,n){0===n&&(e.markedItemIndex=e.visibleItems.indexOf(t)),t.selected=!0}))}else d.alert("Please enter a correct email address",function(){e.inviteMemberEmailFocus=!0})}else this.inviteMemberEmailFocus=!0},inviteHereClick:function(){this.inviteMemberVisible=!0,this.inviteMemberEmailFocus=!0,o.nextTick(i)},confirmClick:function(){this.$emit("confirm",this.members),this.close()},submitPressed:function(){this.confirmVisible?this.confirmClick():this.close()}},mounted:function(){s.addContext({name:"taskMembersDialog",includeInputs:!0,map:{up:this.moveSelectionUpKeyPressed,down:this.moveSelectionDownKeyPressed,"space,enter":this.toggleMemberKeyPressed,"ctrl+space,cmd+space,shift+space":this.toggleResponsibleKeysPressed,"ctrl+enter,cmd+enter":this.submitPressed,esc:this.close}}),r.contextMenu({className:"taskMembersDialog-contextMenu",selector:".taskMembersDialog .icons-more",trigger:"left",zIndex:0,build:this.buildContextMenu,callback:this.contextMenuItemClick})},destroyed:function(){s.deleteContextByName("taskMembersDialog"),r.contextMenu("destroy",".taskMembersDialog .icons-more")}}},dV5nFHhTxp:function(e,t,n){"use strict";var a=n("JXMhLc2pVM"),i=n("EWUDtfBmmZ");e.exports=function(e){var t=e.users,n=i(["localAdd","localDelete"]);return{on:n.on,off:n.off,getById:function(e){for(var n=0,a=t.length;n<a;n++){var i=t[n];if(i._id===e)return i}},getAllOrderedByFullName:function(){return a(t,function(e){return e.fullName.toLowerCase()})},getUserCount:function(){return t.length},reloadWith:function(e){t=e},searchLocal:function(e){e=e.toLowerCase();var n=t.map(function(t){return{index:t.fullName.toLowerCase().indexOf(e),user:t}}).filter(function(e){return e.index>=0});return n.sort(function(e,t){var n=e.index-t.index;return 0===n?e.user.fullName.localeCompare(t.user.fullName):n}),n.map(function(e){return e.user})},localAdd:function(e){t.push(e),n.emit("localAdd",{userId:e._id})},localDeleteUserById:function(e){var a=t.findIndex(function(t){return t._id===e});a>=0&&(t.splice(a,1),n.emit("localDelete",{userId:e}))}}}},daBvwhfNte:function(e,t,n){"use strict";e.exports={model:{prop:"value",event:"change"},props:{label:{type:String,required:!0},options:{type:Array,default:function(){return[]}},optionGroups:{type:Array,default:function(){return[]}},value:{},loading:{type:Boolean,default:!1}},data:function(){return{selectFocus:!1}},computed:{selectedOption:function(){var e=this;if(this.optionGroups.length){var t=!0,n=!1,a=void 0;try{for(var i,o=this.optionGroups[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value,s=!0,l=!1,u=void 0;try{for(var c,d=r.options[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var m=c.value;if(m.value===this.value)return m}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}}return this.options.find(function(t){return t.value===e.value})},selectedText:function(){return this.loading?"Loading...":this.selectedOption?this.selectedOption.text:""},labelSelectClasses:function(){var e=["labelSelect"];return this.selectFocus&&e.push("labelSelect--hasFocus"),this.loading&&e.push("labelSelect--disabled"),e}},methods:{onSelectFocus:function(){this.selectFocus=!0},onSelectBlur:function(){this.selectFocus=!1},change:function(e){this.$emit("change",e.target.value)}}}},diVJQiejjc:function(e,t,n){"use strict";var a=n("Zz1PBJ8Ns9"),i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=["january","february","march","april","may","june","july","august","september","october","november","december"],r=365/12;e.exports=function(e,t){function n(){return function(e){var t=void 0;do{p(),t=b.valueOf()>e}while(!t)}(Date.now()),d()?null:u()}function s(e){var t=a(e);g&&t.utcOffset(g);var i=n();return!i||c(t)?[]:[i].concat(l(t))}function l(e){for(var t=[];b.isBefore(e)&&!d();)p(),d()||t.push(u());return t}function u(){return b.clone().toDate()}function c(e){return b.isAfter(e)}function d(){return w&&w<b.format("YYYY-MM-DD")}function m(e){return i.indexOf(e)}function p(){"daily"===I?b.add(y,"day"):function(){for(var e=function(){switch(I){case"weekly":return function(){var e=f(),t=T.days.length-1,n=b.clone();if(-1!==e)return e===t&&n.add(y-1,"weeks"),k(n);var a=7/T.days.length+7*(y-1);return n.add(Math.round(24*a),"hours")}();case"monthly":return function(){var e=f(),t=T.days.length-1,n=b.clone();if(-1!==e)return e===t&&n.add(y-1,"months").endOf("month"),k(n);var a=T.days[t];if("last"===a.order)return n.add(y-1,"months").endOf("month");var i=r/T.days.length;return b.date()+i>a.dayOfMonth&&(i+=r*(y-1)),n.add(Math.round(24*i),"hours")}();case"yearly":return function(){var e=f(),t=T.days.length-1,n=b.clone();if(-1!==e)return e===t&&n.add(y-1,"years"),k(n);var a=365/T.days.length+365*(y-1);return n.add(Math.round(24*a),"hours")}()}throw Error()}(),t=k(b),n=k(t);v(e,n)<v(e,t);)n=k(t=n);b=t}()}function f(){for(var e=0;e<T.days.length;e++){var t=T.days[e];if(t.dayOfWeek){if(t.order){if(h(b,t.order,t.dayOfWeek).date()===b.date())return e}else if(m(t.dayOfWeek)===b.day())return e}else if(t.dayOfMonth){if(t.dayOfMonth===b.date())return e}else if("last"===t.order&&b.clone().endOf("month").date()===b.date())return e}return-1}function h(e,t,n){var a="workday"===n?function(e){for(var t=e.month(),n=e.clone().startOf("month"),a=[];n.month()===t;){var i=n.day();6===i||0===i||a.push(n.clone()),n.add(1,"day")}return a}(e):function(e,t){var n=e.clone().startOf("month").day(t),a=[];do{n.month()===e.month()&&a.push(n.clone()),n.add(1,"week")}while(n.format("YYYY-MM")<=e.format("YYYY-MM"));return a}(e,n);switch(t){case"first":return a[0];case"second":return a[1];case"third":return a[2];case"fourth":return a[3];case"last":return a[a.length-1]}throw Error()}function v(e,t){return Math.abs(e.diff(t))}function k(e){var t=T.days.map(function(t){var n=e.clone(),a=function(e){if(e.month)return function(t){return t.month()===o.indexOf(e.month)&&t.date()===e.dayOfMonth};if(e.dayOfWeek)return e.order?function(t){return t.date()===h(t,e.order,e.dayOfWeek).date()}:function(t){var n=m(e.dayOfWeek);return t.day()===n};if(e.dayOfMonth)return function(t){return t.date()===e.dayOfMonth};if("last"===e.order)return function(e){return e.date()===e.clone().endOf("month").date()};throw Error()}(t);do{n.add(1,"day")}while(!a(n));return n});return t.sort(function(e,t){return e.valueOf()-t.valueOf()}),t[0]}if(!e.repeat)throw Error("Due date is not repeating");var g=(t=t||{}).timezoneOffset,b=a(e.dueTimestamp);g&&b.utcOffset(g);var T=e.repeat,y=T.interval||1,I=T.type,w=T.endDate;return{next:n,nextUntil:s,between:function(e,t){var n=a(e),i=a(t);if(g&&(n.utcOffset(g),i.utcOffset(g)),!n.isAfter(b))return s(i);for(;b.isBefore(n);)p();return d()||c(i)?[]:[u()].concat(l(i))}}}},disOzLuW6F:function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div data-bind="stopBindingBelow: true"><div data-bind="style: style, visible: visible, clickOutsideToClose: { showing: visible }" class="repeatingTaskEdit-yearDateEdit repeatingTaskEdit-popOver"><div class="repeatingTaskEdit-popOver-arrow"></div><span> <select class="repeatingTaskEdit-yearDateEdit-dayOfMonth repeatingTaskEdit-select" data-bind="value: dayOfMonth, options: dayOfMonthOptions, optionsText: \'text\', optionsValue: \'value\', hasFocus: dayOfMonthFocus"></select>\n <select class="repeatingTaskEdit-yearDateEdit-month repeatingTaskEdit-select" data-bind="value: month, options: monthOptions, optionsText: \'text\', optionsValue: \'value\'"></select></span></div></div>'),t.join("")}},"dtkNIaXL+8":function(e,t,n){var a=n("p/s95OEyJI"),i=n("d05+lqiLYw");e.exports=function(e,t,n,o){var r=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),r?i(n,u,c):a(n,u,c)}return n}},e9BN1NVXjs:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("wlHWxIVpXo"),n("NmaC2/cCdd"),!1,null,null,null);e.exports=a.exports},eDMz2kV05f:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("ksiZ/Wws4x");e.exports=function(e){var t=function(){var e=a(regeneratorRuntime.mark(function e(t){var n=t.commit,a=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n("SET_LOADING_ASYNC_SECTIONS",!0),e.next=3,a("loadAsyncSections");case 3:n("SET_LOADING_ASYNC_SECTIONS",!1);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t){var n,a,i=t.getters,o=(t.commit,t.dispatch);return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.task,a=[],n.hasComments&&a.push(o("comments/loadComments",null,{root:!0})),u&&(n.hasRelations&&a.push(o("relations/loadRelations",null,{root:!0})),n.hasAttachments&&a.push(o("files/loadAttachments",null,{root:!0}))),!a.length){e.next=7;break}return e.next=7,Promise.all(a);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o=e.boardColumnRepository,r=e.moveTaskController,s=e.copyTaskDialog,l=e.swimlanes,u=e.isPremium;return{namespaced:!0,state:{boardColumns:o.getAll().map(function(e){return{columnId:e.uniqueId,name:e.name,groupByDate:e.groupByDate}}),editNameVisible:!1,editNameFocus:!1,editNameValue:"",loadingAsyncSections:!1,editDescriptionVisible:!1,editDescriptionFocus:!1,editDescriptionValue:"",editDateVisible:!1},getters:{task:function(e,t,n){return n.task},taskColor:function(e,t){return t.task.color},columnName:function(e,t){return e.boardColumns.find(function(e){return e.columnId===t.task.columnId}).name},swimlaneName:function(e,t){var n=l.find(function(e){return i(e.uniqueId,t.task.swimlaneId)});return n?n.name:""},hasUnsavedName:function(e,t){return!!e.editNameVisible&&e.editNameValue!==t.task.name},hasUnsavedDescription:function(e,t){return!!e.editDescriptionVisible&&e.editDescriptionValue!==t.task.description}},mutations:{SET_LOADING_ASYNC_SECTIONS:function(e,t){e.loadingAsyncSections=t},EDIT_DESCRIPTION:function(e,t){e.editDescriptionVisible=!0,e.editDescriptionFocus=!0,e.editDescriptionValue=t},SET_EDIT_DESCRIPTION_VISIBLE:function(e,t){e.editDescriptionVisible=t},SET_EDIT_DESCRIPTION_FOCUS:function(e,t){e.editDescriptionFocus=t},SET_EDIT_DESCRIPTION_VALUE:function(e,t){e.editDescriptionValue=t},EDIT_NAME:function(e,t){e.editNameVisible=!0,e.editNameFocus=!0,e.editNameValue=t},SET_EDIT_NAME_VISIBLE:function(e,t){e.editNameVisible=t},SET_EDIT_NAME_FOCUS:function(e,t){e.editNameFocus=t},SET_EDIT_NAME_VALUE:function(e,t){e.editNameValue=t},SET_EDIT_DATE_VISIBLE:function(e,t){e.editDateVisible=t}},actions:{updateSectionVisibility:function(e){var t=e.getters,n=e.commit,a=e.dispatch,i=t.task;i.subTasks.length&&n("subTasks/SET_VISIBLE",!0,{root:!0}),i.hasComments&&n("comments/SET_VISIBLE",!0,{root:!0}),u&&(i.hasAttachments&&n("files/SET_VISIBLE",!0,{root:!0}),i.hasRelations&&n("relations/SET_VISIBLE",!0,{root:!0})),a("labels/updateVisibility",null,{root:!0}),a("members/updateVisible",null,{root:!0})},loadAsyncSectionsWithLoadingIndicator:t,loadAsyncSections:n,editDescription:function(e){(0,e.commit)("EDIT_DESCRIPTION",e.getters.task.description||"")},showMoveAdvancedDialog:function(e,t){var n=e.getters,a=t.position,i=t.onClose;r.showMoveAdvanced(n.task.taskId,{appendTo:".appendWrapper",position:a,onClose:i})},showCopyTaskDialog:function(e,t){var n=e.getters,a=t.position;s.showForTaskId(n.task.taskId,{appendTo:".appendWrapper",position:a})}}}}},eRPlM76AxR:function(e,t,n){"use strict";e.exports=function(){return{namespaced:!0,state:{addVisible:!1},mutations:{SET_ADD_VISIBLE:function(e,t){e.addVisible=t}}}}},eT8iNZssPQ:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("HA6ZraVUS1"),n("6lht2Qe5Zr"),!1,null,null,null);e.exports=a.exports},"eY/7mbkRsw":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"container",staticClass:"repeatingTaskEdit-container"},[t("div",{attrs:{"data-bind":'component: { name: "repeating-task-edit", params: repeatParams }'}})])},staticRenderFns:[]}},eqPSidx1wj:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("fi3JK86/f7"),r=n("SJI6FcOvAZ").createNamespacedHelpers("comments").mapGetters,s=n("upPpwHBwSd"),l=n("NKFQkhZ/hO");n("gRduait4db"),n("rMbwGI5Er7"),n("N3+y4Czoja");var u=void 0;e.exports={props:{value:{default:"",type:String},renderHtml:{default:o.render,type:Function},doneText:{default:"Save",type:String},allowEmpty:{default:!1,type:Boolean},placeholder:{default:"Add text...",type:String},focus:{default:!1,type:Boolean},inputClass:{type:String},onCancel:{type:Function},onDone:{type:Function},showActionButtons:{default:!0,type:Boolean},autoHide:{default:!0,type:Boolean},completeSettings:{type:Object},highlightSettings:{type:Object}},data:function(){return{editorFocus:this.focus,inputValue:this.value,inputFocus:this.focus,preview:!1,saving:!1}},computed:i({},r(["taskColor"]),{trimmedValue:function(){return this.inputValue.trim()},textEditorClasses:function(){var e=["taskDetails-textEditor"];return this.inputActive&&e.push("taskDetails-textEditor--inputActive"),this.showActionButtons||e.push("taskDetails-textEditor--noActionButtons"),e},writeTabClasses:function(){var e=["taskDetails-textEditorTab"];return this.preview||e.push("taskDetails-textEditorTab--selected"),e},previewTabClasses:function(){var e=["taskDetails-textEditorTab"];return this.preview&&e.push("taskDetails-textEditorTab--selected"),e},previewClasses:function(){var e=["taskDetails-textEditorPreview markdown"];return this.inputClass&&e.push(this.inputClass),e},inputClasses:function(){var e=["taskDetails-textEditorInput"];return this.inputClass&&e.push(this.inputClass),e},previewHtml:function(){return this.trimmedValue?this.renderHtml(this.trimmedValue):"<em>Nothing to preview</em>"},inputActive:function(){return!this.autoHide||this.editorFocus||this.trimmedValue.length>0},doneDisabled:function(){return!!this.saving||!this.allowEmpty&&0===this.trimmedValue.length},formattingTooltipHtml:function(){return["<strong>Bold:</strong> *text*","<strong>Emphasis:</strong> _text_","<strong>Strikethrough:</strong> ~text~","<strong>Link:</strong> <span>[My link](http://example.com)</span>","<strong>Image:</strong> <span>![My image](http://example.com/image.png)</span>","<strong>Quote:</strong> > text","<strong>List:</strong>"," * Item 1 "," * Item 2 ","<strong>Numbered list:</strong>"," 1. Item 1 "," 2. Item 2 ","<strong>Inline code:</strong> `text`","<strong>Code block:</strong>","```","text","```"].join("<br>")}}),watch:{focus:function(e){this.inputFocus=e},editorFocus:function(e){e?document.addEventListener("click",this.documentClick,!0):document.removeEventListener("click",this.documentClick,!0)}},methods:{onInput:function(){this.$emit("input",this.trimmedValue)},onInputFocus:function(){this.$emit("focus"),this.inputFocus=!0,this.editorFocus=!0},onInputBlur:function(){this.$emit("blur"),this.inputFocus=!1},previewContentClick:function(e){window.getSelection().toString().length>0||function(e){return"A"===e.nodeName}(e.target)||this.editAndFocusInput()},editAndFocusInput:function(){var e=this;this.preview=!1,this.$nextTick(function(){e.inputFocus=!0})},previewClick:function(){this.preview=!0},inputEscapePress:function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.blur(),this.showActionButtons){e.next=3;break}return e.abrupt("return");case 3:if(this.trimmedValue!==this.value){e.next=7;break}this.cancel(),e.next=11;break;case 7:return e.next=9,l.customModal({html:"Discard unsaved changes?",buttons:[{text:"Cancel"},{text:"Discard",type:"danger"}]});case 9:"Discard"===(n=e.sent)?this.cancel():this.inputFocus=!0;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),cancel:function(){this.showActionButtons&&this.onCancel&&(this.onCancel(),this.reset())},done:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.showActionButtons){e.next=2;break}return e.abrupt("return");case 2:if(!l.isModalShowing()){e.next=4;break}return e.abrupt("return");case 4:if(!this.onDone){e.next=10;break}return this.saving=!0,e.next=8,this.onDone(this.trimmedValue);case 8:this.saving=!1,this.reset();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),reset:function(){this.editorFocus=!1,this.preview=!1,this.inputValue=""},documentClick:function(e){l.isModalShowing()||this.$refs.editor.contains(e.target)||(this.editorFocus=!1,0===this.trimmedValue.length&&(this.preview=!1),this.$emit("clickOutside",this.trimmedValue))}},mounted:function(){var e=this;u=setTimeout(function(){e.editorFocus&&document.addEventListener("click",e.documentClick,!0)})},destroyed:function(){clearTimeout(u),document.removeEventListener("click",this.documentClick,!0)},components:{"text-highlight":s}}},"eu8k+Qqs5O":function(e,t,n){"use strict";function a(){function e(){g.forEach(function(e){e()})}function t(){return Object.keys(v).some(function(e){return!!v[e]})}function n(t){v.userId!==t&&(v.userId=t,e())}function a(){n(null)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;v.color!==t&&(v.color=t,e())}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.startTimestamp,a=void 0===n?null:n,i=t.endTimestamp,o=void 0===i?null:i,r=t.showNoDueDates,s=void 0!==r&&r;(v.dueDateStartTimestamp!==a||v.dueDateEndTimestamp!==o||v.dueDateShowNoDueDates!==s)&&(v.dueDateShowNoDueDates=s,v.dueDateStartTimestamp=a,v.dueDateEndTimestamp=o,e())}function c(){u({})}function d(){l(null)}function m(t){(function(e,t,n){return!(!e||!t||e.length!==t.length)&&e.every(function(e,a){return n(e,t[a])})})(t,v.labelNames,f)||(t&&t.length?v.labelNames=t.slice():v.labelNames=null,e())}function p(){m(null)}function f(e,t){return e.toLowerCase()===t.toLowerCase()}var h=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).timerStateController,v={color:null,userId:null,dueDateStartTimestamp:null,dueDateEndTimestamp:null,dueDateShowNoDueDates:!1,labelNames:null},k=[function(e){return!!v.color&&e.color!==v.color},function(e){return!!v.userId&&(v.userId===r?!!e.responsibleUserId||e.collaborators.length>0:(v.userId!==s||!function(e){return h.getValidTaskClients(e._id).length>0}(e))&&v.userId!==e.responsibleUserId&&e.collaborators.every(function(e){return e.userId!==v.userId}))},function(e){var t=e.dates;if(v.dueDateShowNoDueDates)return t.length>0;var n=Date.parse(v.dueDateStartTimestamp),a=Date.parse(v.dueDateEndTimestamp);return!(!n&&!a||0!==t.length&&t.some(function(e){if("active"!==e.status)return!1;var t=Date.parse(e.dueTimestamp);return!(n&&n>t||a&&a<t)}))},function(e){return!(!v.labelNames||0===v.labelNames.length||v.labelNames.some(function(t){return e.labels.some(function(e){return f(e.name,t)})}))}],g=[];return{onUpdate:function(e){g.push(e)},offUpdate:function(e){var t=g.indexOf(e);t>=0&&g.splice(t,1)},isAnyFilterActive:t,isTaskHiddenByFilter:function(e){return k.some(function(t){return t(e)})},setUserFilter:n,getRealUserIdFilterOrNull:function(){var e=v.userId;return e===r?null:e===s?null:e},getUserFilterOrNull:function(){return v.userId},clearUserFilter:a,setColorFilter:l,setDueDateFilter:u,clearDueDateFilter:c,getColorFilterOrNull:function(){return v.color},clearColorFilter:d,setLabelFilter:m,getLabelFilterOrNull:function(){return v.labelNames?v.labelNames.slice():null},clearLabelFilter:p,clearAllFilters:function(){t()&&(a(),c(),d(),p())},getMemento:function(){return i(v)},restoreFromMemento:function(t){o(t,v)||(v=i(t),e())}}}var i=n("hHlQBZdXtr"),o=n("R6wa7XS/Su"),r="UNASSIGNED_USER";a.UNASSIGNED_USER=r;var s="TIMER_USERS";a.TIMER_USERS=s,e.exports=a},ezFZFTXFaZ:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{elementClass:"manageSubTaskListTemplates",title:"Manage templates",appendTo:".appendWrapper",position:e.position},on:{closed:e.close}},[n("div",{staticClass:"taskDetails-formRow"},[n("ul",{ref:"templateList",staticClass:"manageSubTaskListTemplates-templates",attrs:{tabindex:"0"}},e._l(e.subTaskListTemplates,function(t){return n("li",{key:t._id,staticClass:"manageSubTaskListTemplates-template"},[t===e.renameTemplateItem?[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.renameTemplateName,expression:"renameTemplateName",modifiers:{trim:!0}}],ref:"editTemplateNameInput",refInFor:!0,staticClass:"manageSubTaskListTemplates-editTemplateName",attrs:{maxlength:"50"},domProps:{value:e.renameTemplateName},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;t.preventDefault(),t.stopPropagation(),e.cancelRenameTemplate(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault(),e.renameTemplateDone(t)}],blur:[e.renameTemplateBlur,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.renameTemplateName=t.target.value.trim())}}}),e._v(" "),n("i",{staticClass:"manageSubTaskListTemplates-editTemplateNameDone taskDetails-doneIcon icons--button icons-done"})]:[n("div",{staticClass:"manageSubTaskListTemplates-templateText",on:{click:function(n){e.templateNameClick(t,n)}}},[n("span",{staticClass:"manageSubTaskListTemplates-templateName"},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"manageSubTaskListTemplates-templateSubTaskCount"},[e._v(" ("+e._s(t.subTaskNames.length)+")")])]),e._v(" "),n("button",{ref:"templateMoreIcon-"+t._id,refInFor:!0,staticClass:"manageSubTaskListTemplates-templateMore taskDetails-moreIcon icons--button icons-more icons-gray",on:{keydown:[function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13,n.key))return null;n.preventDefault(),n.stopPropagation(),e.templateEnterOrSpaceKeydown(t)},function(n){if(!("button"in n)&&e._k(n.keyCode,"space",32,n.key))return null;n.preventDefault(),n.stopPropagation(),e.templateEnterOrSpaceKeydown(t)}],click:function(n){e.templateMoreClick(t)}}})]],2)}))]),e._v(" "),e.templateMoreMenuItem?n("kf-menu",{attrs:{position:e.moreMenuPosition},on:{close:e.templateMoreMenuClose}},[n("item",{attrs:{text:"Rename"},on:{click:e.renameTemplateClick}}),e._v(" "),n("item",{attrs:{text:"Use"},on:{click:e.useTemplateClick}}),e._v(" "),n("item",{attrs:{text:"Delete"},on:{click:e.deleteSubTaskListTemplateClick}})],1):e._e()],1)},staticRenderFns:[]}},"f4Fl+w9HTq":function(e,t,n){var a=n("Jpv1OAiBRi"),i=n("qXFaSQhjQe"),o=n("KRxTYLRynm");e.exports=function(e,t){return o(i(e,t,a),e+"")}},fLfTBDcZUO:function(e,t,n){var a=n("bViCOLaR5Y")(n("MIhMQmxRht"),"DataView");e.exports=a},fMV8VCuCR1:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-property"},[t("label",{staticClass:"taskDetails-propertyLabel"},[this._v("Members")]),this._v(" "),t("div",{staticClass:"taskDetails-propertyValue"},[t("member-list")],1)])},staticRenderFns:[]}},"fi3JK86/f7":function(e,t,n){"use strict";var a=n("Y9QCbSuqqQ");e.exports={render:function(e){return a(e,{sanitize:!0,openLinksInNewWindow:!0})}}},fkNGPuT49E:function(e,t,n){"use strict";function a(e){try{return e()}catch(e){var t='<p>Please contact <a href="mailto:support@kanbanflow.com">support@kanbanflow.com</a> if it happens multiple times for you.</p><strong>Debug information</strong><br>'+function(e){var t=[];return e.message&&t.push(e.message),e.stack&&t.push(e.stack),0===t.length&&t.push(""+e),t}(e).map(function(e){return o.encode(e)}).join("<br>").replace(/\n/g,"<br>");throw i.customModal({title:"Unexpected error",html:t,buttons:[{text:"OK"}]}),e}}var i=n("NKFQkhZ/hO"),o=n("zCnJNEeu5Z");e.exports={runFunction:a,wrapFunction:function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return a(function(){return e.apply(void 0,n)})}}}},"flKM7i/76V":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("qdXQDG+jsR"),n("EC2mEZ4MOq"),!1,null,null,null);e.exports=a.exports},foQeKsapDE:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("dueDates"),s=r.mapState,l=r.mapGetters,u=r.mapMutations,c=r.mapActions,d=n("flKM7i/76V"),m=n("utzbvpgxGf"),p=n("WbZhUyZtRc"),f=n("LID5hgrivl"),h=f.$,v=f.$$,k=n("NKFQkhZ/hO");e.exports={computed:a({},o(["readOnly"]),s(["boardColumns","editIndex"]),l(["dueDates"]),{editDueDate:function(){return this.dueDates[this.editIndex]},columns:function(){return this.boardColumns.map(function(e){return{uniqueId:e.columnId,name:e.name}})}}),methods:a({},u({setEditIndex:"SET_EDIT_INDEX"}),c(["deleteDueDate","updateDueDate"]),{getTitle:function(e){var t=[e.dueText+" ("+e.targetColumnName+")"];if(e.repeat){var n=p({repeat:e.repeat,columns:this.columns});t.push(n.getDescriptionText())}return t.join("\n")},getDueDateClasses:function(e){var t=["taskDetails-dueDate"];return e.overdue?t.push("taskDetails-dueDate--overdue"):e.done&&t.push("taskDetails-dueDate--done"),this.hasRepeatCopy(e)&&t.push("taskDetails-dueDate--hasCopy"),t},getDueDateContentClasses:function(e){var t=["taskDetails-dueDateContent taskDetails-editableProperty truncate"];return e===this.editIndex&&t.push("taskDetails-editableProperty--active"),t},hasRepeatCopy:function(e){return!(!e.repeat||!e.repeat.copyTaskId)},getDueDateElementAtIndex:function(e){return v(".taskDetails-dueDateContent")[e]},getEditDueDatePosition:function(){return{my:"left top",at:"left bottom",of:this.getDueDateElementAtIndex(this.editIndex)}},editDueDateClose:function(){var e=this;if(this.focusDateOnDone){this.focusDateOnDone=!1;var t=this.editIndex;this.$nextTick(function(){(e.getDueDateElementAtIndex(t)||h(".taskDetails")).focus()})}this.setEditIndex(-1)},showEditDueDate:function(e){this.readOnly||this.setEditIndex(e)},showEditDueDateFromKeyboard:function(e){this.readOnly||(this.focusDateOnDone=!0,this.showEditDueDate(e))},editDueDateDone:function(e){this.updateDueDate(a({index:this.editIndex},e)),this.editDueDateClose()},editDueDateDelete:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.confirm("Are you sure you want to delete the due date?");case 2:(n=e.sent)&&(this.deleteDueDate(t),this.editDueDateClose());case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),editDueDateDialogVisibleForIndex:function(e){var t=this.dueDates[e];return e===this.editIndex&&!t.done},isMenuEnabledForIndex:function(e){return this.dueDates[e].done}}),components:{"edit-due-date":d,"kf-menu":m}}},fwYFHR3qR0:function(e,t,n){var a=n("Xk23d7c+U8"),i=n("K9uVF6Fx4i"),o=n("wtMJ/hzHVj");e.exports=function(e,t){var n=this.__data__;if(n instanceof a){var r=n.__data__;if(!i||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(e,t),this.size=n.size,this}},"g/ihlJRoIz":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("UG0H9LhPf+"),n("QIo6QdJuVq"),!1,null,null,null);e.exports=a.exports},g4htqslKNg:function(e,t,n){"use strict";e.exports=function(e){if("function"==typeof Event)return new Event(e);var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}},"gL+JUHZP0k":function(e,t,n){"use strict";function a(e,t){if(e===t)return!1;var n=Object.prototype.toString.call(e);if(n!==Object.prototype.toString.call(t))return!0;if("[object Array]"===n){if(e.length!==t.length)return!0;for(var o=0,r=e.length;o<r;o++)if(a(e[o],t[o]))return!0}if("[object Date]"===n)return e.toString()!==t.toString();var s=void 0;if("object"===(void 0===e?"undefined":i(e))){for(s in e)if(e.hasOwnProperty(s)&&a(e[s],t[s]))return!0;for(s in t)if(t.hasOwnProperty(s)&&a(e[s],t[s]))return!0;return!1}return JSON.stringify(e)!==JSON.stringify(t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={getDiff:function(e){var t={},n=e.oldObj,i=e.newObj,o=void 0;for(o in n)if(n.hasOwnProperty(o)){var r=n[o],s=i[o];a(r,s)&&(t[o]=void 0===s?null:s)}for(o in i)i.hasOwnProperty(o)&&void 0===n[o]&&(t[o]=i[o]);return t}}},"gPaA+mtuaN":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.classes},[this.fileIsOver?t("div",{staticClass:"fileDropZone-fileIsOver"},[t("div",{staticClass:"fileDropZone-fileIsOverText"},[this._v("\n            Drop the file to upload\n        ")])]):this._e()])},staticRenderFns:[]}},gRduait4db:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("lRwfdXqfkY");n("5NmzUcivbB"),i.directive("tooltip",{inserted:function(e,t){var n=a(e),i=t.value;"function"==typeof i?(n.on("powerTipPreRender",function(){n.data("powertip",i())}),n.data("powertip",i())):n.data("powertip",i),n.powerTip({smartPlacement:!0})},update:function(e,t){var n=a(e),i=t.value;"function"==typeof i?(n.off("powerTipPreRender"),n.on("powerTipPreRender",function(){n.data("powertip",i())}),n.data("powertip",i())):n.data("powertip",i)}})},"gRk/JqyF4t":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{class:e.taskListCellClasses,style:e.inlineStyle,attrs:{"data-columnId":e.column.columnId}},[n("div",{staticClass:"board-taskListCell-inner"},[n("div",{staticClass:"board-taskListCellHeader"},[n("div",{staticClass:"board-taskListCellHeader-inner"},[e.taskCountVisible?n("div",{staticClass:"board-taskListCellHeader-taskCount",attrs:{title:e.headerCountTitle},on:{click:e.expandCell}},[e._v("\n                    "+e._s(e.taskCountText)+"\n                ")]):e._e(),e._v(" "),e.countAndLimitVisible?n("div",{staticClass:"board-taskListCellHeader-countAndLimit",attrs:{title:e.countAndLimitTitle},on:{click:e.expandCell}},[e._v("\n                    "+e._s(e.countAndLimitText)+"\n                ")]):e._e(),e._v(" "),e.cell.totalOverdueCount?n("div",{staticClass:"board-overdueIndicator",attrs:{title:e.overdueIndicatorTitle},on:{click:e.overdueIndicatorClick}},[e._v("\n                    "+e._s(e.overdueIndicatorText)+"\n                ")]):e._e(),e._v(" "),e.addTaskButtonVisible?n("button",{staticClass:"board-taskListCellHeader-addTask icons-plus icons-green",attrs:{"aria-label":"Add task"},on:{click:e.addTaskClick}}):e._e(),e._v(" "),e.cell.addTaskKeyHintVisible?n("div",{staticClass:"swimlane-keyHintWrapper"},[n("div",{staticClass:"swimlane-keyHint",attrs:{"data-columnId":e.cell.columnId,"data-swimlaneId":e.cell.swimlaneId,"data-key":e.cell.addTaskKeyHint}},[e._v("\n                        "+e._s(e.cell.addTaskKeyHint)+"\n                    ")])]):e._e()])]),e._v(" "),n("div",{staticClass:"board-collapsedColumnName",on:{click:e.collapsedColumnNameClick}},[n("div",{staticClass:"collapsed-info-wrapper"},[n("div",{staticClass:"collapsed-info-rotation"},[n("h2",{staticClass:"collapsed-info-title",attrs:{title:e.collapsedInfoTitle}},[e._v(e._s(e.column.name))])])])]),e._v(" "),e.column.canSortTasks?n("task-list-sortable",{attrs:{hasSwimlanes:e.hasSwimlanes,selectedTaskIds:e.selectedTaskIds},on:{start:e.taskSortStart,stop:e.taskSortStop}},[n("task-list",{attrs:{taskGroups:e.cell.taskGroups,groupByDate:e.column.groupByDate,showMoreButtonVisible:e.cell.showMoreButtonVisible},on:{taskClick:e.taskClick,taskListDoubleClick:e.taskListDoubleClick,setSubTaskFinishedForTask:e.setSubTaskFinishedForTask,showMoreTasks:e.showMoreTasks}})],1):n("task-list",{attrs:{taskGroups:e.cell.taskGroups,groupByDate:e.column.groupByDate,showMoreButtonVisible:e.cell.showMoreButtonVisible},on:{taskClick:e.taskClick,taskListDoubleClick:e.taskListDoubleClick,setSubTaskFinishedForTask:e.setSubTaskFinishedForTask,showMoreTasks:e.showMoreTasks}})],1)])},staticRenderFns:[]}},"gTE+cd9jss":function(e,t,n){var a=n("bViCOLaR5Y")(n("MIhMQmxRht"),"Promise");e.exports=a},gjMZL4wkyC:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"boardWrapper",class:e.boardWrapperClasses,attrs:{id:"board-wrapper"},on:{scroll:e.boardWrapperScroll}},[n("div",{attrs:{id:"board-wrapper-innerHeight"}}),e._v(" "),n("div",{staticClass:"board-wrapper-inner"},[n("table",{class:e.boardTableClasses,attrs:{id:"board-table"}},[n("thead",[n("tr",[e.hasSwimlanes?n("td",{staticClass:"board-swimlane-topEmpty"}):e._e(),e._v(" "),e._l(e.columns,function(t){return n("column-header",{key:t.columnId,class:e.getColumnHeaderClasses(t),attrs:{column:t,collapsedColumnIds:e.collapsedColumnIds,hasSwimlanes:e.hasSwimlanes,frozen:e.columnHeaderIsFrozen,boardScrollTop:e.scrollTop,boardScrollLeft:e.scrollLeft,someCellTaskLimitExceeded:e.isTaskLimitExceededForSomeCellInColumn(t)},on:{nameClick:e.columnHeaderNameClick,descriptionIconClick:e.columnHeaderDescriptionIconClick,taskCountClick:e.columnHeaderTaskCountClick,addTaskClick:e.addTaskInColumnClick}})})],2)]),e._v(" "),n("tbody",e._l(e.swimlanes,function(t){return n("tr",{key:t.swimlaneId,class:e.getSwimlaneRowClasses(t),attrs:{"data-swimlaneId":t.swimlaneId}},[e.hasSwimlanes?n("swimlane-header",{attrs:{swimlane:t},on:{resize:e.swimlaneResize,nameClick:e.swimlaneNameClick,descriptionIconClick:e.swimlaneDescriptionIconClick,expandIconClick:e.expandSwimlaneIconClick}}):e._e(),e._v(" "),e._l(e.columns,function(a){return n("task-list-cell",{key:a.columnId,class:e.getTaskListCellClasses(a),attrs:{column:a,swimlane:t,cell:e.getCell(a.columnId,t.swimlaneId)},on:{expandCell:e.expandCell,collapsedColumnNameClick:e.collapsedColumnNameClick,taskClick:e.taskClick,taskListDoubleClick:e.taskListDoubleClick,setSubTaskFinishedForTask:e.setSubTaskFinishedForTask,addTaskClick:e.addTaskInCellClick,taskSortStop:e.taskSortStop}})})],2)}))])]),e._v(" "),e.addTaskKeyboardShortcutInstructionsVisible?n("body-append",[n("div",{staticClass:"board-keyShortcutOverlay"}),e._v(" "),n("div",{staticClass:"board-keyShortcutInstructionWrapper"},[e.addTaskToColumnKeyboardShortcutInstructionsVisible?n("div",{staticClass:"board-keyShortcutInstruction"},[e._v("\n                Press the number belonging to the column where you want to add your task (ESC = cancel)\n            ")]):e._e(),e._v(" "),e.addTaskToSwimlaneKeyboardShortcutInstructionsVisible?n("div",{staticClass:"board-keyShortcutInstruction"},[e._v("\n                Press the number belonging to the swimlane where you want to add your task (ESC = cancel)\n            ")]):e._e()])]):e._e()],1)},staticRenderFns:[]}},"gmQJJi80S/":function(e,t,n){var a=n("f4Fl+w9HTq"),i=n("R62eDX75PD");e.exports=function(e){return a(function(t,n){var a=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,s&&i(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++a<o;){var l=n[a];l&&e(t,l,a,r)}return t})}},gmTfqrblK1:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"relationsSection",staticClass:"taskDetails-relationsSection taskDetails-section",attrs:{id:"taskDetails-relationsSection"}},[n("div",{staticClass:"taskDetails-sectionHeader"},[e._m(0),e._v(" "),n("h3",{staticClass:"taskDetails-sectionTitle"},[e._v("Relations")]),e._v(" "),e.relationCount?n("span",{staticClass:"taskDetails-sectionHeaderSecondaryText"},[e._v("\n            "+e._s(e.relationCount)+"\n        ")]):e._e(),e._v(" "),n("button",{staticClass:"taskDetails-relationsChangeView button button--right button--link",on:{click:e.changeViewClick}},[e._v("\n            "+e._s(e.changeViewText)+"\n        ")])]),e._v(" "),n("div",{staticClass:"taskDetails-sectionContent"},[e.loadFailed?n("span",{staticClass:"taskDetails-errorMessage"},[e._v("\n            Failed to load relations\n        ")]):e.loadingAsyncSections?n("div",{staticClass:"loading loading--noText"},[n("div",{staticClass:"loadingSpinner loadingSpinner--semiTransparent"})]):["list"===e.view?n("relation-list",{on:{showAddRelation:e.showAddRelation}}):e._e(),e._v(" "),"board"===e.view?n("board-view",{on:{showAddRelation:e.showAddRelation}}):e._e(),e._v(" "),e.addRelationVisible?n("add-relation",{attrs:{position:e.addRelationButtonPosition,boardId:e.addRelationBoardId,elementClass:"taskDetails-relationsSection-addRelationDialog"},on:{close:e.hideAddRelation}}):e._e()]],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-iconWrapper"},[t("i",{staticClass:"taskDetails-sectionHeaderIcon icons-task-relations"})])}]}},grJi43wAtN:function(e,t,n){"use strict";var a=n("hHlQBZdXtr"),i=n("OJqx+78Y+a"),o=n("E1yQowl3IB"),r=n("EWUDtfBmmZ");e.exports=function(e){function t(e){d.emit("repeatingTaskCopied",e)}function n(e,t){var n=s.getTaskById(e.taskId);c.interceptTaskChanges(n,e.taskData,function(n,i){if(n)return t(n);if(i){var o=a(e);o.taskData=i,t(null,o)}else t()})}var s=e.taskRepository,l=e.columns,u=e.taskSortOrderGenerator,c=o({getTaskById:function(e,t){t(null,s.getTaskById(e))},saveTask:function(e,t,n){s.saveTask(e,t,n)},columns:l,getSortOrderForPlacingInCell:function(e,t,n){n(null,u.generateSortOrderForAddingTaskToCell({columnId:e,swimlaneId:t}))},deepClone:a,copyTask:function(e){return i.copy(e)}}),d=r.createStandalone(["repeatingTaskCopied"]);return{on:d.on,init:function(){c.on("repeatingTaskCopied",t),s.addInterceptor("merge",n)}}}},"gs1Kw+19DF":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t,a=[],i=e||{};return function(i){a.push('<div class="premiumInfoDialog"><div class="fullScreenDialog-header premiumInfoDialog-header"><div class="fullScreenDialog-toolbar-left"><button data-bind="visible: mainLinkVisible, click: viewMainClicked" class="premiumInfoDialog-mainLink"><i class="icons-arrowhead-down icons-white"></i><span class="premiumInfoDialog-mainLinkText">Back</span></button></div><h2 class="fullScreenDialog-title premiumInfoDialog-title">KanbanFlow Premium</h2><button title="Close" class="fullScreenDialog-close icons-close icons-white"></button></div>\x3c!-- ko if: view() === \'premiumInfo\'--\x3e'+(null==(t=n("EICHgS2/Iu").call(this,e))?"":t)+"\x3c!-- /ko--\x3e\x3c!-- ko if: view() === 'moveOrViewInfo'--\x3e"+(null==(t=n("DeY+bwIY7s").call(this,e))?"":t)+"\x3c!-- /ko--\x3e</div>")}.call(this,"undefined"in i?i.undefined:void 0),a.join("")}},hPMTES7IZs:function(e,t,n){"use strict";function a(e){var t=r.unwrap(e());return t&&function(e){var t=i(e);return null===t?null:s.is24HourTimeFormat()?t:s.convert24HoursTo12HoursTimeString(t,!0)}(t)}function i(e){if(null===e||void 0===e)return null;var t=e.trim().toLowerCase().replace(".",":"),n=t.search(/[^\d:]/),a="";n>=0&&(a=t.substr(n).trim(),t=t.substr(0,n)),t.indexOf(":")<0&&(1!==t.length&&3!==t.length||(t="0"+t),2===t.length&&(t+="00"),t=t.substr(0,2)+":"+t.substr(2));var i=t.split(":").map(function(e){return parseInt(e,10)});if(2!==i.length)return null;var r=i[0],s=i[1];return isNaN(r)||isNaN(s)?null:r>24?null:s>59?null:(/(am|pm)/.test(a)?"pm"===a?r<12&&(r+=12):12===r&&(r=0):24===r&&(r=0),o(r)+":"+o(s))}function o(e){return e<10?"0"+e:e}var r=n("TS0ILVVaKW"),s=n("RNfSVdyTQ7");r.bindingHandlers.timeInput={init:function(e,t){var n={rawText:r.observable(),hasFocus:r.observable()};r.utils.domData.set(e,"timeInput",n),r.applyBindingAccessorsToNode(e,{textInput:function(){return n.rawText},hasFocus:function(){return n.hasFocus}});var a=n.rawText.subscribe(function(e){e=i(e),t()(e)});r.utils.domNodeDisposal.addDisposeCallback(e,function(){a.dispose()})},update:function(e,t){var n=r.utils.domData.get(e,"timeInput");if(!n.hasFocus()){var i=a(t);null!==i&&n.rawText(i)}}}},hRkvNS9hqe:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("lRwfdXqfkY"),r=n("SJI6FcOvAZ"),s=r.mapState,l=r.createNamespacedHelpers("comments"),u=l.mapState,c=l.mapGetters,d=l.mapMutations,m=l.mapActions,p=r.createNamespacedHelpers("home").mapState,f=n("aetiaUNG0j"),h=n("NKFQkhZ/hO"),v=n("Gh3TGTRxcI"),k=n("LID5hgrivl"),g=k.$,b=k.$$,T=n("utzbvpgxGf"),y=n("ufG6hcaWDZ"),I=n("LID5hgrivl").hasSelectedText;n("N3+y4Czoja"),n("ByTcWmGYN+"),e.exports={data:function(){return{menuCommentId:null,focusCommentOnDone:!1}},computed:i({},s(["task"]),p(["loadingAsyncSections"]),u(["failedToLoad","numberOfHidden","addCommentFocus","editCommentId","renderCommentTextAsHtml","focusSection"]),c(["commentsCount","searchForUsers","users","userAvatarImageUrl","visibleComments"]),{commentAuthorAvatarClasses:function(){return"taskDetails-commentAuthorAvatar task-avatar task-avatar--"+this.task.color},isEditingComment:function(){var e=this;return this.visibleComments.some(function(t){return t.commentId===e.editCommentId})}}),watch:{focusSection:function(){this.focusSection&&(v.scrollToShow(this.$refs.commentsSection,g(".taskDetails-wrapper")),this.setFocusSection(!1))}},methods:i({},d({setAddCommentFocus:"SET_ADD_COMMENT_FOCUS",setAddCommentText:"SET_ADD_COMMENT_TEXT",setEditCommentId:"SET_EDIT_COMMENT_ID",setEditCommentText:"SET_EDIT_COMMENT_TEXT",setFocusSection:"SET_FOCUS_SECTION"}),m(["editComment","updateComment","deleteComment","addComment","cancelAddComment","showEarlierComments"]),{getHighlightSettings:function(){return{matchCandidates:this.users.map(function(e){return"@"+e.fullName})}},getCompleteSettings:function(){var e=this;return{strategies:[{match:/(^|\s)@(\S*)$/,search:function(t,n){n(e.searchForUsers(t).map(function(e){return e.fullName}))},replace:function(e){return"$1@"+e+" "}}]}},addCommentDone:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.addComment(t);case 3:e.next=6;break;case 5:this.setAddCommentFocus(!0);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),onAddCommentFocus:function(){this.setAddCommentFocus(!0),o.nextTick(function(){var e=g(".taskDetails-addComment .taskDetails-textEditorToolbar");v.scrollToShow(e,g(".taskDetails-wrapper"))})},commentMoreClick:function(e){this.menuCommentId=e.commentId},getMoreIconClasses:function(e){var t=["taskDetails-moreIcon taskDetails-commentMore icons-more icons-gray icons--button"];return e.commentId===this.menuCommentId&&t.push("taskDetails-moreIcon--menuOpen"),t},hideMenu:function(){this.menuCommentId=null},isMoreVisible:function(e){return this.editCommentId!==e.commentId&&(e.canEdit||e.canDelete)},renderCommentAsHtml:function(e){var t=e.text,n=e.mentions;return f.renderHtml({text:t,mentions:n})},canEditComment:function(e,t){return!this.isEditingComment&&e.canEdit&&!I()&&!("A"===t.target.nodeName)},commentContentClick:function(e,t){this.canEditComment(e,t)&&this.editComment(e.commentId)},commentContentKeydown:function(e,t){this.canEditComment(e,t)&&(this.focusCommentOnDone=!0,this.editComment(e.commentId))},focusEditedCommentIfApplicable:function(){var e=this;if(this.focusCommentOnDone){this.focusCommentOnDone=!1;var t=this.visibleComments.findIndex(function(t){return t.commentId===e.editCommentId});this.$nextTick(function(){(b(".taskDetails-commentContent")[t]||g(".taskDetails")).focus()})}},cancelEditComment:function(){this.focusEditedCommentIfApplicable(),this.resetEditInput()},editCommentDone:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.updateComment({commentId:this.editCommentId,text:t});case 3:e.next=7;break;case 5:return e.next=7,this.handleSaveEmptyComment();case 7:this.focusEditedCommentIfApplicable(),this.resetEditInput();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSaveEmptyComment:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){h.customModal({html:"Comments must have text content. Do you want to <strong>restore</strong> or <strong>delete</strong> it?",buttons:[{text:"Restore",callback:e},{text:"Delete",type:"danger",callback:function(){t.deleteComment(t.editCommentId),e()}}]})}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),resetEditInput:function(){this.setEditCommentId(null)},onMenuDelete:function(){var e=a(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.menuCommentId,e.next=3,h.confirmHtml("Are you sure you want to delete the comment?");case 3:(n=e.sent)&&this.deleteComment(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onMenuEdit:function(){this.editComment(this.menuCommentId)},getCommentMenuPosition:function(){var e=this,t=this.visibleComments.findIndex(function(t){return t.commentId===e.menuCommentId});return{my:"right top",at:"right bottom+2px",of:b(".taskDetails-commentMore")[t]}}}),components:{"kf-menu":T,"text-editor":y}}},hVghEIrzSQ:function(e,t,n){"use strict";function a(e){var t=e.text,n=e.value,a=e.className,i=document.createElement("option");return i.textContent=t,i.value=n,a&&(i.className=a),i}var i=n("Zz1PBJ8Ns9"),o=n("eu8k+Qqs5O"),r=n("RNfSVdyTQ7");e.exports={getUserOptions:function(e){var t=[{text:"Show all",value:""},{text:"Timer users",value:o.TIMER_USERS},{text:"Unassigned",value:o.UNASSIGNED_USER}];return e.getAllOrderedByFullName().forEach(function(e){t.push({text:e.fullName,value:e._id})}),t},getDateOptions:function(){var e=[{text:"Show all",value:""},{text:"No due date",value:"NoDueDate"},{text:"Overdue",value:"Overdue"},{text:"Due today",value:"DueToday"},{text:"Due tomorrow",value:"DueTomorrow"},{text:"Due in 7 days",value:"Due7Days"},{text:"Due in 30 days",value:"Due30Days"},{text:"Due in 90 days",value:"Due90Days"}];return[0,1].forEach(function(t){var n=i().add(t,"months").startOf("month"),a=i().add(t,"months").endOf("month");e.push({text:"Due in "+r.getMonthName(n.month()),value:"start;"+n.toISOString()+";end;"+a.toISOString()})}),[0,1].forEach(function(t){var n=i().add(t,"years").startOf("year"),a=i().add(t,"years").endOf("year");e.push({text:"Due in "+n.year(),value:"start;"+n.toISOString()+";end;"+a.toISOString()})}),e},getSwimlaneOptions:function(e){var t=e.map(function(e){return{text:e.name,value:e.uniqueId}});return[{text:"Show all",value:""}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))},appendColorOptions:function(e,t){var n=document.createDocumentFragment(),i=a({text:"Show all",value:""});n.appendChild(i),t.getEnabledColors().forEach(function(e){n.appendChild(a({text:e.showName,value:e.value,className:"taskColor-"+e.value}))}),e.appendChild(n)},getDueDateFilterParamsFromValue:function(e){var t=function(e,t){return{startTimestamp:e,endTimestamp:t}},n=function(e){return t(null,i().add(e,"days").endOf("day").toISOString())};switch(e){case"NoDueDate":return{showNoDueDates:!0};case"Overdue":return t(null,i().toISOString());case"DueToday":return t(null,i().endOf("day").toISOString());case"DueTomorrow":return t(null,i().add(1,"day").endOf("day").toISOString());case"Due7Days":return n(7);case"Due30Days":return n(30);case"Due90Days":return n(90)}for(var a=e.split(";"),o=null,r=null;a.length>0;){var s=a.shift();"start"===s?o=a.shift():"end"===s&&(r=a.shift())}return t(o,r)}}},heLhFGELzy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=(function(e){e&&e.__esModule}(n("wK5dsQjYHe")),function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.term=n,this.strategy=a}return a(e,[{key:"replace",value:function(e,t){var n=this.strategy.replace(this.data);if(null!==n){Array.isArray(n)&&(t=n[1]+t,n=n[0]);var a=this.strategy.matchText(e);if(a)return n=n.replace(/\$&/g,a[0]).replace(/\$(\d)/g,function(e,t){return a[parseInt(t,10)]}),[[e.slice(0,a.index),n,e.slice(a.index+a[0].length)].join(""),t]}}},{key:"render",value:function(){return this.strategy.template(this.data,this.term)}}]),e}());t.default=i},hfoBtchUYn:function(e,t,n){"use strict";var a=n("VUBFm7NeLx");e.exports={components:{"time-estimate":a}}},hglMe4iKx3:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.mapGetters,s=i.mapActions,l=n("NKFQkhZ/hO"),u=n("3pnaQtvm0l"),c=n("ZGoGYskvBS");n("RNTjqqpIZk"),e.exports={props:["column","swimlane","cell"],computed:a({},o(["filterActive"]),r(["hasSwimlanes","selectedTaskIds"]),{inlineStyle:function(){if(!this.swimlane.collapsed)return{height:(this.swimlane.height||320)+28+"px"}},addTaskButtonVisible:function(){return this.hasSwimlanes&&!this.column.collapsed&&!this.swimlane.collapsed&&this.cell.addTaskButtonVisible},taskListCellClasses:function(){var e=["board-taskListCell"];return this.cell.totalOverdueCount>0&&e.push("board-taskListCell--hasOverdueTasks"),this.hasSwimlanes&&this.columnTaskLimitExceeded&&e.push("column--limitWarning"),this.cellTaskLimitExceeded&&e.push("board-taskListCell--limitWarning"),e},taskCountVisible:function(){return this.column.collapsed||this.swimlane.collapsed&&!this.cell.taskLimit},taskCountText:function(){var e=this.cell,t=e.totalCount,n=e.isFilterActive,a=e.filterCount;return n?a:t},headerCountTitle:function(){return u.getCollapsedCountTitle(this.cell)},collapsedInfoTitle:function(){return this.column.name+"\n\nClick to expand"},overdueIndicatorText:function(){var e=this.cell.isFilterActive?this.cell.filterOverdueCount:this.cell.totalOverdueCount;return e+" overdue "+(1===e?"task":"tasks")},overdueIndicatorTitle:function(){var e=this.cell,t=e.isFilterActive,n=e.filterOverdueCount,a=e.totalOverdueCount;return t?"Filtered overdue tasks: "+n+"\nTotal overdue tasks: "+a:this.overdueIndicatorText},countAndLimitVisible:function(){return this.cell.taskLimit&&!this.column.collapsed},countAndLimitText:function(){return u.getCountAndLimitText(this.cell)},countAndLimitTitle:function(){return u.getCountAndLimitTitle(this.cell)},cellTaskLimitExceeded:function(){return this.cell.taskLimit&&this.cell.totalCount>this.cell.taskLimit},columnTaskLimitExceeded:function(){return this.column.taskLimit&&this.column.totalCount>this.column.taskLimit}}),methods:a({},s(["showMoreTasksForCell","focusNextOverdueTaskInCell","setTaskSorting"]),{expandCell:function(){this.$emit("expandCell",this.swimlane,this.column)},collapsedColumnNameClick:function(){this.$emit("collapsedColumnNameClick",this.column.columnId)},taskClick:function(e){this.$emit("taskClick",e)},taskListDoubleClick:function(e){this.$emit("taskListDoubleClick",a({},e,{columnId:this.column.columnId,swimlaneId:this.swimlane.swimlaneId}))},setSubTaskFinishedForTask:function(e){this.$emit("setSubTaskFinishedForTask",e)},overdueIndicatorClick:function(){this.focusNextOverdueTaskInCell({columnId:this.column.columnId,swimlaneId:this.swimlane.swimlaneId})},showMoreTasks:function(){this.filterActive?l.alert("Can only be used when not filtering"):this.showMoreTasksForCell({columnId:this.column.columnId,swimlaneId:this.swimlane.swimlaneId})},addTaskClick:function(){this.$emit("addTaskClick",{columnId:this.column.columnId,swimlaneId:this.swimlane.swimlaneId})},taskSortStart:function(){this.setTaskSorting(!0)},taskSortStop:function(e){this.$emit("taskSortStop",e)}}),components:{"task-list":c}}},"hmcW/XZCs7":function(e,t,n){var a=n("49I84NZ+5f"),i=n("iKxpcCgwc6");e.exports=function(e,t,n,o){var r=n.length,s=r,l=!o;if(null==e)return!s;for(e=Object(e);r--;){var u=n[r];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++r<s;){var c=(u=n[r])[0],d=e[c],m=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var p=new a;if(o)var f=o(d,m,c,e,t,p);if(!(void 0===f?i(m,d,3,o,p):f))return!1}}return!0}},hpIcJXP7Cd:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-highlights-property"},[n("span",{ref:"positionText",class:e.positionTextClasses,attrs:{tabindex:e.readOnly?-1:0},on:{click:e.showMoveAdvanced,keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.showMoveAdvancedFromKeyboard(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.showMoveAdvancedFromKeyboard(t)}]}},[e._v("\n        "+e._s(e.positionText)+"\n    ")])])},staticRenderFns:[]}},"i/3JbANjcP":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{elementClass:"addManualTimeEntry",title:"Add time manually",appendTo:".appendWrapper",position:e.position},on:{saveRequested:e.addEntry,closed:e.close}},[n("div",{staticClass:"taskDetails-formRow"},[n("div",{staticClass:"taskDetails-formCell"},[n("label",{staticClass:"taskDetails-label"},[e._v("Date")]),e._v(" "),n("date-input",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse"}],ref:"dateInput",staticClass:"fullWidth",attrs:{maxDate:e.getTodayDateString(),inputClasses:["addManualTimeEntry-dateInput","taskDetails-formInput"]},model:{value:e.dateInputValue,callback:function(t){e.dateInputValue=t},expression:"dateInputValue"}})],1)]),e._v(" "),n("div",{staticClass:"taskDetails-formRow"},[n("div",{staticClass:"taskDetails-formCell"},[n("label",{staticClass:"taskDetails-label"},[e._v("From")]),e._v(" "),n("time-input",{staticClass:"addManualTimeEntry-fromTimeInput taskDetails-formInput",attrs:{value:e.fromInputValue},on:{update:e.addTimeFromUpdate}})],1),e._v(" "),n("div",{staticClass:"taskDetails-formCell"},[n("label",{staticClass:"taskDetails-label"},[e._v("To")]),e._v(" "),n("time-input",{staticClass:"addManualTimeEntry-toTimeInput taskDetails-formInput",attrs:{value:e.toInputValue},on:{update:e.addTimeToUpdate}})],1)]),e._v(" "),n("div",{staticClass:"taskDetails-formRow"},[n("div",{staticClass:"taskDetails-formCell"},[n("label",{staticClass:"taskDetails-label"},[e._v("Duration")]),e._v(" "),n("duration-input",{staticClass:"addManualTimeEntry-durationInput taskDetails-formInput",attrs:{value:e.durationInputValue},on:{update:e.addTimeDurationUpdate}})],1)]),e._v(" "),n("div",{staticClass:"taskDetails-formButtons taskDetails-formRow"},[n("button",{staticClass:"addManualTimeEntry-addButton taskDetails-formCell taskDetails-formCell--right button button--success",attrs:{disabled:e.addingEntry},on:{click:e.addEntry}},[e._v("\n            "+e._s(e.addingEntry?"Adding...":"Add")+"\n        ")])])])},staticRenderFns:[]}},iJqiE9A3qy:function(e,t,n){"use strict";var a=n("kYJw93kn9v"),i=n("RNfSVdyTQ7");e.exports={props:["value","minDate","maxDate"],watch:{value:function(e){if(e&&i.isValidDateString(e)){var t=i.parseIsoDateString(e);this.datePicker.setDate(t,!1)}}},methods:{blurActiveIfOutside:function(){var e=document.activeElement;e&&!this.$el.contains(e)&&e.blur()},onSelect:function(e){var t=i.getIsoDateString(e);this.$emit("input",t)}},mounted:function(){var e={format:"YYYY-MM-DD",onSelect:this.onSelect,firstDay:i.isMondayFirstDayOfWeek()?1:0,keyboardInput:!1,onDraw:function(e){var t=e.el,n=!0,a=!1,i=void 0;try{for(var o,r=t.querySelectorAll("button")[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)o.value.tabIndex=-1}catch(e){a=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(a)throw i}}}};this.value&&(e.defaultDate=i.parseIsoDateString(this.value),e.setDefaultDate=!0),this.minDate&&(e.minDate=i.parseIsoDateString(this.minDate)),this.maxDate&&(e.maxDate=i.parseIsoDateString(this.maxDate)),this.datePicker=new a(e),this.$el.appendChild(this.datePicker.el),this.$el.addEventListener("mousedown",this.blurActiveIfOutside,!0),this.$el.addEventListener("touchend",this.blurActiveIfOutside,!0)}}},iKxpcCgwc6:function(e,t,n){function a(e,t,n,r,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!=e&&t!=t:i(e,t,n,r,a,s))}var i=n("6ykgimBkJI"),o=n("OuyBMWWFiO");e.exports=a},"iZUEdi+Owc":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");a.fn.setCursorPosition=function(e){return this.setSelection(e,e)},a.fn.setSelection=function(e,t){return this.each(function(){var n=this;n.setSelectionRange&&(n.setSelectionRange(e,t),n.focus())}),this},a.fn.focusStart=function(){return this.setCursorPosition(0)},a.fn.focusEnd=function(){return this.setCursorPosition((this.val()||"").length)},a.fn.getCursorPosition=function(){var e=this[0],t=0;return"selectionStart"in e&&(t=e.selectionStart),t}},iaSKDx5oNz:function(e,t,n){"use strict";function a(e){var t=e.dateString;if(!i(t,"YYYY-MM-DD",!0).isValid())return{isValid:!1,message:"You need to enter a valid date"};var n=e.fromTimeString;if(!n)return{isValid:!1,message:'You need to enter a valid "From" time'};var a=e.toTimeString;if(!a)return{isValid:!1,message:'You need to enter a valid "To" time'};var s=i(t).toDate(),l=new Date;if(s>l)return{isValid:!1,message:"You can not enter a date in the future"};var u=i(t);n>a&&u.add(1,"day");var c=function(e){return i.duration(e).asSeconds()}(a);if(u.add(c,"seconds").toDate()>l)return{isValid:!1,message:"You can not enter a time in the future"};var d=e.duration;return d?d>r?{isValid:!1,message:"The duration can not exceed "+o+" hours"}:{isValid:!0,message:""}:{isValid:!1,message:"The entry needs to have a duration"}}var i=n("Zz1PBJ8Ns9"),o=20,r=3600*o;e.exports=a,a.MAX_ENTRY_HOURS=o,a.MAX_ENTRY_TOTAL_SECONDS=r},"iayxx/E6kY":function(e,t,n){"use strict";var a=n("CXfR8Bb8Nd"),i=n("0iPhQ5GI5H"),o=n("EWUDtfBmmZ"),r=n("3qmz3wED6s"),s=n("2juhUb49yF"),l="fullScreenDialog";e.exports=function(e){function t(){g.remove(),g=null,b=null,T&&(T.off("resize.fullScreenDialog"),T=null),y=null,d(),k.emit("closed")}function n(e){e.detach(),g.find(".fullScreenDialog-content").html(e),setTimeout(u,0)}function u(){v&&(v=!1,g.removeClass("fullScreenDialog--loading"),k.emit("loadingHidden"))}function c(){r.addContext({name:l,includeInputs:!0,map:{esc:t}})}function d(){r.deleteContextByName(l)}function m(){var e=T.height(),t=parseInt(b.css("marginTop"),10)+parseInt(b.css("marginBottom"),10),n=parseInt(b.css("borderWidth")),a=T.scrollTop(),i=e-(t+2*n)+Math.min(a,y);b.css("minHeight",i)}var p=e.elementId,f=e.canScroll,h=e.noMargin,v=!0,k=o.createStandalone(["opened","closed","loadingHidden"]),g=void 0,b=void 0,T=void 0,y=void 0;return{on:k.on,open:function(){if(g)throw new Error("Dialog already open");var e=s({id:p});(g=i(e)).on("click",".fullScreenDialog-close",t),c(),f&&g.addClass("fullScreenDialog--canScroll"),h&&g.addClass("fullScreenDialog--noMargin"),i("body").append(g),f&&(T=i(window),b=g.find(".fullScreenDialog-container"),y=i("#header").outerHeight(),function(){var e=a(m,100);T.on("resize.fullScreenDialog",e)}(),m(),function(){var e=T.scrollTop();if(e>0){var t=Math.max(e-y,0);b.css("top",t)}}()),k.emit("opened")},close:t,hide:function(){d(),g.hide()},show:function(){c(),g.show()},setContent:function(e){n(i(e))},setContentElement:n,showLoading:function(){v||(v=!0,g.addClass("fullScreenDialog--loading"))},hideLoading:u,isLoading:function(){return v},getElement:function(){return g}}}},ihvrHHHHRL:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("RHdP5CG4J+"),n("xVZJA6Sryz"),!1,null,null,null);e.exports=a.exports},"ilw/4udqjY":function(e,t,n){var a=n("tEIQ/wLeRZ"),i=n("lW7lJLb+/N"),o=n("Xt12UBnUQp");e.exports=function(e,t){return e&&e.length?a(e,i(t,2),o):void 0}},"imZJP7A+b6":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"container",staticClass:"textHighlight-container"},[t("div",{ref:"backdrop",staticClass:"textHighlight-backdrop"},[t("div",{ref:"highlights",staticClass:"textHighlight-highlights",style:this.highlightsStyles,domProps:{innerHTML:this._s(this.highlightedHtml)}})]),this._v(" "),this._t("default",[t("textarea",{ref:"textarea"})])],2)},staticRenderFns:[]}},irB8nWyAIn:function(e,t,n){"use strict";n("natLtIr/Gc"),n("GbcutZx8hN"),e.exports={props:["swimlanes"],data:function(){return{selectedValue:this.swimlanes.length>1?this.swimlanes[0].uniqueId:"",taskLimit:3}},computed:{options:function(){return this.swimlanes.map(function(e){return{text:e.name,value:e.uniqueId}})}},methods:{close:function(){this.$emit("close")},addClick:function(){this.$emit("add",{swimlaneId:this.selectedValue,value:this.taskLimit})}}}},ixoWBFSScg:function(e,t,n){"use strict";var a=n("kYJw93kn9v"),i=n("RNfSVdyTQ7");e.exports={props:["value","minDate","maxDate","inline","inputClasses"],data:function(){return{inputFocus:!1,datePicker:null,rawValue:this.value||"",lastCloseTime:0}},computed:{aggregatedInputClasses:function(){var e=["dateInput-input"];return this.inputClasses&&(e=e.concat(this.inputClasses)),e}},watch:{value:function(e){this.inputFocus||(this.rawValue=e)}},methods:{blur:function(){this.inputFocus=!1},focus:function(){this.inputFocus=!0},inputClick:function(){this.datePicker&&(this.datePicker.destroy(),this.datePicker=null)},buttonClick:function(){var e=this;if(this.datePicker)return this.datePicker.destroy(),void(this.datePicker=null);Date.now()-this.lastCloseTime<500||setTimeout(function(){var t={format:"YYYY-MM-DD",onSelect:e.onSelect,firstDay:i.isMondayFirstDayOfWeek()?1:0,field:e.$refs.input,onClose:function(){e.lastCloseTime=Date.now(),e.datePicker&&(e.datePicker.destroy(),e.datePicker=null)}};e.minDate&&(t.minDate=i.parseIsoDateString(e.minDate)),e.maxDate&&(t.maxDate=i.parseIsoDateString(e.maxDate)),e.datePicker=new a(t),e.datePicker.show()})},onSelect:function(e){var t=i.getIsoDateString(e);this.rawValue=t,this.$emit("input",this.rawValue)},dateInput:function(){this.datePicker&&this.datePicker.setDate(this.rawValue),this.$emit("input",function(e){if(!(e=e.trim()))return null;if(!/\d\d\d\d-\d\d-\d\d/.test(e))return null;try{var t=i.parseIsoDateString(e);return i.getIsoDateString(new Date(t))}catch(e){return null}}(this.rawValue))}}}},iyC2nzhlfj:function(e,t,n){(function(e){var a=n("MIhMQmxRht"),i=n("PYZbBHzT0Z"),o="object"==typeof t&&t&&!t.nodeType&&t,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===o?a.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(t,n("l2620E2jk3")(e))},iz0PiyC27P:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-sidebar"},[n("div",{staticClass:"taskDetails-sidebar-innerWrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"taskDetails-sidebar-buttonWrapper",on:{click:function(t){e.visibleMenu="add"}}},[n("button",{ref:"addButton",staticClass:"taskDetails-sidebar-addButton taskDetails-sidebarButton"},[n("i",{staticClass:"taskDetails-sidebar-buttonIcon taskDetails-sidebar-add"})]),e._v(" "),e.labelsVisible?n("div",{staticClass:"taskDetails-sidebar-label taskDetails-sidebar-label--success"},[e._v("\n                Add\n            ")]):e._e()]),e._v(" "),e.readOnly?e._e():n("div",{staticClass:"taskDetails-sidebar-buttonWrapper",on:{click:e.moveClick}},[n("button",{ref:"moveButton",staticClass:"taskDetails-sidebar-moveButton taskDetails-sidebarButton"},[n("i",{staticClass:"taskDetails-sidebar-buttonIcon taskDetails-sidebar-move"})]),e._v(" "),e.labelsVisible?n("div",{staticClass:"taskDetails-sidebar-label"},[e._v("Move")]):e._e()]),e._v(" "),e.readOnly?e._e():n("div",{staticClass:"taskDetails-sidebar-buttonWrapper",on:{click:e.timerClick}},[n("button",{ref:"timerButton",staticClass:"taskDetails-sidebar-timerButton taskDetails-sidebarButton"},[n("i",{staticClass:"taskDetails-sidebar-buttonIcon taskDetails-sidebar-timer"})]),e._v(" "),e.labelsVisible?n("div",{staticClass:"taskDetails-sidebar-label"},[e._v("Timer")]):e._e()]),e._v(" "),n("div",{staticClass:"taskDetails-sidebar-buttonWrapper",on:{click:function(t){e.visibleMenu="reports"}}},[n("button",{ref:"reportsButton",staticClass:"taskDetails-sidebar-reportsButton taskDetails-sidebarButton"},[n("i",{staticClass:"taskDetails-sidebar-buttonIcon taskDetails-sidebar-reports"})]),e._v(" "),e.labelsVisible?n("div",{staticClass:"taskDetails-sidebar-label"},[e._v("Reports")]):e._e()]),e._v(" "),n("div",{staticClass:"taskDetails-sidebar-buttonWrapper",on:{click:function(t){e.visibleMenu="more"}}},[n("button",{ref:"moreButton",staticClass:"taskDetails-sidebar-moreButton taskDetails-sidebarButton"},[n("i",{staticClass:"taskDetails-sidebar-buttonIcon taskDetails-sidebar-more"})]),e._v(" "),e.labelsVisible?n("div",{staticClass:"taskDetails-sidebar-label"},[e._v("More")]):e._e()]),e._v(" "),e.readOnly?e._e():n("div",{staticClass:"taskDetails-sidebar-buttonWrapper",on:{click:e.deleteClick}},[e._m(0),e._v(" "),e.labelsVisible?n("div",{staticClass:"taskDetails-sidebar-label taskDetails-sidebar-label--danger"},[e._v("\n                Delete\n            ")]):e._e()]),e._v(" "),"add"===e.visibleMenu?n("kf-menu",{attrs:{appendTo:".appendWrapper",position:e.getPositionRelativeToItem("add")},on:{close:e.hideVisibleMenu}},[e.readOnly?n("item",{attrs:{text:"Comment",iconClass:"icons-task-description taskDetails-sidebar-menuIcon"},on:{click:e.addCommentClick}}):[n("item",{attrs:{text:"Description",iconClass:"icons-task-description taskDetails-sidebar-menuIcon"},on:{click:e.addDescriptionClick}}),e._v(" "),n("item",{attrs:{text:"Member",iconClass:"icons-members icons-gray taskDetails-sidebar-menuIcon"},on:{click:e.addMemberClick}}),e._v(" "),n("item",{attrs:{text:"Label",iconClass:"icons-task-labels taskDetails-sidebar-menuIcon taskDetails-sidebar-labelMenuIcon"},on:{click:e.addLabelClick}}),e._v(" "),n("item",{attrs:{text:"Subtask",iconClass:"icons-task-subTasks taskDetails-sidebar-menuIcon"},on:{click:e.addSubTaskClick}}),e._v(" "),n("item",{attrs:{text:"Due date",iconClass:"icons-task-dueDates taskDetails-sidebar-menuIcon"},on:{click:e.addDueDateClick}}),e._v(" "),"points"===e.estimationType?n("item",{attrs:{text:"Points estimate",iconClass:"taskDetails-sidebar-timerMenuIcon icons-task-timer taskDetails-sidebar-menuIcon"},on:{click:e.addPointsEstimateClick}}):n("item",{attrs:{text:"Time estimate",iconClass:"taskDetails-sidebar-timerMenuIcon icons-task-timer taskDetails-sidebar-menuIcon"},on:{click:e.addTimeEstimateClick}}),e._v(" "),n("item",{attrs:{text:"Manual time entry",iconClass:"taskDetails-sidebar-timerMenuIcon icons-task-timer taskDetails-sidebar-menuIcon"},on:{click:e.addManualTimeEntryClick}}),e._v(" "),n("item",{attrs:{text:"Comment",iconClass:"icons-task-comments taskDetails-sidebar-menuIcon"},on:{click:e.addCommentClick}}),e._v(" "),e.isPremium?[n("item",{attrs:{text:"File attachment",iconClass:"icons-task-files taskDetails-sidebar-menuIcon"},on:{click:e.addFileClick}}),e._v(" "),n("item",{attrs:{text:"Relation",iconClass:"taskDetails-sidebar-relationsMenuIcon icons-task-relations taskDetails-sidebar-menuIcon"},on:{click:e.addRelationClick}})]:e._e()]],2):e._e(),e._v(" "),"timer"===e.visibleMenu?n("kf-menu",{attrs:{appendTo:".appendWrapper",position:e.getPositionRelativeToItem("timer")},on:{close:e.hideVisibleMenu}},[e.timerRunning?[e.taskSelectedInTimer?e._e():n("item",{attrs:{text:"Select in timer",iconClass:"menu-icon-stopwatch taskDetails-sidebar-menuIcon"},on:{click:e.selectInTimer}}),e._v(" "),n("item",{attrs:{text:"Stop timer",iconClass:"menu-icon-stop taskDetails-sidebar-menuIcon"},on:{click:e.stopTimer}})]:["pomodoro"===e.currentTimerMode?[n("item",{attrs:{text:"Start Pomodoro",iconClass:"menu-icon-pomodoro taskDetails-sidebar-menuIcon"},on:{click:e.startPomodoro}}),e._v(" "),n("item",{attrs:{text:"Start Stopwatch",iconClass:"menu-icon-stopwatch taskDetails-sidebar-menuIcon"},on:{click:e.startStopwatch}})]:[n("item",{attrs:{text:"Start Stopwatch",iconClass:"menu-icon-stopwatch taskDetails-sidebar-menuIcon"},on:{click:e.startStopwatch}}),e._v(" "),n("item",{attrs:{text:"Start Pomodoro",iconClass:"menu-icon-pomodoro taskDetails-sidebar-menuIcon"},on:{click:e.startPomodoro}})]]],2):e._e(),e._v(" "),"reports"===e.visibleMenu?n("kf-menu",{attrs:{appendTo:".appendWrapper",position:e.getPositionRelativeToItem("reports")},on:{close:e.hideVisibleMenu}},[n("item",{attrs:{text:"Time log",iconClass:"menu-icon-timeLog taskDetails-sidebar-menuIcon"},on:{click:e.showTimeLog}}),e._v(" "),e.isPremium?n("item",{attrs:{text:"History",iconClass:"menu-icon-history taskDetails-sidebar-menuIcon"},on:{click:e.showHistory}}):e._e(),e._v(" "),n("item",{attrs:{text:"Print",iconClass:"menu-icon-print taskDetails-sidebar-menuIcon"},on:{click:e.printClick}})],1):e._e(),e._v(" "),"more"===e.visibleMenu?n("kf-menu",{attrs:{appendTo:".appendWrapper",position:e.getPositionRelativeToItem("more")},on:{close:e.hideVisibleMenu}},[n("item",{attrs:{text:"Task URL",iconClass:"menu-icon-link"},on:{click:e.taskUrlClick}}),e._v(" "),n("item",{attrs:{text:"Copy",iconClass:"menu-icon-copy taskDetails-sidebar-menuIcon"},on:{click:e.copyClick}}),e._v(" "),e.column.groupByDate?n("item",{attrs:{text:"Edit date",iconClass:"menu-icon-calendar taskDetails-sidebar-menuIcon"},on:{click:e.editDateClick}}):e._e(),e._v(" "),n("item",{attrs:{text:"Keyboard shortcuts",iconClass:"menu-icon-shortcuts taskDetails-sidebar-menuIcon taskDetails-sidebar-shortcutsMenuIcon"},on:{click:e.showKeyboardShortcuts}})],1):e._e(),e._v(" "),e.addDueDateVisible?n("edit-due-date",{attrs:{position:e.getPositionRelativeToItem("add")},on:{done:e.onAddDueDate,close:e.addDueDateClose}}):e._e(),e._v(" "),e.addTimeEstimateVisible?n("edit-time-estimate",{attrs:{position:e.getPositionRelativeToItem("add")},on:{done:e.updateTimeEstimate,delete:e.deleteTimeEstimate,close:e.addTimeEstimateClose}}):e._e(),e._v(" "),e.addPointsEstimateVisible?n("edit-points-estimate",{attrs:{position:e.getPositionRelativeToItem("add")},on:{done:e.updatePointsEstimate,close:e.addPointsEstimateClose}}):e._e(),e._v(" "),e.addManualTimeEntryVisible?n("add-manual-time-entry",{attrs:{position:e.getPositionRelativeToItem("add")},on:{close:e.addManualTimeEntryClose}}):e._e(),e._v(" "),e.addFileVisible?n("add-file",{attrs:{position:e.getPositionRelativeToItem("add")},on:{close:e.addFileClose}}):e._e(),e._v(" "),e.addRelationVisible?n("add-relation",{attrs:{position:e.getPositionRelativeToItem("add")},on:{close:e.addRelationClose}}):e._e(),e._v(" "),e.editDateVisible?n("edit-date",{attrs:{dateFinished:e.task.dateFinished,position:e.getPositionRelativeToItem("more")},on:{update:e.editDateUpdate,close:e.editDateClose}}):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"taskDetails-sidebar-deleteButton taskDetails-sidebarButton"},[t("i",{staticClass:"taskDetails-sidebar-buttonIcon taskDetails-sidebar-delete"})])}]}},jE9RnvcXgW:function(e,t,n){var a=n("yeiRObb3yq");e.exports=function(e){return function(t){return a(t,e)}}},jGHnBLmhXg:function(e,t,n){"use strict";var a=n("e9BN1NVXjs");e.exports={components:{"points-estimate":a}}},jWWb2sICF9:function(e,t,n){"use strict";e.exports={model:{prop:"checked",event:"change"},props:["checked","label","disabled"],data:function(){return{checkboxValue:this.checked}},render:function(e){var t=[e("div",{class:"settingsCheckbox-iconWrapper"},[e("input",{class:"checkbox-input",attrs:{type:"checkbox",checked:this.checkboxValue,disabled:this.disabled},on:{change:this.inputChange},ref:"inputElement"}),e("div",{class:"checkbox-icon",attrs:{tabindex:0}})])],n=this.$slots.default||this.label;return n&&t.push(e("span",{class:"settingsCheckbox-label"},[n])),e("label",{class:"settingsCheckbox",on:{keydown:this.labelKeydown}},t)},methods:{inputChange:function(e){this.checkboxValue=e.target.checked,this.$emit("change",e.target.checked)},labelKeydown:function(e){var t=" "===e.key,n="Enter"===e.key;if(t||n&&!function(e){return e.ctrlKey||e.shiftKey||e.metaKey||e.altKey}(e)){e.preventDefault();var a=!this.checkboxValue;this.checkboxValue=a,this.$refs.inputElement.checked=a,this.$emit("change",a)}}}}},jXGUYQNitn:function(e,t,n){var a=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,r=n("2Axb2VkjD1")(function(e){var t=[];return a.test(e)&&t.push(""),e.replace(i,function(e,n,a,i){t.push(a?i.replace(o,"$1"):n||e)}),t});e.exports=r},jiY2K1Drn4:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{elementClass:"editTimeEstimate",title:e.isEdit?"Edit time estimate":"Add time estimate",appendTo:".appendWrapper",position:e.position},on:{saveRequested:e.done,closed:e.close}},[n("div",{staticClass:"taskDetails-formRow"},[n("duration-input",{directives:[{name:"focus-mouse",rawName:"v-focus-mouse"}],ref:"durationInput",staticClass:"editTimeEstimate-input taskDetails-formInput taskDetails-formCell",attrs:{value:e.timeEstimateValue,placeholder:e.placeholder},on:{update:e.timeEstimateUpdate,enter:e.done}})],1),e._v(" "),n("div",{staticClass:"taskDetails-formButtons taskDetails-formRow"},[e.isEdit?n("button",{staticClass:"taskDetails-formCell button button--danger",on:{click:e.deleteClick}},[e._v("\n            Delete\n        ")]):e._e(),e._v(" "),n("button",{staticClass:"taskDetails-formCell taskDetails-formCell--right button button--success",on:{click:e.done}},[e._v("\n            "+e._s(e.isEdit?"Update":"Add")+"\n        ")])])])},staticRenderFns:[]}},jjj4fEj17t:function(e,t,n){"use strict";function a(e){return Array.isArray(e)?e:Array.from(e)}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n("0iPhQ5GI5H"),s=n("TS0ILVVaKW"),l=n("uj5lqEehEg"),u=n("rEK1kr4M5E"),c=n("NKFQkhZ/hO"),d=n("H/QV61slXi"),m=n("zCnJNEeu5Z").encode,p=n("J1gJTiZ9b2");n("nuwnmtiok7"),e.exports=function(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]),G=t.preTaskMovedLocal,z=t.taskMovedLocal,Y=t.preTaskMovedRemote,$=t.taskMovedRemote,q=t.onClose;var n=function(e){var t=e.length;return"Move "+(t>1?t+" tasks":"task")}(e);_(n,t).then(function(){!function(e){var t=e.map(function(e){return e._id}),n=e[0],a=n.boardId,i=n.columnId,o=n.swimlaneId||"";U.taskIds(t).boardId(a).columnId(i).swimlaneId(o)}(e.map(function(e){return L.getTaskById(e)}))}).catch(u.ignoreAbortError)}function n(){q&&q(),Q||f()}function f(){W=null,j=null,U=null,Q=null,G=null,z=null,Y=null,$=null,q=null,K&&(u.abort(K),K=null)}function h(){return function(e){var t=U.boardGroupList().find(function(t){return t.boards.some(function(t){return t.boardId===e})});return t?t.organizationId:null}(U.boardId())}function v(){var e=U.organizationId();return U.boardGroupList().find(function(t){var n=t.organizationId;return n===e||!n&&!e})}function k(){var e=U.selectedBoardGroup();if(!e)return null;var t=U.boardId();return e.boards.find(function(e){return e.boardId===t})}function g(){return U.groupByOrganization()?U.boardGroupList().map(function(e){return{label:e.organizationName||"Free boards",options:e.boards.map(b)}}):[]}function b(e){return{text:e.name,value:e.boardId}}function T(){return U.boardGroupList().length>1}function y(){return U.groupByOrganization()?[]:0===U.boardGroupList().length?[]:U.boardGroupList()[0].boards.map(b)}function I(){var e=U.selectedBoard();return e?e.columns.map(function(e){return{text:e.name,value:e.columnId}}):[]}function w(){var e=U.selectedBoard();return e?e.swimlanes.map(function(e){return{text:e.name,value:e.swimlaneId||""}}):[]}function x(){var e=U.loading()&&F.length>1;return U.swimlaneOptions().length>1||e}function C(){return U.selectedBoard().name}function D(){d.ensureInsideContainer(j,{$container:r("body")})}function S(e){e&&setTimeout(D,0)}function E(){(Q=M()).catch(function(e){window.console&&console.error?console.error(e):setTimeout(function(){throw e},0)}).then(f),W.close()}var _=function(){var e=i(regeneratorRuntime.mark(function e(t,a){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return W&&W.close(),W=l({elementId:"moveTaskDialog",elementClass:"moveTaskDialog",title:t,appendTo:a.appendTo,positionAboveSelector:a.positionAboveSelector,position:a.position,showLoadingOnOpen:!0}),i=p({}),W.open(i),W.on("closed",n),W.on("saveRequested",E),j=W.getElement(),(U=s.mapping.fromJS({taskIds:[],boardGroupList:[],boardId:null,columnId:null,swimlaneId:null,loading:!0,boardSelect:{label:"Board",options:[],optionGroups:[]},columnSelect:{label:"Column",options:[]},swimlaneSelect:{label:"Swimlane",options:[]}})).boardSelect.selectedValue=U.boardId,U.boardSelect.loading=U.loading,U.columnSelect.selectedValue=U.columnId,U.columnSelect.loading=U.loading,U.swimlaneSelect.selectedValue=U.swimlaneId,U.swimlaneSelect.loading=U.loading,U.organizationId=s.pureComputed(h),U.selectedBoardGroup=s.pureComputed(v),U.selectedBoard=s.pureComputed(k),U.groupByOrganization=s.pureComputed(T),U.organizationOptionGroups=s.pureComputed(g),U.boardOptions=s.pureComputed(y),U.columnOptions=s.pureComputed(I),U.swimlaneOptions=s.pureComputed(w),U.swimlaneSelectVisible=s.pureComputed(x),Object.assign(U,{moveClicked:E}),U.organizationOptionGroups.subscribe(U.boardSelect.optionGroups),U.boardOptions.subscribe(U.boardSelect.options),U.columnOptions.subscribe(U.columnSelect.options),U.swimlaneOptions.subscribe(U.swimlaneSelect.options),U.swimlaneSelectVisible.subscribe(S),s.applyBindings(U,j[0]),W.hideLoading(),e.next=11,(K=u.get("/board/"+N+"/move-task-dialog-data")).then(function(){K=null},function(){K=null}),K;case 11:(function(e){U.boardGroupList(e)})(o=e.sent),U.loading(!1),V.wasMouseUsedLast()&&j.find(".labelSelect-select:eq(0)").focus();case 15:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=i(regeneratorRuntime.mark(function e(){var t,n,a,i,o,r,s,l,u,d,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=U.boardId(),n=C(),a=U.columnId(),i=U.swimlaneId()||void 0,o=U.taskIds(),r=o.map(function(e){return L.getTaskById(e)}),!(s=r.some(function(e){return e.hasAttachments}))||U.organizationId()){e.next=11;break}return l="<p>You can not move a task with file attachments to a free board.</p><p>To move the task, please upgrade <strong>"+n+"</strong>.</p>",c.alertHtml(l),e.abrupt("return");case 11:if(!(u=r.some(function(e){return e.hasRelations}))||U.organizationId()){e.next=16;break}return d="<p>You can not move a task with relations to a free board.</p><p>To move the task, please upgrade <strong>"+n+"</strong>.</p>",c.alertHtml(d),e.abrupt("return");case 16:if(!(m=t===r[0].boardId)){e.next=19;break}return e.abrupt("return",R(r,a,i));case 19:return e.abrupt("return",O(r,t,a,i));case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=i(regeneratorRuntime.mark(function e(t,n,a){var i,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=6;break}return e.next=3,G();case 3:if(!(i=e.sent)||!i.cancel){e.next=6;break}return e.abrupt("return");case 6:return o="top"===H?t.slice().reverse():t,r=o.map(function(e){return B.moveTaskAdvanced(e._id,{columnId:n,swimlaneId:a,masterEvent:"taskMovedByMoveAdvanced"})}),e.next=10,A(r);case 10:z&&z();case 11:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}(),O=function(){var e=i(regeneratorRuntime.mark(function e(t,n,a,i){var r,s,l,u,c,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=3;break}return e.next=3,Y();case 3:return r=function(){var e=U.selectedBoard(),t=U.columnId();return e.columns.find(function(e){return e.columnId===t}).name}(),s=C(),l=t.map(function(e){return new Promise(function(t){L.moveTask({taskId:e._id,targetBoardId:n,targetColumnId:a,targetSwimlaneId:i},function(){t({taskName:e.name,targetColumnName:r,targetBoardName:s})})})}),e.next=8,A(l);case 8:u=e.sent,c=o(u,1),d=c[0],1===t.length?P.showMessage({title:"Task moved",textHtml:"<b>"+m(d.taskName)+"</b> moved to column <b>"+m(d.targetColumnName)+"</b> on board <b>"+m(d.targetBoardName)+"</b>"}):(p=t.length,P.showMessage({title:"Tasks moved",textHtml:p+" tasks moved to column <b>"+m(d.targetColumnName)+"</b> on board <b>"+m(d.targetBoardName)+"</b>"})),$&&$();case 13:case"end":return e.stop()}},e,this)}));return function(t,n,a,i){return e.apply(this,arguments)}}(),A=function(){var e=i(regeneratorRuntime.mark(function e(t){var n,i,o,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return",Promise.resolve(s));case 2:return n=a(t),i=n[0],o=n.slice(1),e.next=5,i;case 5:return r=e.sent,s.push(r),e.abrupt("return",A(o,s));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),N=e.boardId,F=e.swimlanes,L=e.taskRepository,P=e.growlController,B=e.taskMover,V=e.pointerMode,H=e.newTasksPosition,U=void 0,W=void 0,j=void 0,K=void 0,G=void 0,z=void 0,Y=void 0,$=void 0,q=void 0,Q=void 0;return{showMoveAdvanced:t,showBulkMoveAdvanced:function(e,n){if(0===e.length)throw new Error("At least one task ID required");t(e,n)},_getModel:function(){return U}}}},jkK2UsCmld:function(e,t,n){"use strict";var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=50;e.exports=function(e){function t(e){var t=e.taskId;W.dispatch("updateTaskOverdueStatus",t)}function n(){W.dispatch("reRenderAllCells")}function o(e){W.dispatch("updateTimerStateTasks",e)}function r(){W.dispatch("updateFilter")}function s(){H(function(){var e=G.getSelectedTaskIdsInOrder();W.dispatch("selectTasks",e)})}function l(e){var t=e.taskId;H(function(){W.dispatch("addTaskById",t)})}function u(e){H(function(){W.dispatch("mergeTask",e)})}function c(e){var t=e.taskId;H(function(){W.dispatch("removeTaskById",t)})}function d(){H(function(){ie&&ie.isInPlanningMode()&&W.dispatch("reRenderAllCells")})}function m(e){var t=e.userId;H(function(){B(function(e){return V(t,e)})})}function p(e){var t=e.userId;H(function(){B(function(e){return V(t,e)})})}function f(e){var t=e.boardInvitationId;H(function(){B(function(e){return e.members.some(function(e){return e.boardInvitationId===t})})})}function h(e){var t=e.boardInvitationId;H(function(){B(function(e){return e.members.some(function(e){return e.boardInvitationId===t})})})}function v(e){var t=e.organizationInvitationId;H(function(){B(function(e){return e.members.some(function(e){return e.organizationInvitationId===t})})})}function k(e){var t=e.organizationInvitationId;H(function(){B(function(e){return e.members.some(function(e){return e.organizationInvitationId===t})})})}function g(){var e=J.getSelectedTaskId();W.dispatch("updateTaskSelectedByTimer",{selected:!0,taskId:e})}function b(){if(!J.isTaskRunning()){var e=J.getSelectedTaskId();W.dispatch("updateTaskSelectedByTimer",{selected:!1,taskId:e})}}function T(e){var t=e.oldTaskId,n=e.newTaskId;W.dispatch("updateTaskSelectedByTimer",{selected:!1,taskId:t}),W.dispatch("updateTaskSelectedByTimer",{selected:!0,taskId:n})}function y(e){var t=e.taskId,n=e.totalSecondsAdded;W.dispatch("updateTaskTotalSecondsAdded",{taskId:t,totalSecondsAdded:n})}function I(){W.dispatch("showAddTaskToColumnKeyHints")}function w(){W.dispatch("hideAddTaskToColumnKeyHints"),W.dispatch("hideAddTaskToCellKeyHints")}function x(e){W.dispatch("expandColumn",e),W.dispatch("hideAddTaskToColumnKeyHints"),W.getters.hasSwimlanes&&W.dispatch("showAddTaskToCellKeyHints",e)}function C(e){var t=e.swimlaneId;W.dispatch("expandSwimlane",t),W.dispatch("hideAddTaskToCellKeyHints")}function D(){if(G.hasSelection()){var e=R(),t=M(),n=W.getters.firstTaskAboveSelectedTask(e,t);n&&(G.clearSelection(),G.taskSelectedWithKeyboard(n.taskId))}else{var a=W.getters.bottomTaskInFirstColumnWithVisibleTasks;a&&G.taskSelectedWithKeyboard(a.taskId)}}function S(){if(G.hasSelection()){var e=R(),t=M(),n=W.getters.firstTaskBelowSelectedTask(e,t);n&&(G.clearSelection(),G.taskSelectedWithKeyboard(n.taskId))}else{var a=W.getters.topTaskInFirstColumnWithVisibleTasks;a&&G.taskSelectedWithKeyboard(a.taskId)}}function E(){if(G.hasSelection()){var e=W.getters.firstTaskLeftOfSelectedTask(R());e&&(G.clearSelection(),G.taskSelectedWithKeyboard(e.taskId))}else{var t=W.getters.topTaskInLastColumnWithVisibleTasks;t&&G.taskSelectedWithKeyboard(t.taskId)}}function _(){if(G.hasSelection()){var e=W.getters.firstTaskRightOfSelectedTask(R());e&&(G.clearSelection(),G.taskSelectedWithKeyboard(e.taskId))}else{var t=W.getters.topTaskInFirstColumnWithVisibleTasks;t&&G.taskSelectedWithKeyboard(t.taskId)}}function M(){var e=G.getSelectedTaskIdsInOrder(),t=a(e,1)[0];return W.getters.getTaskModelPosition(t)}function R(){var e=G.getSelectedTaskIdsInOrder(),t=a(e,1)[0],n=W.getters.getTaskModelPosition(t).cell;return W.getters.getCellPosition(n)}function O(){W.dispatch("reRenderAllCells")}function A(){W.dispatch("reRenderAllCells")}function N(e){W.dispatch("updateCellFromCountEntry",e)}function F(e){W.dispatch("updateColumnFromCountEntry",e)}function L(e){W.dispatch("scrollToTask",e),document.addEventListener("mousemove",P)}function P(e){if(!G.hasSelection())return ae=null,void document.removeEventListener("mousemove",P);if(ae){var t=Math.abs(ae.x-e.pageX),n=Math.abs(ae.y-e.pageY);(t>i||n>i)&&G.clearSelection()}else ae={x:e.pageX,y:e.pageY}}function B(e){Y.getAllLocalTasks().filter(function(t){return e(t)}).forEach(function(e){W.dispatch("refreshTaskInPlace",e._id)})}function V(e,t){return t.responsibleUserId===e||t.collaborators.some(function(t){return t.userId===e})}function H(e){ne.push(e),U()}function U(){W.state.isTaskSorting||0===ne.length||(ne.shift()(),U())}var W=e.store,j=e.boardFilter,K=e.boardKeyboardShortcutHandler,G=e.taskSelectionController,z=e.taskCountMatrix,Y=e.taskRepository,$=e.userRepository,q=e.pendingOrganizationInvitationRepository,Q=e.pendingBoardInvitationRepository,J=e.workTimerDialog,Z=e.workTimerSession,X=e.midnightNotifier,ee=e.taskDateWatcher,te=e.timerStateController,ne=[],ae=null,ie=null;return j.onUpdate(r),G.on("taskSelectionChange",s),ee.on("overdue",t),X.onMidnight(n),W.state.columns.forEach(function(e){z.onEntryChangedForColumn(e.columnId,F)}),W.state.cells.forEach(function(e){var t={columnId:e.columnId,swimlaneId:e.swimlaneId};z.onEntryChangedForCell(t,N)}),Y.on("localSave save",l),Y.on("localMerge preInterceptMerge preMerge",u),Y.on("localDelete preDelete",c),Y.on("localSave save localMerge merge localDelete delete",d),$.on("localAdd",m),$.on("localDelete",p),Q.on("localAdd",f),Q.on("localDelete",h),q.on("localAdd",v),q.on("localDelete",k),K.on("addTaskKeyPress",I),K.on("addTaskToColumnKeyPress",x),K.on("cancelAddTaskKeyPress",w),K.on("addTaskToCellKeyPress",C),K.on("navigateUpKeyPress",D),K.on("navigateDownKeyPress",S),K.on("navigateLeftKeyPress",E),K.on("navigateRightKeyPress",_),Z.on("taskUpdated",y),J.on("show",g),J.on("hide",b),J.on("taskChanged",T),te.on("taskClientsUpdated",o),G.on("taskSelectedWithKeyboard",L),W.subscribeAction(function(e){"setTaskSorting"===e.type&&U()}),{setForecastPlanningController:function(e){ie&&(ie.off("enter"),ie.off("leave")),(ie=e).on("enter",O),ie.on("leave",A)}}}},"k4au3tkp+Z":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("WuyAo4RRby"),n("PDMX9bwy/y"),!1,null,null,null);e.exports=a.exports},k6ZA4QNwF4:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.mapGetters,s=i.mapActions,l=n("CXfR8Bb8Nd"),u=n("Ywd4cJJEO/"),c=n("ksiZ/Wws4x"),d=n("P89MwyBaDG"),m=n("15Lbf5Ql9+"),p=n("qgeA96tG5m");n("5H8T+Josl9"),e.exports={data:function(){return{forceUnfreezeHeader:!1,scrollTop:0,scrollLeft:0,bodyWidth:null}},computed:a({},o(["columns","swimlanes","cells","addTaskToColumnKeyboardShortcutInstructionsVisible","addTaskToSwimlaneKeyboardShortcutInstructionsVisible","filterActive"]),r(["hasSwimlanes"]),{columnHeaderIsFrozen:function(){return!(this.forceUnfreezeHeader||!this.hasSwimlanes)&&this.scrollTop>10},collapsedColumnIds:function(){return this.columns.filter(function(e){return e.collapsed}).map(function(e){return e.columnId})},hasCollapsedAllColumns:function(){return this.columns.length===this.collapsedColumnIds.length},addTaskKeyboardShortcutInstructionsVisible:function(){return this.addTaskToColumnKeyboardShortcutInstructionsVisible||this.addTaskToSwimlaneKeyboardShortcutInstructionsVisible},totalMinWidth:function(){var e=this.collapsedColumnIds.length,t=this.columns.length-e;return(this.hasSwimlanes?130:0)+28*e+220*t+20},hasFixedColumns:function(){return this.bodyWidth&&this.bodyWidth<this.totalMinWidth},boardWrapperClasses:function(){var e=[];return this.hasSwimlanes&&e.push("board-wrapper-swimlanes"),this.hasFixedColumns&&e.push("board-wrapper-fixedColumns"),this.filterActive&&e.push("board-wrapper-filterActive"),e},boardTableClasses:function(){var e=["board-table"];return this.hasCollapsedAllColumns&&e.push("board-table--allColumnsCollapsed"),e}}),methods:a({},s(["expandColumn","expandSwimlane","resizeSwimlane"]),{getColumnHeaderClasses:function(e){var t=this.columns.indexOf(e),n=[];return 0===t&&n.push("column-first"),t===this.columns.length-1&&n.push("column-last"),e.collapsed&&n.push("column-collapsed"),n},getSwimlaneRowClasses:function(e){var t=this.swimlanes.indexOf(e),n=["board-swimlane"];return 0===t&&n.push("swimlane-first"),t===this.swimlanes.length-1&&n.push("swimlane-last"),e.collapsed&&n.push("swimlane-collapsed"),n},getTaskListCellClasses:function(e){var t=this.columns.indexOf(e),n=[];return 0===t&&n.push("column-first"),t===this.columns.length-1&&n.push("column-last"),e.collapsed&&n.push("column-collapsed"),n},isTaskLimitExceededForSomeCellInColumn:function(e){var t=e.columnId;return this.cells.some(function(e){return e.columnId===t&&e.taskLimit&&e.totalCount>e.taskLimit})},swimlaneResize:function(e){this.resizeSwimlane(e),this.updateScrollPosition()},columnHeaderNameClick:function(e){this.$emit("columnHeaderNameClick",e),this.updateScrollPosition()},columnHeaderDescriptionIconClick:function(e){this.$emit("columnHeaderDescriptionIconClick",e)},columnHeaderTaskCountClick:function(e){this.expandColumn(e),this.updateScrollPosition()},collapsedColumnNameClick:function(e){this.expandColumn(e),this.updateScrollPosition()},swimlaneNameClick:function(e){this.$emit("swimlaneNameClick",e),this.updateScrollPosition()},swimlaneDescriptionIconClick:function(e){this.$emit("swimlaneDescriptionIconClick",e)},expandSwimlaneIconClick:function(e){this.expandSwimlane(e),this.updateScrollPosition()},expandCell:function(e,t){this.expandSwimlane(e.swimlaneId),t.collapsed&&this.expandColumn(t.columnId),this.updateScrollPosition()},boardWrapperScroll:u(function(){this.forceUnfreezeHeader=!0,this.updateScrollPosition()},10),updateScrollPosition:l(function(){var e=this.$refs.boardWrapper;this.scrollTop=e.scrollTop,this.scrollLeft=e.scrollLeft,this.forceUnfreezeHeader=!1},600),updateBodyWidth:u(function(){this.bodyWidth=document.body.clientWidth},100),getCell:function(e,t){return this.cells.find(function(n){return n.columnId===e&&c(n.swimlaneId,t)})},taskClick:function(e){this.$emit("taskClick",e)},taskListDoubleClick:function(e){this.$emit("taskListDoubleClick",e)},setSubTaskFinishedForTask:function(e){this.$emit("setSubTaskFinishedForTask",e)},addTaskInColumnClick:function(e){this.$emit("addTaskInColumn",e)},addTaskInCellClick:function(e){this.$emit("addTaskInCell",e)},taskSortStop:function(e){this.$emit("taskSortStop",e)}}),mounted:function(){var e=this;this.updateBodyWidth(),window.addEventListener("resize",function(){e.forceUnfreezeHeader=!0,e.updateScrollPosition(),e.updateBodyWidth()})},components:{"column-header":d,"swimlane-header":m,"task-list-cell":p}}},k8cusLeyCJ:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-subViewHeader"},[n("div",{staticClass:"taskDetails-subViewHeader-backWrapper",attrs:{title:"View task"},on:{click:e.showHome}},[n("button",{staticClass:"taskDetails-subViewHeader-back icons-arrow-left icons--button"}),e._v(" "),n("span",{staticClass:"taskDetails-subViewHeader-taskName truncate"},[e._v(e._s(e.task.name))])]),e._v(" "),n("div",{staticClass:"taskDetails-subViewHeader-titleRow"},[n("h2",{staticClass:"taskDetails-subViewHeader-title"},[e._v(e._s(e.title))]),e._v(" "),e._t("default")],2)])},staticRenderFns:[]}},k8wMS9oQ2n:function(e,t,n){"use strict";e.exports=function(e){function t(e){var t=e.user;i.localAdd(t)}function n(e){var t=e.user._id;!!i.getById(t)&&i.localDeleteUserById(t)}var a=e.socket,i=e.userRepository;return{startListening:function(){a.on("userAddedToBoard",t),a.on("userRemovedFromBoard",n)},stopListening:function(){a.off("userAddedToBoard",t),a.off("userRemovedFromBoard",n)}}}},kAdy2KmJBd:function(e,t,n){var a=n("bViCOLaR5Y"),i=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},kF1epHbTwO:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ"),r=o.mapState,s=o.mapMutations,l=o.mapActions,u=o.createNamespacedHelpers("timeEstimate"),c=u.mapState,d=u.mapMutations,m=u.mapActions,p=o.createNamespacedHelpers("pointsEstimate"),f=p.mapState,h=p.mapMutations,v=p.mapActions,k=o.createNamespacedHelpers("dueDates"),g=k.mapGetters,b=k.mapActions,T=o.createNamespacedHelpers("labels"),y=T.mapState,I=T.mapGetters,w=T.mapActions,x=o.createNamespacedHelpers("members"),C=x.mapState,D=x.mapGetters,S=x.mapActions,E=n("NKFQkhZ/hO"),_=n("3qmz3wED6s"),M=n("fi3JK86/f7"),R=n("rPDLkMwFAk"),O=n("utzbvpgxGf"),A=n("RXmT75SstR"),N=n("flKM7i/76V"),F=n("VUBFm7NeLx"),L=n("e9BN1NVXjs"),P=n("lb46iHLaM4"),B=n("S8o8xEPyh8"),V=n("nx/QJ0z51f"),H=n("zMJ0LZ/hN1"),U=n("ufG6hcaWDZ"),W=n("yhjRaRyzUX");n("natLtIr/Gc"),n("ByTcWmGYN+"),n("kLhU/b+vnM"),n("gRduait4db");var j=/rv:11.0/.test(navigator.userAgent),K=R();e.exports={props:["initialColor"],data:function(){return{openTime:Date.now(),addDueDateVisible:!1,descriptionVisible:!1,descriptionFocus:!1,moreMenuVisible:!1,helpTextVisible:!1,editingMembersFromKeyboard:!1,editingLabelsFromKeyboard:!1,moreMenuOpenedFromKeyboard:!1,moreMenuItemOpenedFromKeyboard:!1,saving:!1,doNext:"",taskSavedForAddMoreVisible:!1,colorSelectMenuVisible:!1,colorSelectMenuWidth:0}},computed:i({},r(["task","boardColors","canEditColors","estimationType"]),c({addTimeEstimateVisible:"addVisible"}),f({addPointsEstimateVisible:"addVisible"}),y({labelsDialogVisible:"dialogVisible"}),C({membersDialogVisible:"dialogVisible"}),I(["visibleLabels"]),D(["allAvatars"]),g(["dueDates","inLastColumn","hasRepeatingDueDate"]),{saveAndAddMoreText:function(){return this.taskSavedForAddMoreVisible?"Saved!":this.saving&&"ADD_MORE"===this.doNext?"Saving...":"Save & add more"},saveAndOpenDetailsText:function(){return this.saving&&"OPEN_DETAILS"===this.doNext?"Saving...":"Save & open details"},saveAndCloseText:function(){return this.saving&&"CLOSE"===this.doNext?"Saving...":"Save & close"},dialogClasses:function(){var e=["addTaskDialog taskColor--"+this.colorValue+" taskBorderColor--"+this.colorValue];return j&&e.push("addTaskDialog--ie11"),e},descriptionSectionClasses:function(){var e=["addTaskDialog-optionalProperty"];return this.descriptionVisible&&e.push("addTaskDialog-descriptionSection"),e},editMembersTitle:function(){return this.allAvatars.length?"Edit members":"Assign members"},editLabelsTitle:function(){return this.visibleLabels.length?"Edit labels":"Add labels"},editDescriptionTitle:function(){return this.task.description.length?"Edit description":"Add description"},labelsVisible:function(){return this.task.labels.length>0},membersVisible:function(){return this.task.members.length>0},hasFlowingProperties:function(){return this.labelsVisible||this.membersVisible||this.task.totalSecondsEstimate>0||this.task.pointsEstimate>0||this.dueDates.length},nameValue:{get:function(){return this.$store.state.task.name},set:function(e){this.setTaskName(e)}},colorItems:function(){return this.boardColors.map(function(e){return{text:e.showName,value:e.value,description:e.description}})},colorValue:{get:function(){return this.$store.state.task.color},set:function(e){this.setTaskColor(e);var t=this.colorItems.findIndex(function(t){return t.value===e});K.setMarkedIndex(t)}},colorName:function(){var e=this;return this.boardColors.find(function(t){return t.value===e.colorValue}).showName},descriptionHtml:function(){return this.renderDescriptionHtml(this.task.description)}}),watch:{labelsDialogVisible:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!this.editingLabelsFromKeyboard){e.next=5;break}return this.editingLabelsFromKeyboard=!1,e.next=4,this.$nextTick();case 4:this.$refs.labelsButton.focus();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),membersDialogVisible:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!this.editingMembersFromKeyboard){e.next=5;break}return this.editingMembersFromKeyboard=!1,e.next=4,this.$nextTick();case 4:this.$refs.membersButton.focus();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),colorItems:function(){this.refreshSelectSearchCache()}},methods:i({},s({setTaskName:"SET_TASK_NAME",setTaskColor:"SET_TASK_COLOR",setTaskDescription:"SET_TASK_DESCRIPTION"}),l(["addTask","renameColor","moveColor"]),d({setAddTimeEstimateVisible:"SET_ADD_VISIBLE"}),m(["updateTimeEstimate","deleteTimeEstimate"]),h({setAddPointsEstimateVisible:"SET_ADD_VISIBLE"}),v({updatePointsEstimate:"updateEstimate",deletePointsEstimate:"deleteEstimate"}),b(["addDueDate"]),w(["showLabelsDialog"]),S(["showMembersDialog"]),{editMembersKeydownEnter:function(){this.editingMembersFromKeyboard=!0},editMembersClick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.showMembersDialog({position:this.getPositionForMembersDialog()});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),editLabelsKeydownEnter:function(){this.editingLabelsFromKeyboard=!0},editLabelsClick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.showLabelsDialog({position:this.getPositionLabelsDialog()});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),moreClick:function(){this.moreMenuVisible=!0},moreKeydownEnter:function(){this.moreMenuOpenedFromKeyboard=!0},moreMenuClose:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.moreMenuVisible=!1,this.moreMenuOpenedFromKeyboard&&(this.moreMenuOpenedFromKeyboard=!1,this.moreMenuItemOpenedFromKeyboard||this.focusMoreOnNextTick());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showHelpText:function(){this.moreMenuOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!0),this.helpTextVisible=!0},helpTextDialogClose:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.helpTextVisible=!1,this.moreMenuItemOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!1,this.focusMoreOnNextTick());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),editDescriptionClick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.editDescription(),this.descriptionVisible){e.next=5;break}return e.next=4,this.$nextTick();case 4:this.$refs.descriptionButton.blur();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),editDescription:function(){this.descriptionVisible?this.task.description||(this.descriptionVisible=!1,this.descriptionFocus=!1):(this.descriptionVisible=!0,this.descriptionFocus=!0)},onDescriptionBlur:function(){this.descriptionFocus=!1},renderDescriptionHtml:function(e){return M.render(e)},addTimeEstimateClick:function(){this.moreMenuOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!0),this.setAddTimeEstimateVisible(!0)},hideAddTimeEstimate:function(){this.setAddTimeEstimateVisible(!1),this.moreMenuItemOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!1,this.focusMoreOnNextTick())},addPointsEstimateClick:function(){this.moreMenuOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!0),this.setAddPointsEstimateVisible(!0)},hideAddPointsEstimate:function(){this.setAddPointsEstimateVisible(!1),this.moreMenuItemOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!1,this.focusMoreOnNextTick())},addDueDateClick:function(){this.inLastColumn?E.alert("Can not set a due date for tasks in the last column"):this.hasRepeatingDueDate?E.alertHtml("Repeating tasks can only have <strong>one</strong> due date"):(this.moreMenuOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!0),this.addDueDateVisible=!0)},addDueDateClose:function(){this.addDueDateVisible=!1,this.moreMenuItemOpenedFromKeyboard&&(this.moreMenuItemOpenedFromKeyboard=!1,this.focusMoreOnNextTick())},addDueDateDone:function(e){this.addDueDate(e),this.addDueDateClose()},getDueDateClasses:function(e,t){var n=["taskDetails-dueDate","taskDetails-dueDate-"+t];return e.overdue?n.push("taskDetails-dueDate--overdue"):e.done&&n.push("taskDetails-dueDate--done"),function(e){return!(!e.repeat||!e.repeat.copyTaskId)}(e)&&n.push("taskDetails-dueDate--hasCopy"),n},getDueDateTitle:function(e){var t=[e.dueText+" ("+e.targetColumnName+")"];if(e.repeat){var n=RepeatingTaskDescriptionHelper({repeat:e.repeat,columns:this.columns});t.push(n.getDescriptionText())}return t.join("\n")},focusMoreOnNextTick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.$refs.more.focus();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getPositionRelativeToMemberAvatar:function(e){return{my:"left top",at:"left bottom",of:this.$refs["memberAvatar-"+e.memberId][0].$el}},getPositionRelativeToMore:function(){return{my:"right top",at:"right bottom",of:this.$refs.more}},getPositionForMembersDialog:function(){return{my:"left top",at:"left bottom",of:this.$refs.membersButton}},getPositionLabelsDialog:function(){return{my:"left top",at:"left bottom",of:this.$refs.labelsButton}},saveAndOpenDetails:function(){this.tryAddTask({doNext:"OPEN_DETAILS"})},saveAndAddMore:function(){this.tryAddTask({doNext:"ADD_MORE"})},saveAndClose:function(){this.tryAddTask({doNext:"CLOSE"})},tryAddTask:function(){var e=a(regeneratorRuntime.mark(function e(t){var n=t.doNext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.saving){e.next=2;break}return e.abrupt("return");case 2:if(!this.nameValue){e.next=11;break}return this.doNext=n,this.saving=!0,e.next=7,this.addTask({doNext:n,taskData:{name:this.nameValue,color:this.colorValue}});case 7:this.saving=!1,"ADD_MORE"===n?(this.showTaskSavedForAddMore(),this.focusNameInputNextTick(),this.resetSections()):this.close(),e.next=14;break;case 11:return e.next=13,E.alert("You have to enter a name for the task");case 13:this.focusNameInputNextTick();case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),showTaskSavedForAddMore:function(){var e=this;this.taskSavedForAddMoreVisible=!0,setTimeout(function(){e.taskSavedForAddMoreVisible=!1},1500)},focusNameInputNextTick:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.$refs.nameInput.focus();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),resetSections:function(){this.descriptionVisible=!1,this.descriptionFocus=!1},tryClose:function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.nameValue){e.next=6;break}return e.next=3,this.confirmClose();case 3:if("Cancel"!==(t=e.sent)){e.next=6;break}return e.abrupt("return");case 6:this.close();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),close:function(){this.$emit("close")},wrapperClick:function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=Date.now()-this.openTime)<1e3)){e.next=3;break}return e.abrupt("return");case 3:this.tryClose();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),confirmClose:function(){return E.customModal({html:"Do you want to <strong>discard</strong> your unsaved changes?",buttons:[{text:"Cancel"},{text:"Discard changes",type:"danger"}]})},getColorSelectMenuPosition:function(){return{my:"left top",at:"left bottom+1px",of:this.$refs.colorSelect}},colorClick:function(){this.colorSelectMenuWidth=this.$refs.colorSelect.offsetWidth,this.colorSelectMenuVisible=!0},onColorSelectMenuHide:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.colorSelectMenuVisible=!1,e.next=3,this.$nextTick();case 3:this.$refs.colorSelect.focus();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onColorRename:function(e){var t=e.value,n=e.text;this.renameColor({value:t,showName:n})},onColorSelect:function(e){this.colorValue=e},onColorMove:function(e){this.moveColor(e)},colorSelectKeydown:function(e){var t=e.key,n=/^\w$/.test(t);if(!function(e){return e.ctrlKey||e.shiftKey||e.metaKey||e.altKey}(e)&&n){e.preventDefault(),K.registerKeyDown(t);var a=K.getNextMatchingIndex();a>=0&&(this.colorValue=this.colorItems[a].value)}},refreshSelectSearchCache:function(){K.resetWithItems(this.colorItems.map(function(e){return e.text}))},enableKeyboardShortcuts:function(){var e=this;_.addContext({name:"addTask",includeInputs:!0,map:{esc:this.tryClose,"ctrl+enter,cmd+enter":this.saveAndClose,"shift+enter":this.saveAndOpenDetails,"ctrl+shift+enter,cmd+shift+enter":function(t){t.preventDefault(),e.saveAndAddMore()}}})}}),mounted:function(){this.refreshSelectSearchCache(),this.enableKeyboardShortcuts(),this.focusNameInputNextTick()},destroyed:function(){_.deleteContextByName("addTask")},components:{"due-date-list":A,"label-list":V,"member-list":H,"edit-due-date":N,"time-estimate":F,"points-estimate":L,"edit-time-estimate":P,"edit-points-estimate":B,"kf-menu":O,"text-editor":U,"color-select":W}}},"kLhU/b+vnM":function(e,t,n){"use strict";function a(e,t){var n=!1,a=e.value;t.forEach(function(e){if(a.includes(e)){var t=i.includes(e)?" ":"";a=a.split(e).join(t),n=!0}}),n&&(e.value=a,function(e){var t=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)}(e))}var i=["\n","\t"];n("lRwfdXqfkY").directive("block-characters",{inserted:function(e,t){if(t.value){for(var n=t.value,i=[],o=[],r=0;r<n.length;r++)i.push(n[r]),o.push(n.charCodeAt(r));e.addEventListener("input",function(){setTimeout(function(){a(e,i)})}),e.addEventListener("keypress",function(e){o.includes(e.which)&&e.preventDefault()})}}})},kPXMvJIjHV:function(e,t,n){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)return null;var n=e.trim().toLowerCase().replace(/\./g,":"),a=n.search(/[^\d:]/),s="";a>=0&&(s=n.substr(a).trim(),n=n.substr(0,a));var l=function(e){if(e.includes(":")){var t=e.split(":").map(i);return 2===t.length&&t.push(0),t}if(e.length<=2)return[i(e),0,0];if(3===e.length)return[e[0],e.substr(1),"0"].map(i);return[e.substr(0,2),e.substr(2,2),e.substr(4,2)||"0"].map(i)}(n);if(l.some(isNaN))return null;if(s&&!/^(am|pm)$/.test(s))return null;var u=r(l,3),c=u[0],d=u[1],m=u[2];if(c>24)return null;if(d>59)return null;if(m>59)return null;/(am|pm)/.test(s)?"pm"===s?c<12&&(c+=12):12===c&&(c=0):24===c&&(c=0);var p=o(c)+":"+o(d);return t.showSeconds&&(p+=":"+o(m)),p}function i(e){return parseInt(e,10)}function o(e){return e<10?"0"+e:e}var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=n("lRwfdXqfkY"),l=n("RNfSVdyTQ7");s.component("time-input",{props:{value:{required:!0},showSeconds:{type:Boolean,default:!1}},data:function(){return{editText:this.getFormattedValueFromRawTextOrNull(this.value)}},watch:{value:function(e){var t=this.getFormattedValueFromRawTextOrNull(e),n=this.$el===document.activeElement;t&&!n&&(this.editText=t)}},render:function(e){return e("input",{domProps:{value:this.editText,type:"text"},on:{input:this.input,blur:this.blur},class:"timeInput"})},methods:{input:function(e){this.editText=e.target.value,this.update()},update:function(){var e=this.get24HourFormatValueFromRawTextOrNull(this.editText);this.$emit("update",e)},blur:function(){var e=this.getFormattedValueFromRawTextOrNull(this.value);e&&(this.editText=e)},getFormattedValueFromRawTextOrNull:function(e){return function(e,t){var n=a(e,t);return null===n?null:l.is24HourTimeFormat()?n:function(e,t,n){var a=e.split(":"),i=parseInt(a[0],10),r=parseInt(a[1],10),s=parseInt(a[2],10),l=void 0;0===i?(i=12,l="AM"):i<12?l="AM":12===i?l="PM":(i-=12,l="PM");var u=o(i)+":"+o(r);return n&&(u+=":"+o(s)),u+" "+l}(n,0,t.showSeconds)}(e,{showSeconds:this.showSeconds})},get24HourFormatValueFromRawTextOrNull:function(e){return a(e,{showSeconds:this.showSeconds})}},mounted:function(){this.update()}})},kY1ZEVCPA3:function(e,t,n){"use strict";e.exports=function(e){function t(e){var t=e.taskId,n=e.relation;o.getRelationRepositoriesForTaskId(t).forEach(function(e){e.localSave(n)})}function n(e){var t=e.taskId,n=e.relationId;o.getRelationRepositoriesForTaskId(t).forEach(function(e){e.localDeleteById(n)})}function a(e){var t=e.taskId,n=e.relation;o.getRelationRepositoriesForTaskId(t).forEach(function(e){e.localUpdate(n)})}var i=e.socket,o=e.singleTaskResourceRepositoryFactory;return{start:function(){i.on("taskRelation/add",t),i.on("taskRelation/remove",n),i.on("taskRelation/update",a)},stop:function(){i.off("taskRelation/add",t),i.off("taskRelation/remove",n),i.off("taskRelation/update",a)}}}},kYJw93kn9v:function(e,t,n){!function(t,a){"use strict";var i;try{i=n("Zz1PBJ8Ns9")}catch(e){}e.exports=function(e){var t="function"==typeof e,n=!!window.addEventListener,a=window.document,i=window.setTimeout,o=function(e,t,a,i){n?e.addEventListener(t,a,!!i):e.attachEvent("on"+t,a)},r=function(e,t,a,i){n?e.removeEventListener(t,a,!!i):e.detachEvent("on"+t,a)},s=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},u=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},c=function(e){var t=e.getDay();return 0===t||6===t},d=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){u(e)&&e.setHours(0,0,0,0)},p=function(e,t){return e.getTime()===t.getTime()},f=function(e,t,n){var a,i;for(a in t)(i=void 0!==e[a])&&"object"==typeof t[a]&&null!==t[a]&&void 0===t[a].nodeName?u(t[a])?n&&(e[a]=new Date(t[a].getTime())):l(t[a])?n&&(e[a]=t[a].slice(0)):e[a]=f({},t[a],n):!n&&i||(e[a]=t[a]);return e},h=function(e,t,n){var i;a.createEvent?((i=a.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=f(i,n),e.dispatchEvent(i)):a.createEventObject&&(i=a.createEventObject(),i=f(i,n),e.fireEvent("on"+t,i))},v=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},k={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},g=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},b=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},T=function(e,t,n){var a=new Date(n,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(n,t,e)-a)/864e5+a.getDay()+1)/7)+"</td>"},y=function(e,t,n,a){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(a?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},I=function(e,t,n,a,i,o){var r,s,u,c,d,m=e._o,p=n===m.minYear,f=n===m.maxYear,h='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',v=!0,k=!0;for(u=[],r=0;r<12;r++)u.push('<option value="'+(n===i?r-t:12+r-t)+'"'+(r===a?' selected="selected"':"")+(p&&r<m.minMonth||f&&r>m.maxMonth?'disabled="disabled"':"")+">"+m.i18n.months[r]+"</option>");for(c='<div class="pika-label">'+m.i18n.months[a]+'<select class="pika-select pika-select-month" tabindex="-1">'+u.join("")+"</select></div>",l(m.yearRange)?(r=m.yearRange[0],s=m.yearRange[1]+1):(r=n-m.yearRange,s=1+n+m.yearRange),u=[];r<s&&r<=m.maxYear;r++)r>=m.minYear&&u.push('<option value="'+r+'"'+(r===n?' selected="selected"':"")+">"+r+"</option>");return d='<div class="pika-label">'+n+m.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+u.join("")+"</select></div>",m.showMonthAfterYear?h+=d+c:h+=c+d,p&&(0===a||m.minMonth>=a)&&(v=!1),f&&(11===a||m.maxMonth<=a)&&(k=!1),0===t&&(h+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+m.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(h+='<button class="pika-next'+(k?"":" is-disabled")+'" type="button">'+m.i18n.nextMonth+"</button>"),h+="</div>"},w=function(r){var l=this,c=l.config(r);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(s(t,"is-disabled")||(!s(t,"pika-button")||s(t,"is-empty")||s(t.parentNode,"is-disabled")?s(t,"pika-prev")?l.prevMonth():s(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&i(function(){l.hide(),c.blurFieldOnSelect&&c.field&&c.field.blur()},100))),s(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(s(t,"pika-select-month")?l.gotoMonth(t.value):s(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:c.field&&c.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(n){var a;n.firedBy!==l&&(a=c.parse?c.parse(c.field.value,c.format):t?(a=e(c.field.value,c.format,c.formatStrict))&&a.isValid()?a.toDate():null:new Date(Date.parse(c.field.value)),u(a)&&l.setDate(a),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=a.activeElement;do{if(s(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=i(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,a=t;if(t){!n&&s(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",l._onChange)));do{if(s(a,"pika-single")||a===c.trigger)return}while(a=a.parentNode);l._v&&t!==c.trigger&&a!==c.trigger&&l.hide()}},l.el=a.createElement("div"),l.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),o(l.el,"mousedown",l._onMouseDown,!0),o(l.el,"touchend",l._onMouseDown,!0),o(l.el,"change",l._onChange),c.keyboardInput&&o(a,"keydown",l._onKeyChange),c.field&&(c.container?c.container.appendChild(l.el):c.bound?a.body.appendChild(l.el):c.field.parentNode.insertBefore(l.el,c.field.nextSibling),o(c.field,"change",l._onInputChange),c.defaultDate||(t&&c.field.value?c.defaultDate=e(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var d=c.defaultDate;u(d)?c.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),c.bound?(this.hide(),l.el.className+=" is-bound",o(c.trigger,"click",l._onInputClick),o(c.trigger,"focus",l._onInputFocus),o(c.trigger,"blur",l._onInputBlur)):this.show()};return w.prototype={config:function(e){this._o||(this._o=f({},k,!0));var t=f(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,u(t.minDate)||(t.minDate=!1),u(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),l(t.yearRange)){var a=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||a,t.yearRange[1]=parseInt(t.yearRange[1],10)||a}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||k.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,u(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,a){t&&e.isMoment(n)&&this.setDate(n.toDate(),a)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",h(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),u(e)){var n=this._o.minDate,a=this._o.maxDate;u(n)&&e<n?e=n:u(a)&&e>a&&(e=a),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),h(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(u(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),a=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1),t=i<n.getTime()||a.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,a=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(a.valueOf()+i):"subtract"===e&&(n=new Date(a.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=v({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=k.minDate,this._o.minYear=k.minYear,this._o.minMonth=k.minMonth,this._o.startRange=k.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=k.maxDate,this._o.maxYear=k.maxYear,this._o.maxMonth=k.maxMonth,this._o.endRange=k.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,a=n.minYear,o=n.maxYear,r=n.minMonth,s=n.maxMonth,l="";this._y<=a&&(this._y=a,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=o&&(this._y=o,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<n.numberOfMonths;u++)l+='<div class="pika-lendar">'+I(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,t)+this.render(this.calendars[u].year,this.calendars[u].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,n,i,o,r,s,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||a.documentElement.clientWidth,r=window.innerHeight||a.documentElement.clientHeight,s=window.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(c=e.getBoundingClientRect()).left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&u+i>r+s||this._o.position.indexOf("top")>-1&&u-i-e.offsetHeight>0)&&(u=u-i-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(e,t,n){var a=this._o,i=new Date,o=d(e,t),r=new Date(e,t,1).getDay(),s=[],l=[];m(i),a.firstDay>0&&(r-=a.firstDay)<0&&(r+=7);for(var f=0===t?11:t-1,h=11===t?0:t+1,v=0===t?e-1:e,k=11===t?e+1:e,I=d(v,f),w=o+r,x=w;x>7;)x-=7;w+=7-x;for(var C=!1,D=0,S=0;D<w;D++){var E=new Date(e,t,D-r+1),_=!!u(this._d)&&p(E,this._d),M=p(E,i),R=-1!==a.events.indexOf(E.toDateString()),O=D<r||D>=o+r,A=D-r+1,N=t,F=e,L=a.startRange&&p(a.startRange,E),P=a.endRange&&p(a.endRange,E),B=a.startRange&&a.endRange&&a.startRange<E&&E<a.endRange,V=a.minDate&&E<a.minDate||a.maxDate&&E>a.maxDate||a.disableWeekends&&c(E)||a.disableDayFn&&a.disableDayFn(E);O&&(D<r?(A=I+A,N=f,F=v):(A-=o,N=h,F=k));var H={day:A,month:N,year:F,hasEvent:R,isSelected:_,isToday:M,isDisabled:V,isEmpty:O,isStartRange:L,isEndRange:P,isInRange:B,showDaysInNextAndPreviousMonths:a.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:a.enableSelectionDaysInNextAndPreviousMonths};a.pickWholeWeek&&_&&(C=!0),l.push(b(H)),7==++S&&(a.showWeekNumber&&l.unshift(T(D-r,t,e)),s.push(y(l,a.isRTL,a.pickWholeWeek,C)),l=[],S=0,C=!1)}return function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+g(e,t)+'">'+g(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(a)+"<tbody>"+t.join("")+"</tbody></table>"}(0,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),function(e,t){e.className=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}((" "+e.className+" ").replace(" is-hidden "," "))}(this.el),this._o.bound&&(o(a,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&r(a,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",function(e,t){s(e,t)||(e.className=""===e.className?t:e.className+" "+t)}(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),r(this.el,"mousedown",this._onMouseDown,!0),r(this.el,"touchend",this._onMouseDown,!0),r(this.el,"change",this._onChange),e.keyboardInput&&r(a,"keydown",this._onKeyChange),e.field&&(r(e.field,"change",this._onInputChange),e.bound&&(r(e.trigger,"click",this._onInputClick),r(e.trigger,"focus",this._onInputFocus),r(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},w}(i)}()},kj8cmbOvsR:function(e,t,n){"use strict";var a=n("lRwfdXqfkY"),i=n("EWUDtfBmmZ"),o=n("2z18+jHlI7"),r=n("ihvrHHHHRL"),s=n("hHlQBZdXtr");e.exports=function(e){var t=e.taskLabelRepository,n=i(["change","close"]);return{on:n.on,once:n.once,off:n.off,show:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=i.appendTo,u=i.position,c=o({taskLabelRepository:t,enablePinning:!0}),d=s(e);new a({render:function(e){return e(r,{props:{initialLabels:d,appendTo:l,position:u,taskLabelInput:c},on:{close:this.close,labelsChange:this.labelsChange}})},methods:{close:function(){this.$destroy(),n.emit("close",d)},labelsChange:function(e){d=e,n.emit("change",d)}}}).$mount()}}}},"ksiZ/Wws4x":function(e,t,n){"use strict";e.exports=function(e,t){return e===t||!e&&!t}},kwIbleHrEJ:function(e,t,n){var a=n("2L2LX5H0BM"),i=n("PnXa42nM0t"),o=n("PBPfGuJyjG"),r=o&&o.isTypedArray,s=r?i(r):a;e.exports=s},l2620E2jk3:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},l5BlPxoQlt:function(e,t,n){"use strict";function a(e){return e<9?e+1:9===e?"a":10===e?"b":11===e?"c":void 0}function i(e){var t=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=s(i.value.taskGroups);if(r)return r}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return null}function o(e){return e.find(function(e){return e.taskGroups.some(function(e){return e.tasks.some(function(e){return!e.isHiddenByFilter})})})}function r(e){var t=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=l(i.value.taskGroups);if(r)return r}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return null}function s(e){var t=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value.tasks.filter(function(e){return!e.isHiddenByFilter});if(r.length)return r[0]}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return null}function l(e){var t=!0,n=!1,a=void 0;try{for(var i,o=e.slice().reverse()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value.tasks.filter(function(e){return!e.isHiddenByFilter});if(r.length)return r[r.length-1]}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return null}function u(e,t){return Math.abs(e.columnIndex-t.columnIndex)}function c(e,t){Object.assign(e,{totalCount:t.totalCount,hasMore:t.hasMore,isFilterActive:t.isFilterActive,filterCount:t.filterCount,totalOverdueCount:t.totalOverdueCount,filterOverdueCount:t.filterOverdueCount})}function d(e){return{swimlaneId:e.uniqueId,name:e.name,description:e.description,height:e.height,collapsed:!!e.collapsed,headerDetailsVisible:!1}}function m(e){var t=e.title,n=e.tasks;return!("Today"===t)&&n.length>0&&n.every(function(e){return e.isHiddenByFilter})}function p(e){return x('.task[data-taskId="'+e+'"]')}var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=n("SJI6FcOvAZ"),v=n("lRwfdXqfkY"),k=n("CXfR8Bb8Nd"),g=n("mUdEeRB+nf"),b=n("zHtWr7JDEv"),T=n("ksiZ/Wws4x"),y=n("QFEgsXpyaj"),I=n("RNfSVdyTQ7"),w=n("LID5hgrivl"),x=w.q,C=n("Gh3TGTRxcI"),D=n("cFkseZul9o"),S=n("7gqpEfr4/c");e.exports=function(e){function t(){var e=[];return R.forEach(function(t){M.forEach(function(a){e.push(n(a,t))})}),e}function n(e,t){var n=e.uniqueId,a=t.uniqueId,i=O.getTasksInCell(n,a),o={columnId:n,swimlaneId:a,showMoreButtonVisible:i.hasMore,addTaskButtonVisible:A.canAddTasks(),addTaskKeyHint:null,addTaskKeyHintVisible:!1,lastFocusedOverdueTaskId:null},r=i.tasks;if(e.groupByDate)if(r.length){var s=b.getGroupsByDateDescendingWithOrderedTasks(r,{ensureTodayGroup:!0});o.taskGroups=s.map(function(t){return x(t,e)})}else o.taskGroups=[];else o.taskGroups=[{title:null,dateString:null,tasks:b.getTasksSortedBySortOrder(r).map(function(t){return B.create(t,e)})}];c(o,F.getEntryForCell({columnId:n,swimlaneId:a}));var l=e.cells.find(function(e){return T(e.swimlaneId,a)});return l&&(o.taskLimit=l.taskLimit),o}function x(e,t){var n=e.tasks.map(function(e){return B.create(e,t)}),a={title:g.getLabelText(e.key),dateString:e.key,tasks:n};return a.isHiddenByFilter=m(a),a}var E=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t,a){var i,o,r,s,l,u=t.state,c=t.getters,d=t.commit,m=a.columnId,p=a.swimlaneId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.getCellModel({columnId:m,swimlaneId:p}),e.next=3,O.getMoreTasksInCellFromServer(m,p);case 3:o=_.getColumnById(m),r=R.find(function(e){return T(e.uniqueId,p)}),s=n(o,r),l=u.cells.indexOf(i),d("REPLACE_CELL",{newCellModel:s,cellIndex:l});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),_=e.boardColumnRepository,M=_.getAll(),R=e.swimlanes,O=e.taskRepository,A=e.userPermissionService,N=e.userBoardSettingsRepository,F=e.taskCountMatrix,L=e.debounce||k,P=e.boardFilter,B=e.taskModelFactory,V=e.taskAvatarFactory,H=L(function(e,t){N.saveSwimlaneHeight(e,t)}),U=S({boardColumnRepository:_}),W=void 0;return new h.Store({state:{columns:M.map(function(e,t){var n=e.uniqueId,i={columnId:n,name:e.name,description:e.description,groupByDate:e.groupByDate,collapsed:!!e.collapsed,taskLimit:e.taskLimit,addTaskKeyHint:a(t),addTaskKeyHintVisible:!1,addTaskButtonVisible:A.canAddTasks(),canSortTasks:A.canEditTasks(),headerDetailsVisible:!1};return c(i,F.getEntryForColumn(n)),i}),swimlanes:R.map(d),cells:t(),addTaskToColumnKeyboardShortcutInstructionsVisible:!1,addTaskToSwimlaneKeyboardShortcutInstructionsVisible:!1,filterActive:P.isAnyFilterActive(),isSorting:!1},getters:{isColumnCollapsed:function(e){return function(t){return e.columns.find(function(e){return e.columnId===t}).collapsed}},isSwimlaneCollapsed:function(e){return function(t){return e.swimlanes.find(function(e){return T(e.swimlaneId,t)}).collapsed}},hasSwimlaneDescription:function(e){return function(t){return e.swimlanes.find(function(e){return T(e.swimlaneId,t)}).description.length>0}},hasSwimlanes:function(e){return e.swimlanes.length>1},tasks:function(e){var t=[];return e.cells.forEach(function(e){e.taskGroups.forEach(function(e){e.tasks.forEach(function(e){t.push(e)})})}),t},selectedTaskIds:function(e,t){return t.tasks.filter(function(e){return e.selected}).map(function(e){return e.taskId})},getColumnModel:function(e){return function(t){return e.columns.find(function(e){return e.columnId===t})}},getCellModel:function(e){return function(t){var n=t.columnId,a=t.swimlaneId;return e.cells.find(function(e){return e.columnId===n&&T(e.swimlaneId,a)})}},getTaskModelPosition:function(e){return function(t){for(var n=e.cells,a=0;a<n.length;a++)for(var i=n[a],o=0;o<i.taskGroups.length;o++)for(var r=i.taskGroups[o],s=0;s<r.tasks.length;s++){var l=r.tasks[s];if(l.taskId===t)return{task:l,taskIndex:s,taskGroup:r,taskGroupIndex:o,cell:i}}}},nextOverdueTaskToFocusInCell:function(e,t){return function(e,n){var a=t.getCellModel({columnId:e,swimlaneId:n}),i=y(a.taskGroups,function(e){return e.tasks.filter(function(e){var t=e.validDates.some(function(e){return U.isDateOverdue(e)});return!e.isHiddenByFilter&&t}).map(function(e){return e.taskId})});return i[(i.indexOf(a.lastFocusedOverdueTaskId)+1)%i.length]}},firstTaskAboveSelectedTask:function(e,t){return function(e,n){return function(e){var t=e.taskGroup.tasks.slice(0,e.taskIndex).filter(function(e){return!e.isHiddenByFilter}).reverse();return t.length?t[0]:l(e.cell.taskGroups.slice(0,e.taskGroupIndex))}(n)||t.getBottomTaskAboveSwimlaneInColumn(e)||t.getTopTaskInClosestCellAbove(e)}},firstTaskBelowSelectedTask:function(e,t){return function(e,n){return function(e){var t=e.taskGroup.tasks.slice(e.taskIndex+1).filter(function(e){return!e.isHiddenByFilter});return t.length?t[0]:s(e.cell.taskGroups.slice(e.taskGroupIndex+1))}(n)||t.getTopTaskBelowSwimlaneInColumn(e)||t.getTopTaskInClosestCellBelow(e)}},firstTaskRightOfSelectedTask:function(e,t){return function(e){return t.getTopTaskRightOfColumnInSwimlane(e)||t.getTopTaskRightOfColumnAboveSwimlane(e)||t.getTopTaskRightOfColumnBelowSwimlane(e)}},firstTaskLeftOfSelectedTask:function(e,t){return function(e){return t.getTopTaskLeftOfColumnInSwimlane(e)||t.getTopTaskLeftOfColumnAboveSwimlane(e)||t.getTopTaskLeftOfColumnBelowSwimlane(e)}},getCellPosition:function(e){return function(t){return{swimlaneIndex:e.swimlanes.findIndex(function(e){return T(e.swimlaneId,t.swimlaneId)}),columnIndex:e.columns.findIndex(function(e){return e.columnId===t.columnId})}}},getCellModelsDepthFirst:function(e,t){return function(e,n){var a=[],i=!0,o=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=!0,d=!1,m=void 0;try{for(var p,f=n[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value,v=t.getCellModel({columnId:h.columnId,swimlaneId:u.swimlaneId});a.push(v)}}catch(e){d=!0,m=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw m}}}}catch(e){o=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return a}},getCellModelsBreadthFirst:function(e,t){return function(e,n){var a=[],i=!0,o=!1,r=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=!0,d=!1,m=void 0;try{for(var p,f=e[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value,v=t.getCellModel({columnId:u.columnId,swimlaneId:h.swimlaneId});a.push(v)}}catch(e){d=!0,m=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw m}}}}catch(e){o=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return a}},getTopTaskInClosestCellAbove:function(e,t){return function(e){var n=t.getCellsInColumnAboveSwimlaneIndex(e),a=!0,i=!1,o=void 0;try{for(var r,l=n[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var u=r.value,c=t.getClosestNonEmptyCellInSwimlane(u);if(c)return s(c.taskGroups)}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}}},getTopTaskInClosestCellBelow:function(e,t){return function(e){var n=t.getCellsInColumnBelowSwimlaneIndex(e),a=!0,i=!1,o=void 0;try{for(var r,s=n[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var u=r.value,c=t.getClosestNonEmptyCellInSwimlane(u);if(c)return l(c.taskGroups)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}}},getClosestNonEmptyCellInSwimlane:function(e,t){return function(e){var n=t.getCellPosition(e),a=t.getFirstNonEmptyCellRightOfCellPosition(n),i=t.getFirstNonEmptyCellLeftOfCellPosition(n);if(a&&i){var o=t.getCellPosition(a),r=t.getCellPosition(i),s=u(o,n);if(u(r,n)<s)return i}return a||i}},getTopTaskLeftOfColumnInSwimlane:function(e,t){return function(n){var a=n.columnIndex,o=n.swimlaneIndex,r=t.getColumnsLeftOfIndex(a);return i(t.getCellModelsDepthFirst([e.swimlanes[o]],r))}},getTopTaskLeftOfColumnAboveSwimlane:function(e,t){return function(e){var n=e.columnIndex,a=e.swimlaneIndex,o=t.getSwimlanesAboveIndex(a),r=t.getColumnsLeftOfIndex(n);return i(t.getCellModelsDepthFirst(o,r))}},getTopTaskLeftOfColumnBelowSwimlane:function(e,t){return function(e){var n=e.columnIndex,a=e.swimlaneIndex,o=t.getSwimlanesBelowIndex(a),r=t.getColumnsLeftOfIndex(n);return i(t.getCellModelsDepthFirst(o,r))}},getTopTaskRightOfColumnInSwimlane:function(e,t){return function(n){var a=n.columnIndex,o=n.swimlaneIndex,r=t.getColumnsRightOfIndex(a);return i(t.getCellModelsDepthFirst([e.swimlanes[o]],r))}},getFirstNonEmptyCellLeftOfCellPosition:function(e,t){return function(n){var a=n.columnIndex,i=n.swimlaneIndex,r=t.getColumnsLeftOfIndex(a);return o(t.getCellModelsDepthFirst([e.swimlanes[i]],r))}},getFirstNonEmptyCellRightOfCellPosition:function(e,t){return function(n){var a=n.columnIndex,i=n.swimlaneIndex,r=t.getColumnsRightOfIndex(a);return o(t.getCellModelsDepthFirst([e.swimlanes[i]],r))}},getCellsInColumnAboveSwimlaneIndex:function(e,t){return function(n){var a=n.columnIndex,i=n.swimlaneIndex,o=t.getSwimlanesAboveIndex(i);return t.getCellModelsDepthFirst(o,[e.columns[a]])}},getCellsInColumnBelowSwimlaneIndex:function(e,t){return function(n){var a=n.columnIndex,i=n.swimlaneIndex,o=t.getSwimlanesBelowIndex(i);return t.getCellModelsDepthFirst(o,[e.columns[a]])}},getTopTaskRightOfColumnAboveSwimlane:function(e,t){return function(e){var n=e.columnIndex,a=e.swimlaneIndex,o=t.getSwimlanesAboveIndex(a),r=t.getColumnsRightOfIndex(n);return i(t.getCellModelsDepthFirst(o,r))}},getTopTaskRightOfColumnBelowSwimlane:function(e,t){return function(e){var n=e.columnIndex,a=e.swimlaneIndex,o=t.getSwimlanesBelowIndex(a),r=t.getColumnsRightOfIndex(n);return i(t.getCellModelsDepthFirst(o,r))}},getBottomTaskAboveSwimlaneInColumn:function(e,t){return function(n){var a=n.columnIndex,i=n.swimlaneIndex,o=t.getSwimlanesAboveIndex(i);return r(t.getCellModelsDepthFirst(o,[e.columns[a]]))}},getTopTaskBelowSwimlaneInColumn:function(e,t){return function(n){var a=n.columnIndex,o=n.swimlaneIndex,r=t.getSwimlanesBelowIndex(o);return i(t.getCellModelsDepthFirst(r,[e.columns[a]]))}},getSwimlanesAboveIndex:function(e){return function(t){return e.swimlanes.slice(0,t).filter(function(e){return!e.collapsed}).reverse()}},getSwimlanesBelowIndex:function(e){return function(t){return e.swimlanes.slice(t+1).filter(function(e){return!e.collapsed})}},getColumnsLeftOfIndex:function(e){return function(t){return e.columns.slice(0,t).filter(function(e){return!e.collapsed}).reverse()}},getColumnsRightOfIndex:function(e){return function(t){return e.columns.slice(t+1).filter(function(e){return!e.collapsed})}},bottomTaskInFirstColumnWithVisibleTasks:function(e,t){var n=e.columns.filter(function(e){return!e.collapsed}),a=e.swimlanes.filter(function(e){return!e.collapsed}).reverse();return r(t.getCellModelsBreadthFirst(a,n))},topTaskInFirstColumnWithVisibleTasks:function(e,t){var n=e.columns.filter(function(e){return!e.collapsed}),a=e.swimlanes.filter(function(e){return!e.collapsed});return i(t.getCellModelsBreadthFirst(a,n))},topTaskInLastColumnWithVisibleTasks:function(e,t){var n=e.columns.filter(function(e){return!e.collapsed}).reverse(),a=e.swimlanes.filter(function(e){return!e.collapsed});return i(t.getCellModelsBreadthFirst(a,n))}},mutations:{SET_COLUMN_COLLAPSED:function(e,t){e.columns.find(function(e){return e.columnId===t}).collapsed=!0},SET_COLUMN_EXPANDED:function(e,t){e.columns.find(function(e){return e.columnId===t}).collapsed=!1},SHOW_COLUMN_HEADER_DETAILS:function(e,t){e.columns.find(function(e){return e.columnId===t}).headerDetailsVisible=!0},HIDE_COLUMN_HEADER_DETAILS:function(e,t){e.columns.find(function(e){return e.columnId===t}).headerDetailsVisible=!1},SET_ADD_TASK_TO_COLUMN_KEY_HINT_VISIBLE:function(e,t){t.addTaskKeyHintVisible=!0},SET_ADD_TASK_TO_COLUMN_KEY_HINT_HIDDEN:function(e,t){t.addTaskKeyHintVisible=!1},SET_ADD_TASK_TO_COLUMN_KEYBOARD_SHORTCUT_INSTRUCTIONS_VISIBLE:function(e){e.addTaskToColumnKeyboardShortcutInstructionsVisible=!0},SET_ADD_TASK_TO_COLUMN_KEYBOARD_SHORTCUT_INSTRUCTIONS_HIDDEN:function(e){e.addTaskToColumnKeyboardShortcutInstructionsVisible=!1},SET_COUNT_ENTRY_DATA_FOR_COLUMN:function(e,t){c(t.columnModel,t.entry)},SET_COUNT_ENTRY_DATA_FOR_CELL:function(e,t){c(t.cellModel,t.entry)},SET_SWIMLANE_COLLAPSED:function(e,t){e.swimlanes.find(function(e){return T(e.swimlaneId,t)}).collapsed=!0},SET_SWIMLANE_EXPANDED:function(e,t){e.swimlanes.find(function(e){return T(e.swimlaneId,t)}).collapsed=!1},SHOW_SWIMLANE_HEADER_DETAILS:function(e,t){e.swimlanes.find(function(e){return T(e.swimlaneId,t)}).headerDetailsVisible=!0},HIDE_SWIMLANE_HEADER_DETAILS:function(e,t){e.swimlanes.find(function(e){return T(e.swimlaneId,t)}).headerDetailsVisible=!1},SET_ADD_TASK_TO_SWIMLANE_KEYBOARD_SHORTCUT_INSTRUCTIONS_VISIBLE:function(e){e.addTaskToSwimlaneKeyboardShortcutInstructionsVisible=!0},SET_ADD_TASK_TO_SWIMLANE_KEYBOARD_SHORTCUT_INSTRUCTIONS_HIDDEN:function(e){e.addTaskToSwimlaneKeyboardShortcutInstructionsVisible=!1},SET_SWIMLANE_HEIGHT:function(e,t){var n=t.swimlaneId,a=t.height;e.swimlanes.find(function(e){return T(e.swimlaneId,n)}).height=a},REPLACE_TASK_IN_TASK_GROUP:function(e,t){var n=t.taskGroup,a=t.taskIndex,i=t.newTaskModel;n.tasks.splice(a,1,i)},REMOVE_TASK_FROM_TASK_GROUP:function(e,t){var n=t.taskGroup,a=t.taskIndex;n.tasks.splice(a,1)},ADD_TASK_TO_TASK_GROUP:function(e,t){var n=t.taskGroup,a=t.taskModel;n.tasks.push(a),n.tasks.sort(function(e,t){return e.sortOrder-t.sortOrder})},UPDATE_TASK_GROUP:function(e,t){var n=t.taskGroupModel,a=t.data;Object.assign(n,a)},UPDATE_TASK:function(e,t){var n=t.taskModel,a=t.data;Object.assign(n,a)},REMOVE_TASK_GROUP_FROM_CELL:function(e,t){var n=t.cell,a=t.taskGroupIndex;n.taskGroups.splice(a,1)},REPLACE_CELL:function(e,t){var n=t.newCellModel,a=t.cellIndex;e.cells.splice(a,1,n)},UPDATE_CELL:function(e,t){var n=t.cellModel,a=t.data;Object.assign(n,a)},SET_CELLS:function(e,t){e.cells=t},SET_DUE_DATE_OVERDUE:function(e,t){var n=t.dueDate,a=t.isOverdue;n.isOverdue=a},SET_FILTER_ACTIVE:function(e,t){e.filterActive=t},SET_SUBTASK_FADEOUT:function(e,t){var n=t.subTask,a=t.fadeOut;n.fadeOut=a},SET_IS_SORTING:function(e,t){e.isSorting=t}},actions:{collapseColumn:function(e,t){var n=e.commit;N.columnCollapsed(t),n("SET_COLUMN_COLLAPSED",t)},expandColumn:function(e,t){var n=e.commit;N.columnExpanded(t),n("SET_COLUMN_EXPANDED",t)},ensureColumnExpanded:function(e,t){var n=e.getters,a=e.dispatch;n.isColumnCollapsed(t)&&a("expandColumn",t)},showAddTaskToColumnKeyHints:function(e){var t=e.state,n=e.commit;t.columns.forEach(function(e){n("SET_ADD_TASK_TO_COLUMN_KEY_HINT_VISIBLE",e)}),n("SET_ADD_TASK_TO_COLUMN_KEYBOARD_SHORTCUT_INSTRUCTIONS_VISIBLE")},showAddTaskToCellKeyHints:function(e,t){var n=e.state,i=e.getters,o=e.commit;n.swimlanes.map(function(e){return i.getCellModel({columnId:t,swimlaneId:e.swimlaneId})}).forEach(function(e,t){o("UPDATE_CELL",{cellModel:e,data:{addTaskKeyHint:a(t),addTaskKeyHintVisible:!0}})}),o("SET_ADD_TASK_TO_SWIMLANE_KEYBOARD_SHORTCUT_INSTRUCTIONS_VISIBLE")},hideAddTaskToColumnKeyHints:function(e){var t=e.state,n=e.commit;t.columns.forEach(function(e){n("SET_ADD_TASK_TO_COLUMN_KEY_HINT_HIDDEN",e)}),n("SET_ADD_TASK_TO_COLUMN_KEYBOARD_SHORTCUT_INSTRUCTIONS_HIDDEN")},updateColumnFromCountEntry:function(e,t){e.state;var n=e.getters,a=e.commit,i=t.columnId;a("SET_COUNT_ENTRY_DATA_FOR_COLUMN",{columnModel:n.getColumnModel(i),entry:t})},updateCellFromCountEntry:function(e,t){e.state;var n=e.getters;(0,e.commit)("SET_COUNT_ENTRY_DATA_FOR_CELL",{cellModel:n.getCellModel({columnId:t.columnId,swimlaneId:t.swimlaneId}),entry:t})},collapseSwimlane:function(e,t){var n=e.commit;N.swimlaneCollapsed(t),n("SET_SWIMLANE_COLLAPSED",t)},expandSwimlane:function(e,t){var n=e.commit;N.swimlaneExpanded(t),n("SET_SWIMLANE_EXPANDED",t)},ensureSwimlaneExpanded:function(e,t){var n=e.getters,a=e.dispatch;n.isSwimlaneCollapsed(t)&&a("expandSwimlane",t)},hideAddTaskToSwimlaneKeyHints:function(e){var t=e.state,n=e.commit;t.swimlanes.forEach(function(e){n("SET_ADD_TASK_TO_SWIMLANE_KEY_HINT_HIDDEN",e)}),n("SET_ADD_TASK_TO_SWIMLANE_KEYBOARD_SHORTCUT_INSTRUCTIONS_HIDDEN")},hideAddTaskToCellKeyHints:function(e){var t=e.state,n=e.commit;t.cells.forEach(function(e){n("UPDATE_CELL",{cellModel:e,data:{addTaskKeyHint:null,addTaskKeyHintVisible:!1}})}),n("SET_ADD_TASK_TO_SWIMLANE_KEYBOARD_SHORTCUT_INSTRUCTIONS_HIDDEN")},resizeSwimlane:function(e,t){var n=e.commit,a=t.swimlaneId,i=t.height;n("SET_SWIMLANE_HEIGHT",{swimlaneId:a,height:i}),H(a,i)},addTaskById:function(e,t){var n=e.getters,a=e.commit,i=O.getTaskById(t),o=n.getCellModel({columnId:i.columnId,swimlaneId:i.swimlaneId});if(o){var r=M.find(function(e){return e.uniqueId===i.columnId});a("ADD_TASK_TO_TASK_GROUP",{taskGroup:r.groupByDate?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0000-00-00",n=e.taskGroups.find(function(e){return e.dateString===t});return n||(n=x({key:t,tasks:[]}),e.taskGroups.push(n),e.taskGroups.sort(function(e,t){return t.dateString.localeCompare(e.dateString)}),function(e){var t=I.getTodayIsoString(),n=e.taskGroups;n.every(function(e){return e.dateString!==t})&&n.unshift(x({key:t,tasks:[]}))}(e)),n}(o,i.dateFinished):o.taskGroups[0],taskModel:B.create(i,r)})}},mergeTask:function(e,t){e.state;var n=e.getters,a=e.commit,i=e.dispatch,o=t.taskId,r=n.getTaskModelPosition(o);if(r){if(function(e){var t=e.changedProperties,n=e.taskData;return t=t||Object.keys(n),["columnId","swimlaneId","dateFinished","sortOrder"].some(function(e){return t.includes(e)})}(t))i("removeTaskById",o),i("addTaskById",o);else{var s=O.getTaskById(o),l=M.find(function(e){return e.uniqueId===s.columnId}),u=B.create(s,l);a("REPLACE_TASK_IN_TASK_GROUP",{taskGroup:r.taskGroup,taskIndex:r.taskIndex,newTaskModel:u})}var c=n.getTaskModelPosition(o);if(c){var d=r.cell.columnId===c.cell.columnId,m=T(r.cell.swimlaneId,c.cell.swimlaneId);if(d&&m){var p=r.task;a("UPDATE_TASK",{taskModel:c.task,data:{descriptionVisible:p.descriptionVisible,dueDatesVisibilityMode:p.dueDatesVisibilityMode,subTasksVisible:p.subTasksVisible,onlyUnfinishedSubTasksVisible:p.onlyUnfinishedSubTasksVisible}})}}}},removeTaskById:function(e,t){var n=e.getters,a=e.commit,i=e.dispatch,o=n.getTaskModelPosition(t);if(o){var r=o.taskGroup,s=o.taskIndex,l=r.tasks;a("REMOVE_TASK_FROM_TASK_GROUP",{taskGroup:r,taskIndex:s}),0===l.length&&i("scheduleRemoveEmptyDateGroups")}},scheduleRemoveEmptyDateGroups:function(e){var t=e.state,n=e.commit;clearTimeout(W),W=setTimeout(function(){t.cells.forEach(function(e){for(var t=e.taskGroups,a=t.some(function(e){return e.tasks.length>0}),i=0;i<t.length;i++){var o=t[i],r=o.title,s=0===o.tasks.length&&r;"Today"===r&&a&&(s=!1),s&&(n("REMOVE_TASK_GROUP_FROM_CELL",{cell:e,taskGroupIndex:i}),i--)}})},2e4)},showMoreTasksForCell:E,refreshTaskInPlace:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t);if(i){var o=O.getTaskById(t),r=M.find(function(e){return e.uniqueId===o.columnId}),s=B.create(o,r);a("REPLACE_TASK_IN_TASK_GROUP",{taskGroup:i.taskGroup,taskIndex:i.taskIndex,newTaskModel:s})}},reRenderAllCells:function(e){e.state;var n=e.getters,a=e.commit,i=t();i.forEach(function(e){e.taskGroups.forEach(function(e){e.tasks.forEach(function(e){var t=n.getTaskModelPosition(e.taskId);if(t){var i=t.task;a("UPDATE_TASK",{taskModel:e,data:{descriptionVisible:i.descriptionVisible,dueDatesVisibilityMode:i.dueDatesVisibilityMode,subTasksVisible:i.subTasksVisible,onlyUnfinishedSubTasksVisible:i.onlyUnfinishedSubTasksVisible}})}})})}),a("SET_CELLS",i)},updateFilter:function(e){var t=e.state,n=e.commit;n("SET_FILTER_ACTIVE",P.isAnyFilterActive()),t.cells.forEach(function(e){e.taskGroups.forEach(function(e){e.tasks.forEach(function(e){var t=O.getTaskById(e.taskId);n("UPDATE_TASK",{taskModel:e,data:{isHiddenByFilter:P.isTaskHiddenByFilter(t)}})}),n("UPDATE_TASK_GROUP",{taskGroupModel:e,data:{isHiddenByFilter:m(e)}})})})},toggleTaskDescriptionExpansion:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t),o=i.taskGroup,r=i.task;a("REPLACE_TASK_IN_TASK_GROUP",{taskGroup:o,taskIndex:i.taskIndex,newTaskModel:f({},r,{descriptionVisible:!r.descriptionVisible})})},toggleTaskSubTasksExpansion:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t),o=i.taskGroup,r=i.task;a("REPLACE_TASK_IN_TASK_GROUP",{taskGroup:o,taskIndex:i.taskIndex,newTaskModel:f({},r,{subTasksVisible:!r.subTasksVisible})})},toggleTaskHiddenSubTasksExpansion:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t),o=i.taskGroup,r=i.task;a("REPLACE_TASK_IN_TASK_GROUP",{taskGroup:o,taskIndex:i.taskIndex,newTaskModel:f({},r,{onlyUnfinishedSubTasksVisible:!r.onlyUnfinishedSubTasksVisible})})},showNextSubTasksExpansionStateForTask:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t),o=i.taskGroup,r=i.task,s=i.taskIndex,l={};r.showUnfinishedSubTasksDisplaySettingEnabled?r.subTasksVisible&&r.onlyUnfinishedSubTasksVisible?l.onlyUnfinishedSubTasksVisible=!1:r.subTasksVisible?l.subTasksVisible=!1:(l.subTasksVisible=!0,l.onlyUnfinishedSubTasksVisible=!0):l.subTasksVisible=!r.subTasksVisible,a("REPLACE_TASK_IN_TASK_GROUP",{taskGroup:o,taskIndex:s,newTaskModel:f({},r,l)})},fadeOutSubTaskForTask:function(e,t){var n=e.getters,a=e.commit,i=t.subTaskIndex,o=t.taskId;a("SET_SUBTASK_FADEOUT",{subTask:n.getTaskModelPosition(o).task.subTasks[i],fadeOut:!0})},showNextDueDatesModeForTask:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t),o=i.taskGroup,r=i.task;a("REPLACE_TASK_IN_TASK_GROUP",{taskGroup:o,taskIndex:i.taskIndex,newTaskModel:f({},r,{dueDatesVisibilityMode:r.dueDatesVisibilityMode+1})})},updateTaskOverdueStatus:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t);i&&i.task.validDates.forEach(function(e){a("SET_DUE_DATE_OVERDUE",{dueDate:e,isOverdue:U.isDateOverdue(e)})})},selectTasks:function(e,t){var n=e.getters,a=e.commit;n.tasks.forEach(function(e){a("UPDATE_TASK",{taskModel:e,data:{selected:t.includes(e.taskId)}})})},updateTimerStateTasks:function(e,t){var n=e.getters,a=e.commit,i=n.getTaskModelPosition(t);if(i){var o=O.getTaskById(t);a("UPDATE_TASK",{taskModel:i.task,data:{userAvatars:V.createForTask(o),isHiddenByFilter:P.isTaskHiddenByFilter(o)}}),a("UPDATE_TASK_GROUP",{taskGroupModel:i.taskGroup,data:{isHiddenByFilter:m(i.taskGroup)}})}},updateTaskTotalSecondsAdded:function(e,t){var n=e.getters,a=e.commit,i=t.taskId,o=t.totalSecondsAdded,r=n.getTaskModelPosition(i);r&&a("UPDATE_TASK",{taskModel:r.task,data:{totalSecondsAdded:o}})},updateTaskSelectedByTimer:function(e,t){var n=e.getters,a=e.commit,i=t.selected,o=t.taskId,r=n.getTaskModelPosition(o);r&&a("UPDATE_TASK",{taskModel:r.task,data:{selectedByTimer:i}})},updateCellModelLastFocusedOverdueTaskId:function(e,t){var n=e.getters;(0,e.commit)("UPDATE_CELL",{cellModel:n.getTaskModelPosition(t).cell,data:{lastFocusedOverdueTaskId:t}})},setTaskSorting:function(e,t){(0,e.commit)("SET_IS_SORTING",t)},flashTask:function(e,t){var n=t.taskId,a=t.options,i=p(n);i&&D(i,a)},scrollToTask:function(e,t){var n=p(t);n&&(C.scrollToShow(n,w.closest(n,".taskList")),R.length>1&&function(e){var t=document.getElementById("board-wrapper");C.scrollToShow(e,t);var n=t.getBoundingClientRect();e.getBoundingClientRect().y-n.y<50&&(t.scrollTop=t.scrollTop-50)}(n))},highlightTask:function(e,t){var n=e.dispatch,a=O.getTaskById(t);n("ensureColumnExpanded",a.columnId),n("ensureSwimlaneExpanded",a.swimlaneId),v.nextTick(function(){n("scrollToTask",t),n("flashTask",{taskId:t,options:{times:5}})})},focusNextOverdueTaskInCell:function(e,t){var n=e.getters,a=e.dispatch,i=t.columnId,o=t.swimlaneId;a("ensureSwimlaneExpanded",o);var r=n.nextOverdueTaskToFocusInCell(i,o);a("updateCellModelLastFocusedOverdueTaskId",r),v.nextTick(function(){a("scrollToTask",r),a("flashTask",{taskId:r,options:{times:1,delayStart:!0}})})}}})}},lJ8hpUa00E:function(e,t,n){"use strict";var a=20,i=1048576*a;e.exports=function(e){var t=function(e){var t=0;return Array.from(e).forEach(function(e){t+=e.size}),t}(e);return!isNaN(t)&&t>i?{valid:!1,message:function(e){return e.length>1?"<p>The maximum total file size that can be uploaded is <strong>"+a+" MB</strong>.</p><p>Try uploading one file at a time.</p>":"The maximum file size is "+a+" MB"}(e)}:{valid:!0}}},lVQ1kWdcdr:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ"),r=o.mapState,s=o.mapActions,l=o.createNamespacedHelpers("home"),u=l.mapState,c=l.mapMutations,d=n("LID5hgrivl").hasSelectedText,m=n("NKFQkhZ/hO"),p=n("e9xRBbbPG2"),f=n("VUy0pw8dEn");n("N3+y4Czoja"),n("ByTcWmGYN+"),n("kLhU/b+vnM"),n("RBbFDbXq7J"),n("SIDXpCz29I"),e.exports={data:function(){return{saving:!1,focusPlaceholderOnDone:!1}},computed:i({},r(["task","readOnly"]),u(["editNameVisible","editNameFocus"]),{nameText:function(){return this.task.number?f.getNumberTextOrNull(this.task)+": "+this.task.name:this.task.name},nameHtml:function(){return p.createHtmlFromText(this.nameText,{enableLinks:!0})},nameMissing:function(){return 0===this.editNameValue.length},editNameValue:{get:function(){return this.$store.state.home.editNameValue},set:function(e){this.setEditNameValue(e)}}}),methods:i({},s(["updateTask"]),c({setEditNameValue:"SET_EDIT_NAME_VALUE",setEditNameVisible:"SET_EDIT_NAME_VISIBLE",setEditNameFocus:"SET_EDIT_NAME_FOCUS",editName:"EDIT_NAME"}),{editNameFromKeyboard:function(){this.readOnly||(this.focusPlaceholderOnDone=!0,this.editName(this.task.name))},nameClick:function(e){d()||function(e){return"A"===e.nodeName}(e.target)||this.readOnly||this.editName(this.task.name)},onEscPressed:function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.task.name!==this.editNameValue){e.next=4;break}this.cancelEditName(),e.next=8;break;case 4:return e.next=6,m.customModal({html:"Discard unsaved changes?",buttons:[{text:"Cancel"},{text:"Discard",type:"danger"}]});case 6:"Discard"===(t=e.sent)?this.cancelEditName():this.setEditNameFocus(!0);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancelEditName:function(){this.setEditNameVisible(!1),this.focusPlaceholderIfApplicable()},onEditNameFocus:function(){this.setEditNameFocus(!0)},onEditNameBlur:function(){this.setEditNameFocus(!1)},editNameDone:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.isModalShowing()){e.next=2;break}return e.abrupt("return");case 2:if(!this.nameMissing){e.next=8;break}return e.next=5,m.alert("The task must have a name");case 5:this.setEditNameFocus(!0),e.next=11;break;case 8:return e.next=10,this.saveName();case 10:this.setEditNameVisible(!1);case 11:this.focusPlaceholderIfApplicable();case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),focusPlaceholderIfApplicable:function(){var e=this;this.focusPlaceholderOnDone&&(this.focusPlaceholderOnDone=!1,this.$nextTick(function(){e.$refs.focusPlaceholder.focus()}))},saveName:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.saving=!0,e.next=3,this.updateTask({name:this.editNameValue});case 3:this.saving=!1;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})}},"lW7lJLb+/N":function(e,t,n){var a=n("s6cNoKf7Rj"),i=n("zCYTEaW9aA"),o=n("Jpv1OAiBRi"),r=n("p/0cqC9K/5"),s=n("mWmH4vDS0a");e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?r(e)?i(e[0],e[1]):a(e):s(e)}},laW6a8X5ru:function(e,t,n){"use strict";var a=n("EWUDtfBmmZ");e.exports={createStaticProvider:function(e){return{getLabelNames:function(){return e.slice(0)},on:function(){}}},createProviderFromTaskRepository:function(e){var t=a.createStandalone(["change"]);return e.onAny(function(){t.emit("change")}),{getLabelNames:function(){var t={};return e.enumerateLocalTasks(function(e){e.labels.forEach(function(e){t[e.name]=null})}),Object.keys(t)},on:t.on}}}},lb46iHLaM4:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("zurNrETqB7"),n("jiY2K1Drn4"),!1,null,null,null);e.exports=a.exports},"lp3B+H0iIX":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("lRwfdXqfkY"),o=n("rEK1kr4M5E"),r=n("50u+wdY68T"),s=n("pwNIr6Yd/P"),l=n("ksiZ/Wws4x");e.exports=function(e){function t(){p.$destroy()}var n=function(){var e=a(regeneratorRuntime.mark(function e(n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m=n.boardId,o=n.swimlanes||[],(p=new i({render:function(e){return e(s,{props:{isPopover:d,boardId:m,boardName:n.boardName,column:n.column,swimlanes:o,initialTaskLimits:function(e,t){return e.cells.map(function(e){var n=t.find(function(t){return l(e.swimlaneId,t.uniqueId)});return{swimlaneId:e.swimlaneId,swimlaneName:n.name,value:e.taskLimit}})}(n.column,o)},on:{saveEditColumn:this.saveEditColumn,cancelEditColumn:this.cancelEditColumn}})},methods:{saveEditColumn:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.showLoading(),e.next=3,u(t);case 3:r.hideLoading(),d?window.location.reload():c.redirectToPath("/administration/board/"+m+"/columns");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),cancelEditColumn:function(){d?t():c.redirectToPath("/administration/board/"+m+"/columns")}}})).$mount(),e.abrupt("return",p.$el);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.jsonPost({url:"/administration/board/"+m+"/columns/"+t.uniqueId+"/update",data:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=e.router,d=e.isPopover,m=void 0,p=void 0;return{render:n,destroy:t,getData:function(e){var t=e.boardId,n=e.columnId;return o.get("/administration/board/"+t+"/columns/"+n)}}}},ly9CaayYMf:function(e,t,n){var a=n("d05+lqiLYw"),i=n("ApCUErkR1W"),o=Object.prototype.hasOwnProperty,r=i(function(e,t,n){o.call(e,n)?e[n].push(t):a(e,n,[t])});e.exports=r},mFpPYk0cWj:function(e,t,n){var a=n("uf6IP8evPD"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,r,s){var l=1&n,u=a(e),c=u.length;if(c!=a(t).length&&!l)return!1;for(var d=c;d--;){var m=u[d];if(!(l?m in t:i.call(t,m)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);for(var h=l;++d<c;){var v=e[m=u[d]],k=t[m];if(o)var g=l?o(k,v,m,t,e,s):o(v,k,m,e,t,s);if(!(void 0===g?v===k||r(v,k,n,o,s):g)){f=!1;break}h||(h="constructor"==m)}if(f&&!h){var b=e.constructor,T=t.constructor;b!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof T&&T instanceof T)&&(f=!1)}return s.delete(e),s.delete(t),f}},"mUdEeRB+nf":function(e,t,n){"use strict";var a=n("RNfSVdyTQ7");e.exports={getLabelText:function(e){if("0000-00-00"===e)return"Unknown date";var t=a.parseIsoDateString(e);return a.weekdayDateMonthString(t,{friendlyTodayAndYesterday:!0})}}},mWmH4vDS0a:function(e,t,n){var a=n("wcxQBljKbC"),i=n("jE9RnvcXgW"),o=n("2ibmMR3lBv"),r=n("RQ0LPoqyJ+");e.exports=function(e){return o(e)?a(r(e)):i(e)}},mduffh11yJ:function(e,t,n){var a=n("oVe70YGkFs")();e.exports=a},mpS4yaNLgJ:function(e,t,n){var a=n("a+zQmhtzaf"),i=n("KIzMYtjqUv"),o=n("f4Fl+w9HTq"),r=n("OYyIQ74CCY"),s=o(function(e){return e.push(void 0,r),a(i,void 0,e)});e.exports=s},mq2Pi2c6Kv:function(e,t,n){"use strict";e.exports=function(e){function t(){return r||(o?i:"")}var n=e.boardId,a=e.boardColorRepository,i=e.userId,o=e.defaultMemberIsCreator,r=e.defaultMemberUserId,s=e.defaultMemberIsResponsible;return{createEmptyTask:function(){var e=a.getDefaultColor();return{name:"",description:"",boardId:n,subTasks:[],type:"task",color:e.value,responsibleUserId:function(){var e=t();return e&&s?e:""}(),dates:[],labels:[],collaborators:function(){var e=t();return e&&!s?[{userId:e}]:[]}(),members:[],totalSecondsSpent:0,totalSecondsEstimate:0,pointsEstimate:0}}}}},mvh6zL5Lsy:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("Bnqc3LMjT+"),n("t56YCyvgSc"),!1,null,null,null);e.exports=a.exports},"nDAo/DYo3z":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("d/KpYoivik"),n("JQ5GZ53m8Q"),!1,null,null,null);e.exports=a.exports},"nLTT+Rs0w5":function(e,t,n){"use strict";var a=n("yKS169xhxh"),i=n("EWUDtfBmmZ"),o=n("LID5hgrivl").q,r=1e3/60;e.exports=function(e){function t(){f.off("valueChange",l),f.off("countEnd",u),k&&(a.clear(k),k=null),g&&(clearTimeout(g),g=null),h&&(function(e){e.remove?e.remove():e.parentNode.removeChild(e)}(h),h=null,v=null),b=null,T=null,y=null}function n(e,t){b=e,T=t,i=e,f.emit("countStart");var n=0,i=e,o=Math.min(r,p/e);k=a.nowAndEvery(o,function(){n+=o;var r=Math.round(function(e,t,n,a){return(e/=p/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}(n,t,e)),s=Math.max(t,e-r);s!==i&&f.emit("valueChange",{newValue:s,valueChange:i-s}),s===t?(a.clear(k),f.emit("countEnd")):i=s})}function s(e){h=function(){var e=document.createElement("div");return e.className="counterWidget",e}(),v=function(e){var t=document.createElement("span");return t.textContent=e,t.className="counterWidget-value",f.on("valueChange",l),f.on("countEnd",u),t}(e),h.appendChild(v);var t=c();(t===document.body?document.body:t.parentNode).appendChild(h),h.style.cssText=function(){var e=function(){var e=c(),t=e.offsetLeft,n=e.offsetTop,a=h.getBoundingClientRect(),i=e.getBoundingClientRect();return{left:t-a.width/2+i.width/2,top:n-a.height}}();return"\n            left: "+e.left+"px;\n            top: "+e.top+"px;\n        "}(),h.classList.add("counterWidget--bounceIn"),h.addEventListener("animationend",function(){h&&h.classList.remove("counterWidget--bounceIn")})}function l(e){var t=e.newValue;v.textContent=t}function u(){f.off("valueChange",l)}function c(){return m?o(m):document.body}var d=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.classList.add("counterWidget--fadeOut"),new Promise(function(e){h.addEventListener("transitionend",e)});case 2:t(),f.emit("remove");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),m=e.positionRelativeTo,p="duration"in e?e.duration:2e3,f=i(["countStart","valueChange","countEnd","remove"]),h=void 0,v=void 0,k=void 0,g=void 0,b=void 0,T=void 0,y=void 0;return{on:f.on,off:f.off,once:f.once,addPoints:function(e){b=e,T=0,y=e,s(e),g=setTimeout(function(){f.emit("countStart"),f.emit("valueChange",{newValue:0,valueChange:e}),f.emit("countEnd")},p)},countDown:function(e){var t=e.from,a=e.to,i=void 0===a?0:a,o=e.manualStart,r=void 0!==o&&o;if(s(t),r)return function(){n(t,i)};n(t,i)},finish:function(){h&&(f.emit("valueChange",{newValue:T,valueChange:y-T}),f.emit("countEnd"),t(),f.emit("remove"))},remove:d}}},nX1tUA06Mi:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.mapMutations;e.exports={props:["title"],computed:a({},o(["task"])),methods:a({},r({showHome:"SHOW_HOME"}))}},"natLtIr/Gc":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("lRwfdXqfkY"),o=n("uj5lqEehEg");i.component("popover-dialog",{props:["options","title","elementId","elementClass","wrapperClass","position","dimOverlay","autoClose","showHeader","clickOutsideToClose","closeOnEscape","scrollWrapper","appendTo","ensureInsideViewport"],render:function(e){return e("div",{style:{display:"none"}},[e("div",{},[this.$slots.default])])},mounted:function(){var e=this,t=a({title:this.title,elementId:this.elementId,elementClass:this.elementClass,wrapperClass:this.wrapperClass,position:this.position,dimOverlay:this.dimOverlay,autoClose:this.autoClose,showHeader:this.showHeader,clickOutsideToClose:this.clickOutsideToClose,closeOnEscape:this.closeOnEscape,scrollWrapper:this.scrollWrapper,appendTo:this.appendTo},this.options);this.dialog=o(t),this.dialog.open(this.$el.firstChild),this.dialog.on("closed",function(){e.$emit("closed"),e.$destroy()}),this.dialog.on("closeRequested",function(){e.$emit("closeRequested")}),this.dialog.on("saveRequested",function(){e.$emit("saveRequested")})},updated:function(){this.ensureInsideViewport&&this.dialog.ensureInsideViewport()},destroyed:function(){this.dialog&&this.dialog.close()}})},nd3lPDO0nU:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"taskDetails-dueDates"},e._l(e.dueDates,function(t,a){return n("li",{class:e.getDueDateClasses(t)},[n("div",{class:e.getDueDateContentClasses(a),attrs:{title:e.getTitle(t),tabindex:e.readOnly?-1:0},on:{click:function(t){e.showEditDueDate(a)},keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.showEditDueDateFromKeyboard(a)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.showEditDueDateFromKeyboard(a)}]}},[n("strong",[e._v(e._s(t.dueText))]),e._v(" ("+e._s(t.targetColumnName)+")\n            "),t.repeat?n("i",{staticClass:"taskDetails-dueDateRepeatIcon icons-repeat"}):e._e()]),e._v(" "),e.editDueDateDialogVisibleForIndex(a)?n("edit-due-date",{attrs:{dueDate:e.editDueDate,position:e.getEditDueDatePosition()},on:{close:e.editDueDateClose,done:e.editDueDateDone,delete:function(t){e.editDueDateDelete(a)}}}):e._e(),e._v(" "),e.isMenuEnabledForIndex(a)&&e.editIndex===a?n("kf-menu",{attrs:{position:e.getEditDueDatePosition(),appendTo:".appendWrapper"},on:{close:e.editDueDateClose}},[n("item",{attrs:{text:"Delete",iconClass:"menu-icon-delete"},on:{click:function(t){e.editDueDateDelete(a)}}})],1):e._e()],1)}))},staticRenderFns:[]}},ndfhNeGG5k:function(e,t,n){"use strict";var a=n("TwIMXyWGr1"),i=n("VUy0pw8dEn");e.exports.getLink=function(e,t){var n=i.getNumberTextOrNull(t),o=(n?n+" ":"")+t.name;return o.length>40&&(o=o.substr(0,40)),e+"/t/"+t._id+"/"+a(o)}},nhsleiWslW:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"nt80/B8271":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("members"),s=r.mapGetters,l=r.mapActions,u=n("mvh6zL5Lsy");e.exports={data:function(){return{avatarToFocusOnProfileDialogClose:null,focusAddButtonOnDone:!1}},computed:a({},o(["task","readOnly"]),s(["allAvatars"])),methods:a({},l(["showMemberProfileDialog","showMembersDialog"]),{getPositionForMemberAvatar:function(e){return{my:"left top",at:"left bottom",of:this.getElementForAvatar(e)}},getDialogPositionRelativeToAddButton:function(){return{my:"left top",at:"left bottom+2px",of:this.$refs.addMember}},getElementForAvatar:function(e){return this.$refs["memberAvatar-"+e.memberId][0].$el},focusAvatarIfApplicable:function(){var e=this.avatarToFocusOnProfileDialogClose;e&&(this.avatarToFocusOnProfileDialogClose=null,this.getElementForAvatar(e).focus())},showProfileDialogForAvatar:function(e){e.isOnlyTimerUser||this.showMemberProfileDialog({position:this.getPositionForMemberAvatar(e),memberId:e.memberId,onClose:this.focusAvatarIfApplicable})},showProfileDialogForAvatarFromKeyboard:function(e){e.isOnlyTimerUser||(this.avatarToFocusOnProfileDialogClose=e,this.showProfileDialogForAvatar(e))},showAddMember:function(){this.showMembersDialog({position:this.getDialogPositionRelativeToAddButton(),onClose:this.focusAddButtonIfApplicable})},showAddMemberFromKeyboard:function(){this.focusAddButtonOnDone=!0,this.showAddMember()},focusAddButtonIfApplicable:function(){this.focusAddButtonOnDone&&(this.focusAddButtonOnDone=!1,this.$refs.addMember.focus())}}),components:{"user-avatar":u}}},nuwnmtiok7:function(e,t,n){"use strict";var a=n("TS0ILVVaKW"),i=n("CFYMmaNNy+");a.components.register("label-select",{synchronous:!0,viewModel:function(e){var t=a.unwrap(e.options)||[],n=a.unwrap(e.optionGroups)||[],i=a.mapping.fromJS({selectHasFocus:!1,label:e.label,options:t,optionGroups:n,loading:e.loading});i.selectedValue=e.selectedValue,i.selectedText=a.pureComputed(function(){if(i.loading())return"Loading...";var e=function(){var e=i.selectedValue();if(i.hasOptionGroups()){var t=null;return i.optionGroups().some(function(n){return t=n.options().find(function(t){return t.value()===e})}),t}return i.options().find(function(t){return t.value()===e})}();return e?e.text():""}),i.hasOptionGroups=a.pureComputed(function(){return i.optionGroups().length>0});var o=[];return a.isSubscribable(e.optionGroups)&&o.push(e.optionGroups.subscribe(function(e){i.optionGroups(e.map(function(e){return a.mapping.fromJS(e)}))})),a.isSubscribable(e.options)&&o.push(e.options.subscribe(function(e){i.options(e.map(function(e){return a.mapping.fromJS(e)}))})),a.isSubscribable(e.loading)&&o.push(e.loading.subscribe(i.loading)),i.dispose=function(){i=null,o.forEach(function(e){return e.dispose()}),o=null},i},template:i()})},"nx/QJ0z51f":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("AInAtMgnVp"),n("uXqLRou4Zj"),!1,null,null,null);e.exports=a.exports},"o+f2pbDByQ":function(e,t,n){"use strict";var a=n("rEK1kr4M5E"),i=n("R9zOpUcM5X");e.exports=function(e){var t=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={q:t},s>r&&(n.clearCache=!0),r=Date.now(),e.prev=3,e.next=6,a.get({url:"/board/"+o+"/task-labels",data:n,suppressGlobalErrorHandler:!0});case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),n=e.localTaskLabelProvider,o=e.boardId,r=Date.now(),s=Date.now();return n.on("change",function(){s=Date.now()}),{searchRemote:i(t),searchLocal:function(e){var t=e.toLowerCase(),a=[];return n.getLabelNames().forEach(function(e){var n=e.toLowerCase();(function(e,t){for(var n=Math.min(e.length,t.length)-1;n>=0;n--)if(e[n]!==t[n])return!1;return!0})(t,n)&&a.push(e)}),a.sort(function(e,t){return e.localeCompare(t)}),a},getAllLocalSorted:function(){var e=n.getLabelNames();return e.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),e}}}},"o/5gjJ4irr":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("oXFul96OdP"),n("fMV8VCuCR1"),!1,null,null,null);e.exports=a.exports},o5gLpei3fK:function(e,t,n){"use strict";var a=n("OJqx+78Y+a"),i=n("RNfSVdyTQ7");e.exports=function(e){var t=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t,s){var l,u,c,d=s.taskName,m=s.columnId,p=s.swimlaneId,f=s.positionBeforeTaskId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.getTaskById(t),u=d||l.name,c=a.copy(l),c.name=u,m&&(c.columnId=m),p&&(c.swimlaneId=p),function(e){return!!r.getColumnById(e).groupByDate}(c.columnId)&&(c.dateFinished=i.getTodayIsoString()),c.sortOrder=o.generateSortOrderForAddingTaskToCell({columnId:c.columnId,swimlaneId:c.swimlaneId},{positionBeforeTaskId:f}),e.next=10,n.saveTask(c,{masterEvent:"taskCopied"});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n=e.taskRepository,o=e.taskSortOrderGenerator,r=e.boardColumnRepository;return{copyAndPlaceAfterOriginal:function(e){var t=n.getTaskById(e),i=a.copy(t);return i.sortOrder=o.generateSortOrderForAddingTaskToCell({columnId:i.columnId,swimlaneId:i.swimlaneId},{positionAfterTaskId:e}),n.saveTask(i,{masterEvent:"taskCopiedAndPlacedAfterOriginalFromContextMenu"})},copyTo:t}}},oHJ4GgOqX2:function(e,t,n){var a=n("UuxzYNRyeK");e.exports=function(e){var t,n=[],i=e||{};return function(e){n.push('<div class="workTimerSettingsDialog-tabs"><div data-bind="click: generalTabClicked, css: { selected: activeTab() === \'general\' }" class="workTimerSettingsDialog-tab">General</div><div data-bind="click: disturbancesTabClicked, css: { selected: activeTab() === \'disturbances\' }" class="workTimerSettingsDialog-tab">Interruptions</div><div data-bind="click: soundsTabClicked, css: { selected: activeTab() === \'sounds\' }" class="workTimerSettingsDialog-tab">Sounds</div></div><div class="workTimerSettingsDialog-tabContentWrapper"><div data-bind="visible: activeTab() === \'general\'"><h2 class="dialog-sectionTitle">Pomodoro durations</h2><div class="workTimerSettingsDialog-box"><div class="workTimerSettingsDialog-list"><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Work time</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="numberValue: settings.workTimeMinutes" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-workTimeMinutes">');for(var i=10;i<=90;i++)n.push("<option"+a.attr("value",i,!0,!0)+">"+a.escape(null==(t=i)?"":t)+" minutes</option>");for(n.push('</select></div></label><div class="workTimerSettingsDialog-list-item"><br></div><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Short break time</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="numberValue: settings.shortBreakTimeMinutes" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-shortBreakTimeMinutes">'),o=1;o<=20;o++)n.push("<option"+a.attr("value",o,!0,!0)+">"+a.escape(null==(t=o)?"":t)+" minute"+a.escape(null==(t=o>1?"s":"")?"":t)+"</option>");n.push('</select></div></label><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Long break time</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="numberValue: settings.longBreakTimeMinutes" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-longBreakTimeMinutes">');for(var o=10;o<=30;o++)n.push("<option"+a.attr("value",o,!0,!0)+">"+a.escape(null==(t=o)?"":t)+" minutes</option>");n.push('</select></div></label><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Long break interval</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="numberValue: settings.longBreakInterval" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-longBreakInterval"><option value="2">Every 2nd break</option><option value="3">Every 3rd break</option><option value="4">Every 4th break</option><option value="5">Every 5th break</option><option value="6">Every 6th break</option><option value="7">Every 7th break</option><option value="8">Every 8th break</option></select></div></label></div></div></div><div data-bind="visible: activeTab() === \'disturbances\'"><h2 class="dialog-sectionTitle">Interruption reasons</h2><div class="workTimerSettingsDialog-disturbances-tableScrollWrapper scroll scroll--horizontalHidden"><table class="workTimerSettingsDialog-disturbances-table"><thead class="workTimerSettingsDialog-tableHeader"><tr><th class="workTimerSettingsDialog-tableHeaderCell workTimerSettingsDialog-reasonHeader">Reason</th><th class="workTimerSettingsDialog-tableHeaderCell">Enabled</th></tr></thead><tbody data-bind="foreach: settings.disturbanceReasons"><tr class="workTimerSettingsDialog-disturbances-reasonRow"><td class="workTimerSettingsDialog-disturbances-reasonCell"><div data-bind="visible: !$root.disturbances.isEditing($data), click: $root.disturbances.editReasonClicked" title="Edit reason" class="workTimerSettingsDialog-disturbances-reasonWrapper"><span data-bind="text: value" class="workTimerSettingsDialog-disturbances-reasonText"></span><button class="workTimerSettingsDialog-disturbances-editButton icons-edit"></button></div><div data-bind="visible: $root.disturbances.isEditing($data)" class="workTimerSettingsDialog-disturbances-reasonEditWrapper"><input type="text" data-bind="textInput: $root.disturbances.editReasonText, hasFocus: hasFocus, event: { keydown: $root.disturbances.editInputKeydownPressed }" class="workTimerSettingsDialog-disturbances-reasonEditInput"><button data-bind="visible: $root.disturbances.isEditing($data), click: $root.disturbances.editReasonDoneClicked, enable: $root.disturbances.isEditReasonDoneEnabled" class="workTimerSettingsDialog-disturbances-editDoneButton btn btn-small"><strong>Done</strong></button><button data-bind="visible: $root.disturbances.isEditing($data), click: $root.disturbances.editReasonCancelClicked" class="workTimerSettingsDialog-disturbances-editCancelButton btn btn-small"><strong>Cancel</strong></button></div></td><td class="workTimerSettingsDialog-disturbances-enabledCell"><label data-bind="click: $root.disturbances.enableReasonClicked" class="workTimerSettingsDialog-disturbances-checkboxLabel"><input type="checkbox" data-bind="checked: enabled" class="checkbox-input"><span class="checkbox-icon workTimerSettingsDialog-disturbances-checkboxIcon"></span></label></td></tr></tbody></table></div><input type="text" data-bind="textInput: disturbances.newReasonText, event: { keydown: disturbances.newReasonInputKeydownPressed }" placeholder="New reason..." class="workTimerSettingsDialog-disturbances-newReasonInput"><button data-bind="click: disturbances.addNewReasonClicked, enable: $root.disturbances.isAddNewReasonEnabled" class="workTimerSettingsDialog-disturbances-addNewReasonButton">Add new reason</button></div><div data-bind="visible: activeTab() === \'sounds\'"><h2 class="dialog-sectionTitle">Sounds</h2><div class="workTimerSettingsDialog-box"><div class="workTimerSettingsDialog-list"><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Ticking mode</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="value: settings.tickingMode, options: tickingModeOptions, optionsText: \'text\', optionsValue: \'value\'" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-ticking-mode"></select></div></label><label data-bind="visible: shouldShowTickingSound" class="workTimerSettingsDialog-list-item workTimerSettingsDialog-ticking-sound-options"><div class="workTimerSettingsDialog-list-label">Ticking sound</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="value: settings.tickingSound, options: tickingSoundOptions, optionsText: \'text\', optionsValue: \'value\'" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-ticking-sound"></select></div></label><label data-bind="visible: shouldShowTickingSound" class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Ticking volume</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="numberValue: settings.tickingVolumePercentage" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-ticking-volume">'),function(){var e=[10,20,30,40,50,60,70,80,90,100];if("number"==typeof e.length)for(var i=0,o=e.length;i<o;i++)r=e[i],n.push("<option"+a.attr("value",r,!0,!0)+">"+a.escape(null==(t=r)?"":t)+" %</option>");else{o=0;for(var i in e){o++;var r=e[i];n.push("<option"+a.attr("value",r,!0,!0)+">"+a.escape(null==(t=r)?"":t)+" %</option>")}}}.call(this),n.push('</select></div></label><div class="workTimerSettingsDialog-list-item"><br></div><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Alarm sound</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="value: settings.alarmSound, options: alarmSoundOptions, optionsText: \'text\', optionsValue: \'value\'" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-alarm-sound"></select></div></label><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Alarm volume</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="numberValue: settings.alarmVolumePercentage" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-alarm-volume">'),function(){var e=[10,20,30,40,50,60,70,80,90,100];if("number"==typeof e.length)for(var i=0,o=e.length;i<o;i++)r=e[i],n.push("<option"+a.attr("value",r,!0,!0)+">"+a.escape(null==(t=r)?"":t)+" %</option>");else{o=0;for(var i in e){o++;var r=e[i];n.push("<option"+a.attr("value",r,!0,!0)+">"+a.escape(null==(t=r)?"":t)+" %</option>")}}}.call(this),n.push('</select></div></label><div class="workTimerSettingsDialog-list-item"><br></div><label class="workTimerSettingsDialog-list-item"><div class="workTimerSettingsDialog-list-label">Points volume</div><div class="workTimerSettingsDialog-list-selectWrapper"><select data-bind="numberValue: settings.pointsVolumePercentage" class="workTimerSettingsDialog-list-select workTimerSettingsDialog-points-volume"><option value="0">Mute</option>'),function(){var e=[10,20,30,40,50,60,70,80,90,100];if("number"==typeof e.length)for(var i=0,o=e.length;i<o;i++)r=e[i],n.push("<option"+a.attr("value",r,!0,!0)+">"+a.escape(null==(t=r)?"":t)+" %</option>");else{o=0;for(var i in e){o++;var r=e[i];n.push("<option"+a.attr("value",r,!0,!0)+">"+a.escape(null==(t=r)?"":t)+" %</option>")}}}.call(this),n.push("</select></div></label></div></div></div></div>")}.call(this,"undefined"in i?i.undefined:void 0),n.join("")}},"oHr12kS+ja":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("iayxx/E6kY"),o=n("R0XELYJTi9"),r=n("H/QV61slXi"),s=n("VZMU+UILta");e.exports=function(e){var t=e.boardId;return{open:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).positionAbove,l=JSON.stringify({task:e,pixelRatio:window.devicePixelRatio}),u=i({elementId:"printTaskDialog"}),c=o({boardId:t,dto:l});u.open(),u.setContent(c);var d=u.getElement();n&&r.toTopOfStack(d,n);var m=a("#printTaskDialog-iframe"),p=m[0].contentWindow;d.find(".printTaskDialog-printButton").click(function(){p.focus(),p.print()}),m.one("load",function(){a(p.document).on("keydown",function(e){e.which===s.ESCAPE&&d.trigger(e)})}),a("#printTaskDialog-form").submit()}}}},oVe70YGkFs:function(e,t){e.exports=function(e){return function(t,n,a){for(var i=-1,o=Object(t),r=a(t),s=r.length;s--;){var l=r[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},oXFul96OdP:function(e,t,n){"use strict";var a=n("zMJ0LZ/hN1");e.exports={components:{"member-list":a}}},"oaAhe+oMhd":function(e,t,n){var a=n("wppep/zJLa"),i=n("yfX1iD1t8z"),o=n("LIpyplBEl9"),r=n("pkMvftKiht"),s=n("7BjGihoavO"),l=n("ZEJmeYc4Kq"),u=a?a.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,a,u,d,m){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&a;if(p||(p=l),e.size!=t.size&&!f)return!1;var h=m.get(e);if(h)return h==t;a|=2,m.set(e,t);var v=r(p(e),p(t),a,u,d,m);return m.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},"p/0cqC9K/5":function(e,t){var n=Array.isArray;e.exports=n},"p/s95OEyJI":function(e,t,n){var a=n("d05+lqiLYw"),i=n("LIpyplBEl9"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];o.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||a(e,t,n)}},"p1sv9J/v16":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("rEK1kr4M5E"),o=n("EWUDtfBmmZ"),r=["save","delete","update"];e.exports=function(){var e=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.jsonPost({url:"/subtask-list-template/save",data:t});case 2:n=e.sent,t._id=n,s.emit("save",{subTaskListTemplateId:n});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.jsonPost({url:"/subtask-list-template/"+t._id+"/update",data:t});case 2:s.emit("update",{subTaskListTemplateId:t._id});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.jsonPost({url:"/subtask-list-template/"+t+"/delete"});case 2:s.emit("delete",{subTaskListTemplateId:t});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s=o(r);return{on:s.on,getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.get({url:"/subtask-list-template",suppressGlobalErrorHandler:e.suppressGlobalErrorHandler})},save:e,update:t,deleteById:n}}},pK4YXlGLpL:function(e,t,n){var a=n("e5TXoHk/Cf"),i=n("OuyBMWWFiO");e.exports=function(e){return i(e)&&"[object Arguments]"==a(e)}},pkMvftKiht:function(e,t,n){var a=n("thFQia5cSc"),i=n("SfCFge+0Bd"),o=n("qxaqxtiB6H");e.exports=function(e,t,n,r,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var m=l.get(e);if(m&&l.get(t))return m==t;var p=-1,f=!0,h=2&n?new a:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var v=e[p],k=t[p];if(r)var g=u?r(k,v,p,t,e,l):r(v,k,p,e,t,l);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!i(t,function(e,t){if(!o(h,t)&&(v===e||s(v,e,n,r,l)))return h.push(t)})){f=!1;break}}else if(v!==k&&!s(v,k,n,r,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},pvSEXQHycq:function(e,t,n){"use strict";var a=n("TS0ILVVaKW");a.virtualElements.allowedBindings.stopBindingBelow=!0,a.bindingHandlers.stopBindingBelow={init:function(e,t){return{controlsDescendantBindings:a.utils.unwrapObservable(t())}}}},"pwNIr6Yd/P":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("MPL5sHSYnd"),n("WDiiPF+AfF"),!1,null,null,null);e.exports=a.exports},pyNLKmSUdC:function(e,t,n){"use strict";var a=n("CXfR8Bb8Nd");e.exports={debounce:a}},qHlELQnJK8:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ").createNamespacedHelpers("subTasks"),o=i.mapState,r=i.mapActions,s=n("NKFQkhZ/hO"),l=n("50u+wdY68T"),u=n("vPodq/6mM+");n("GbcutZx8hN"),n("natLtIr/Gc");var c=u();e.exports={props:["position","subTaskNames"],data:function(){return{templateName:""}},computed:a({},o(["subTaskListTemplates"])),methods:a({},r(["saveSubTaskListTemplate"]),{save:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.templateName){e.next=6;break}return e.next=3,s.alert("Please enter a name");case 3:this.focusNameInputIfUsingMouse(),e.next=17;break;case 6:if(!this.subTaskListTemplates.some(function(e){return e.name===t.templateName})){e.next=12;break}return e.next=9,s.alert("A template already exists with that name");case 9:this.focusNameInputIfUsingMouse(),e.next=17;break;case 12:return this.close(),l.showLoading(),e.next=16,this.saveSubTaskListTemplate({name:this.templateName,subTaskNames:this.subTaskNames});case 16:l.hideLoading();case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),focusNameInputIfUsingMouse:function(){c.wasMouseUsedLast()&&this.$refs.nameInput.focus()},close:function(){this.$emit("close")}})}},qRbadsr4Vt:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ").mapMutations,o=n("3pnaQtvm0l"),r=n("k4au3tkp+Z");n("JOCBxO5V3I"),e.exports={props:["column","collapsedColumnIds","hasSwimlanes","frozen","boardScrollLeft","boardScrollTop","someCellTaskLimitExceeded"],watch:{collapsedColumnIds:function(){this.frozen&&this.$forceUpdate()}},computed:{nameTitle:function(){return this.column.name+"\n\nClick to collapse"},descriptionTooltipHtml:function(){return"<strong>"+this.column.name+"</strong><br/>"+this.column.description},headerClasses:function(){var e=["columnHeader"];return this.frozen&&e.push("columnHeader-frozen"),(this.column.totalOverdueCount||this.columnTaskLimitExceeded||this.someCellTaskLimitExceeded)&&e.push("columnHeader--warning"),this.columnTaskLimitExceeded&&e.push("columnHeader--limitWarning"),e},addTaskButtonVisible:function(){return!this.hasSwimlanes&&!this.column.collapsed&&this.column.addTaskButtonVisible},countAndLimitTitle:function(){return o.getCountAndLimitTitle(this.column)},countAndLimitText:function(){return o.getCountAndLimitText(this.column)},taskCount:function(){var e=this.column,t=e.totalCount,n=e.isFilterActive,a=e.filterCount;return n?a:t},taskCountTitle:function(){return this.column.name+"\n"+this.countAndLimitTitle+"\n\nClick to expand"},headerDetails:function(){return{totalTaskCount:this.column.totalCount,filterTaskCount:this.column.filterCount,isFilterActive:this.column.isFilterActive,taskLimit:this.column.taskLimit,hasMore:this.column.hasMore,description:this.column.description}},columnTaskLimitExceeded:function(){return this.column.taskLimit&&this.column.totalCount>this.column.taskLimit}},methods:a({},i({hideColumnHeaderDetails:"HIDE_COLUMN_HEADER_DETAILS"}),{nameClick:function(e){this.$emit("nameClick",{columnId:this.column.columnId,event:e,headerElement:this.$refs.headerCell})},descriptionIconClick:function(e){this.$emit("descriptionIconClick",{columnId:this.column.columnId,event:e,headerElement:this.$refs.headerCell})},taskCountClick:function(){this.$emit("taskCountClick",this.column.columnId)},getHeaderInnerStyle:function(){if(this.frozen){var e=this.$refs.headerCell;return{left:e.getBoundingClientRect().left+document.body.scrollLeft+this.boardScrollLeft+"px",top:this.boardScrollTop+"px",width:e.offsetWidth+"px"}}},addTaskClick:function(){this.$emit("addTaskClick",this.column.columnId)},closeHeaderDetails:function(){this.hideColumnHeaderDetails(this.column.columnId)}}),components:{"header-details":r}}},qVpK81hPgg:function(e,t,n){"use strict";var a=n("RNfSVdyTQ7"),i=n("NKFQkhZ/hO"),o=n("TOAm8qxE4X");n("natLtIr/Gc"),n("GbcutZx8hN"),e.exports={props:["position","dateFinished"],data:function(){return{dateValue:this.dateFinished||a.getTodayIsoString()}},methods:{getMaxDate:function(){return a.getTodayIsoString()},close:function(){this.$emit("close")},updateClick:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=void 0,e.prev=1,t=a.parseIsoDateString(this.dateValue),e.next=11;break;case 5:return e.prev=5,e.t0=e.catch(1),e.next=9,i.alert("Invalid date");case 9:return this.$refs.dateInput.focus(),e.abrupt("return");case 11:if(!(t.getTime()>Date.now())){e.next=16;break}return e.next=14,i.alert("You can not enter a date in the future");case 14:return this.$refs.dateInput.focus(),e.abrupt("return");case 16:this.$emit("update",a.getIsoDateString(t));case 17:case"end":return e.stop()}},e,this,[[1,5]])}));return function(){return e.apply(this,arguments)}}(),dateInputInlineUpdate:function(e){document.activeElement===this.$refs.dateInput||(this.dateValue=e)}},components:{"date-input-inline":o}}},qVvtsuIicD:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("ndfhNeGG5k"),o=n("uj5lqEehEg");n("iZUEdi+Owc"),e.exports=function(e){function t(){s=null}var n=e.basePath,r=e.pointerMode,s=void 0,l=void 0;return{showForTask:function(e){var u=e.task,c=e.appendTo,d=e.position,m=e.positionAboveSelector,p=i.getLink(n,u),f=a("<div />");l=function(e){return a('<input type="text" />').attr({class:"taskLinkDialog-url",readonly:"readonly",value:e}).click(function(){return l.select()})}(p),f.append(l);var h=a("<div/>",{class:"taskLinkDialog-description"}).html("Use the URL when you want to link to this task, for example in an email or on a intranet page.<br/>Only users with access to this board can access the task.<br/><strong>Tip</strong>: On most systems you can press <strong>CTRL+C</strong> or <strong>CMD+C</strong> to copy the URL.");f.append(h),(s=o({elementId:"taskLinkDialog",title:"Permanent URL to task",appendTo:c,position:d,positionAboveSelector:m})).on("closed",t),s.open(f),l.setSelection(0,p.length),r.wasMouseUsedLast()&&l.focus()}}}},qW88fqIyo4:function(e,t,n){var a=n("bgO78Ra6Le");e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,r=a(e),s=void 0!==t,l=null===t,u=t==t,c=a(t);if(!l&&!c&&!r&&e>t||r&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!r&&!c&&e<t||c&&n&&o&&!i&&!r||l&&n&&o||!s&&o||!u)return-1}return 0}},qXFaSQhjQe:function(e,t,n){var a=n("a+zQmhtzaf"),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,s=i(o.length-t,0),l=Array(s);++r<s;)l[r]=o[t+r];r=-1;for(var u=Array(t+1);++r<t;)u[r]=o[r];return u[t]=n(l),a(e,this,u)}}},"qdXQDG+jsR":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("lRwfdXqfkY"),o=n("SJI6FcOvAZ").createNamespacedHelpers("dueDates"),r=o.mapState,s=o.mapGetters,l=n("RNfSVdyTQ7"),u=n("zCnJNEeu5Z").encode,c=n("NKFQkhZ/hO"),d=n("vPodq/6mM+"),m=n("TOAm8qxE4X"),p=n("0dZmkGnuy3"),f=n("jWWb2sICF9"),h=n("H/QV61slXi"),v=n("hHlQBZdXtr");n("GbcutZx8hN"),n("natLtIr/Gc"),n("kPXMvJIjHV"),n("JOCBxO5V3I");var k=d();e.exports={props:["dueDate","position"],data:function(){return{elementClass:"editDueDate",minDate:l.getTodayIsoString(),dateValue:"",timeValue:"",targetColumnId:"",isRepeating:!!this.dueDate&&!!this.dueDate.repeat,repeat:null,repeatIsValid:!0,repeatInvalidMessage:""}},computed:a({},r(["boardColumns","defaultDueDateTime"]),s(["dueDates","columnId"]),{isEdit:function(){return!!this.dueDate},dateLabel:function(){return this.isRepeating?"Start date":"Date"},repeatLabel:function(){return this.isRepeating?"Repeat":"Repeat (e.g. every week)"},date:function(){try{var e=l.parseIsoDateString(this.dateValue),t=this.timeValue.split(":");if(2!==t.length)return null;var n=parseInt(t[0],10)||0,a=parseInt(t[1],10)||0;return e.setHours(n),e.setMinutes(a),e}catch(e){return null}},dueTimestamp:function(){return this.date?this.date.toISOString():""},otherDueDates:function(){var e=this;return this.isEdit?this.dueDates.filter(function(t){return t.targetColumnId!==e.dueDate.targetColumnId}):this.dueDates},applicableTargetColumnsForTask:function(){var e=this,t=this.boardColumns.findIndex(function(t){return t.columnId===e.columnId});return this.boardColumns.slice(t+1)},targetColumnIndex:function(){var e=this;return this.boardColumns.findIndex(function(t){return t.columnId===e.targetColumnId})},editRepeatVisible:function(){return this.isRepeating&&!this.hasRepeatCopy},hasRepeatCopy:function(){return!(!this.repeat||!this.repeat.copyTaskId)},hasOtherDueDates:function(){return this.isEdit?this.dueDates.length>1:this.dueDates.length>0},validationMessageHtml:function(){var e=this;if(this.isRepeating&&this.hasOtherDueDates)return"Repeating tasks can only have <strong>one</strong> due date";if(this.isRepeating&&!this.dateValue)return"Please enter a start date";if(!this.date)return"Invalid date or time";if(this.date.getTime()<Date.now())return"Due date has already passed";var t=this.otherDueDates.find(function(t){return t.targetColumnId===e.targetColumnId});if(t)return"The task already has a due date for column <strong>"+u(t.targetColumnName)+"</strong>";var n=this.getLaterColumnWithEarlierDueDateOrNull();if(n)return"An earlier due date is already set for column <strong>"+u(n.targetColumnName)+"</strong>";var a=this.getEarlierColumnWithLaterDueDateOrNull();return a?"A later due date is already set for column <strong>"+u(a.targetColumnName)+"</strong>":!this.isRepeating||this.hasRepeatCopy||this.repeatIsValid?void 0:this.repeatInvalidMessage}}),watch:{isRepeating:function(e){e&&i.nextTick(this.ensureInsideViewport)}},methods:{done:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.validationMessageHtml){e.next=6;break}return e.next=3,c.alertHtml(this.validationMessageHtml);case 3:k.wasMouseUsedLast()&&this.$refs.dateInput.focus(),e.next=9;break;case 6:t={dueTimestamp:this.dueTimestamp,targetColumnId:this.targetColumnId},this.isRepeating&&(1===(n=v(this.repeat)).interval&&delete n.interval,t.repeat=n),this.$emit("done",t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),deleteClick:function(){this.$emit("delete")},timeInputUpdate:function(e){this.timeValue=e},getEarlierColumnWithLaterDueDateOrNull:function(){var e=this;return this.otherDueDates.find(function(t){return e.boardColumns.findIndex(function(e){return e.columnId===t.targetColumnId})<e.targetColumnIndex&&t.dueTimestamp.localeCompare(e.dueTimestamp)>0})},getLaterColumnWithEarlierDueDateOrNull:function(){var e=this;return this.otherDueDates.find(function(t){return e.boardColumns.findIndex(function(e){return e.columnId===t.targetColumnId})>e.targetColumnIndex&&t.dueTimestamp.localeCompare(e.dueTimestamp)<0})},close:function(){this.$emit("close")},repeatUpdate:function(e){var t=e.repeat,n=e.isValid,a=e.invalidMessage;this.repeat=t,this.repeatIsValid=n,this.repeatInvalidMessage=a},ensureInsideViewport:function(){h.ensureInsideContainer("."+this.elementClass,{$container:window})},dateValueInlineUpdate:function(e){document.activeElement===this.$refs.dateInput||(this.dateValue=e)}},created:function(){var e=this.boardColumns[this.boardColumns.length-1].columnId;if(this.isEdit){var t=new Date(this.dueDate.dueTimestamp);this.dateValue=l.getIsoDateString(t),this.timeValue=l.get24HoursTimeString(t);var n=this.dueDate.targetColumnId,a=this.boardColumns.some(function(e){return e.columnId===n});this.targetColumnId=a?n:e}else this.dateValue=l.getTodayIsoString(),this.timeValue=this.defaultDueDateTime,this.targetColumnId=e},components:{"date-input-inline":m,"repeating-task-edit":p,"settings-checkbox":f}}},qgeA96tG5m:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("hglMe4iKx3"),n("gRk/JqyF4t"),!1,null,null,null);e.exports=a.exports},qh3WTG8nsd:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("color"),s=r.mapState,l=r.mapGetters,u=r.mapActions,c=n("yhjRaRyzUX");e.exports={data:function(){return{focusSelectedColorOnDone:!1}},computed:a({},o(["readOnly"]),s(["editColorVisible","canEditColors"]),l(["taskColor","enabledColorItems","allColorItems"]),{selectedColorText:function(){var e=this;return this.allColorItems.find(function(t){return t.value===e.taskColor}).text},iconClasses:function(){return"taskDetails-colorIcon taskDetails-colorIcon--"+this.taskColor},selectedColorClasses:function(){var e=["taskDetails-selectedColor taskDetails-editableProperty"];return this.editColorVisible&&e.push("taskDetails-selectedColor--selectOpen"),e}}),methods:a({},u(["updateColor","renameColor","showEditColor","hideEditColor","moveColor"]),{hideColorSelect:function(){this.hideEditColor(),this.focusSelectedColorIfApplicable()},toggleSelectVisible:function(){this.editColorVisible?this.hideEditColor():this.showEditColor()},openSelectFromKeyboard:function(){this.focusSelectedColorOnDone=!0,this.toggleSelectVisible()},focusSelectedColorIfApplicable:function(){var e=this;this.focusSelectedColorOnDone&&(this.focusSelectedColorOnDone=!1,this.$nextTick(function(){e.$refs.selectColorButton.focus()}))},getColorSelectPosition:function(){return{my:"left top",at:"left-7px bottom+1px",of:this.$refs.selectColorButton}}}),components:{"color-select":c}}},qxaqxtiB6H:function(e,t){e.exports=function(e,t){return e.has(t)}},"qzXOfT+EY+":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("element-append",{attrs:{appendSelector:".appendWrapper",wrapperClass:"colorSelectMenu-wrapper"}},[n("sortable",{attrs:{useFirstChildAsRoot:!0,options:e.getSortableOptions(),enable:!e.selectedRenameColorValue&&e.canEdit},on:{start:e.onDragStart,end:e.onDragEnd,update:function(t){e.onDragUpdate(t)}}},[n("ul",{ref:"menu",class:e.menuClasses,style:e.menuStyle,attrs:{tabindex:"0"},on:{keydown:e.onKeyDown}},e._l(e.options,function(t,a){return n("li",{key:a,ref:"color--"+t.value,refInFor:!0,class:e.getOptionClasses(t.value,a),attrs:{tabindex:"0"},on:{click:function(n){e.colorClick(t.value,n)},keydown:[function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key)?n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:void e.selectColorAndHide(t.value):null},function(n){if(!("button"in n)&&e._k(n.keyCode,"space",32,n.key))return null;n.preventDefault(),e.selectColorAndHide(t.value)},function(n){return("button"in n||!e._k(n.keyCode,"enter",13,n.key))&&n.shiftKey?void e.showColorMoreMenu(t.value):null}],focus:function(t){e.onColorOptionFocus(a)}}},[e.selectedRenameColorValue===t.value?[n("div",{staticClass:"colorSelectMenu-optionInfo"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.renameColorText,expression:"renameColorText",modifiers:{trim:!0}},{name:"focus-mouse",rawName:"v-focus-mouse"}],staticClass:"colorSelectMenu-nameInput",attrs:{type:"text",maxlength:"60"},domProps:{value:e.renameColorText},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.stopPropagation()},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.stopPropagation(),e.renameDone(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"escape",void 0,t.key))return null;t.stopPropagation(),e.closeRename(t)},function(e){e.stopPropagation()}],input:function(t){t.target.composing||(e.renameColorText=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("button",{staticClass:"colorSelectMenu-optionButton",on:{click:function(t){t.stopPropagation(),e.renameDone(t)}}},[n("i",{staticClass:"taskDetails-doneIcon icons--button icons-done icons-gray"})])]:[n("div",{staticClass:"colorSelectMenu-optionInfo"},[n("i",{class:e.getOptionIconClasses(t.value)}),e._v(" "),n("span",{staticClass:"colorSelectMenu-optionText"},[e._v("\n                            "+e._s(t.text)+"\n                        ")]),e._v(" "),t.description?n("tooltip-help",{staticClass:"colorSelectMenu-descriptionIcon",attrs:{html:t.description,icon:"info"}}):e._e()],1),e._v(" "),e.canEdit?n("button",{ref:"colorMore--"+t.value,refInFor:!0,staticClass:"colorSelectMenu-optionButton",attrs:{tabindex:"-1"},on:{click:function(n){n.stopPropagation(),e.showColorMoreMenu(t.value)}}},[n("i",{class:e.getMoreIconClasses(t.value)})]):e._e(),e._v(" "),n("div",{staticStyle:{display:"none"}},[e.moreMenuColorValue===t.value?n("kf-menu",{attrs:{appendTo:".appendWrapper",position:e.getPositionForColorMoreMenu(e.moreMenuColorValue)},on:{close:e.moreMenuClose}},[n("item",{attrs:{text:"Select"},on:{click:function(t){e.selectColorAndHide(e.moreMenuColorValue)}}}),e._v(" "),n("item",{attrs:{text:"Rename"},on:{click:function(n){e.renameColor(t)}}})],1):e._e()],1)]],2)}))]),e._v(" "),n("div",{staticClass:"colorSelectMenu-overlay"})],1)},staticRenderFns:[]}},"r/ZX2WmULV":function(e,t,n){n("UuxzYNRyeK"),e.exports=function(e){var t=[];return t.push('<div class="premiumInfoDialog-features"><h3 class="premiumInfoDialog-featuresTitle">What is included in Premium?</h3><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Swimlanes</h3><p class="premiumInfoDialog-featureDescription">Get an <strong>even better overview</strong> of your tasks by adding horizontal swimlanes to your Kanban board.</p><p class="premiumInfoDialog-featureDescription">Split your board into teams, products, business areas or something else that will <strong>help you manage your tasks</strong>.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Swimlanes.png" alt="Kanban board with swimlanes" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Documents and file attachments</h3><p class="premiumInfoDialog-featureDescription">Attach documents, spreadsheets, presentations and other files to your tasks.</p><p class="premiumInfoDialog-featureDescription">Attach the files directly from your computer or from <strong>Dropbox</strong>, <strong>Box</strong> or <strong>Google Drive</strong>.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Files.png" alt="Attach files to tasks" class="premiumInfoDialog-featureScreenshot"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Search</h3><p class="premiumInfoDialog-featureDescription">Instantly <strong>find the task you are looking for</strong> on your board. Even when you have 100s or 1000s of tasks on your board.</p><p class="premiumInfoDialog-featureDescription">The search matches text used in task name, description, comments, subtasks, labels and more.\n Results include both visible and archived tasks.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Search.png" alt="Board search" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Time spent report</h3><p class="premiumInfoDialog-featureDescription">See how time has been spent on different tasks.\n Keep track of your own time or review what your team members have been working on.</p><p class="premiumInfoDialog-featureDescription">Customize the report by <strong>filtering</strong> and <strong>grouping</strong> the logged time data in many ways.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/TimeSpentReport.png" alt="Time spent report" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Cumulative Flow</h3><p class="premiumInfoDialog-featureDescription"> The Cumulative Flow diagram shows how many tasks there are in different columns over time.</p><p class="premiumInfoDialog-featureDescription"> Use the diagram to <strong>analyze</strong> your workflow and <strong>identify bottlenecks</strong>.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/CumulativeFlow.png" alt="Cumulative Flow diagram" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Cycle &amp; Lead time</h3><p class="premiumInfoDialog-featureDescription">The Cycle/Lead time chart shows how long time it has taken for tasks to move\n between different columns in your workflow.</p><p class="premiumInfoDialog-featureDescription">Use it to see if you become <strong>faster</strong> or slower at <strong>delivering value</strong> to your customers.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/CycleAndLeadTime.png" alt="Cycle and Lead time chart" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Burndown</h3><p class="premiumInfoDialog-featureDescription">The Burndown chart shows how many tasks remain to be done.</p><p class="premiumInfoDialog-featureDescription"><strong>Track progress</strong> over time and <strong>predict</strong> when all work will be done.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Burndown.png" alt="Burndown chart" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Throughput</h3><p class="premiumInfoDialog-featureDescription">The Throughput chart shows how many tasks are moving through a column.</p><p class="premiumInfoDialog-featureDescription">Measure the <strong>performance</strong> of your system and <strong>how much value</strong> you are producing.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Throughput.png" alt="Throughput chart" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Relations</h3><p class="premiumInfoDialog-featureDescription">Add relations between tasks, even across boards, to indicate that they <strong>relate to</strong> or <strong>depend on</strong> each other.</p><p class="premiumInfoDialog-featureDescription">For example, this enables you to have a high-level <strong>portfolio board</strong> and connect tasks from team boards to it.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/TaskRelations.png" alt="Relations" class="premiumInfoDialog-featureScreenshot"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Calendar</h3><p class="premiumInfoDialog-featureDescription">Get a <strong>better overview</strong> of when your tasks are due with the calendar view. Filter on user, color, labels or swimlane.</p><p class="premiumInfoDialog-featureDescription">You can also show the dates in your <strong>external calendar</strong> by subscribing to a feed.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Calendar.png" alt="Calendar view" class="premiumInfoDialog-featureScreenshot"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Dashboard</h3><p class="premiumInfoDialog-featureDescription">The dashboard can show information from <strong>multiple boards</strong> on the <strong>same page</strong>.</p><p class="premiumInfoDialog-featureDescription">Design your dashboard freely by adding widgets.\n Specify board, columns, filter and task settings per widget.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Dashboard.png" alt="Dashboard" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Forecasting</h3><p class="premiumInfoDialog-featureDescription"><strong>Spending a lot of time on estimates?</strong> Use forecasts instead to predict when your tasks will be completed.</p><p class="premiumInfoDialog-featureDescription">Based on historical data, the report assumes planned work will follow a similar trend. Forecasting can be just as accurate as estimates, but gives you <strong>more time for work</strong>.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Forecasting.png" alt="Forecasting" class="premiumInfoDialog-featureScreenshot"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Time estimate &amp; Task count</h3><p class="premiumInfoDialog-featureDescription">Get an overview of the <strong>estimated workload</strong> on your board. Identify if someone on your team has an unrealistic amount of work assigned to them.</p><p class="premiumInfoDialog-featureDescription"><strong>Not using estimates?</strong> You can still get a good overview of your workload just by analyzing the number of tasks in different columns.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/TimeEstimateReport.png" alt="Time estimate report" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Board &amp; Task history</h3><p class="premiumInfoDialog-featureDescription">See a <strong>detailed log of changes</strong> that are made on the board. Or for a specific task.</p><p class="premiumInfoDialog-featureDescription">Filter the history log by user or type of change.\n Compare a field\'s value side-by-side before and after the change.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/BoardHistory.png" alt="Board history" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Import and Export</h3><p class="premiumInfoDialog-featureDescription">Easily transfer tasks to/from other systems by using the import and export features.</p><p class="premiumInfoDialog-featureDescription">You can export tasks to <strong>Excel</strong>, <strong>CSV</strong>, XML and JSON. Import tasks from Excel or CSV.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Import.png" alt="Import tasks" class="premiumInfoDialog-featureScreenshot premiumInfoDialog-featureScreenshot--framed"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Add tasks by email</h3><p class="premiumInfoDialog-featureDescription">Quickly add tasks to your board by sending an email from <strong>Outlook</strong>, <strong>Gmail</strong> or any other mail client.</p><p class="premiumInfoDialog-featureDescription">The email subject will be used as task name and the body as task description.\n Attachments will automatically be added to the task.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/AddTaskByMail.png" alt="Add task by mail" class="premiumInfoDialog-featureScreenshot"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">API and Webhooks</h3><p class="premiumInfoDialog-featureDescription">Integrate with other systems using our <strong>REST-based</strong> API. You can create, read, update and delete tasks programmatically.</p><p class="premiumInfoDialog-featureDescription">Use webhooks to <strong>notify</strong> your external system when something happens on your board.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Integrations.png" alt="Integrations" class="premiumInfoDialog-featureScreenshot"></div></div><div class="premiumInfoDialog-feature"><div class="premiumInfoDialog-textWrapper"><h3 class="premiumInfoDialog-featureTitle">Zapier</h3><p class="premiumInfoDialog-featureDescription"><strong><a href="https://zapier.com/zapbook/kanbanflow/" target="_blank">Zapier</a></strong> lets you <strong>connect other web apps</strong> that you use with KanbanFlow. No coding skills required.</p><p class="premiumInfoDialog-featureDescription">Automate so that when an event occurs in another web app, a task will be created.\nOr when a task is added or moved on your board, trigger an action in a different web app.</p></div><div class="premiumInfoDialog-screenshotWrapper"><img src="/img/screenshots/Zapier.png" alt="Zapier" class="premiumInfoDialog-featureScreenshot"></div></div></div>'),t.join("")}},"r0r+tX9ATs":function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},r8MYFB4F4U:function(e,t){e.exports=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}},rMbwGI5Er7:function(e,t,n){"use strict";function a(e,t){if(t){var n=new l(e),a=new s(n);a.register(t.strategies),a.on("rendered",function(){var e=a.dropdown.items[0];e&&e.activate()}),u.set(e,a)}}function i(e){var t=u.get(e);t&&(u.delete(e),t.destroy())}var o=n("lRwfdXqfkY"),r=n("YivR1GrJ3n"),s=r.Textcomplete,l=r.Textarea,u=new Map;o.directive("text-complete",{inserted:function(e,t){a(e,t.value)},update:function(e,t){var n=t.value;n!==t.oldValue&&(i(e),a(e,n))},unbind:function(e){i(e)}})},rSJZd2NoJP:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("kF1epHbTwO"),n("3T5QVV5VuR"),!1,null,null,null);e.exports=a.exports},s6cNoKf7Rj:function(e,t,n){var a=n("hmcW/XZCs7"),i=n("N0V4YkNWvJ"),o=n("sruzwrkik+");e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||a(n,e,t)}}},s9ebpazH5K:function(e,t,n){"use strict";var a=n("RNfSVdyTQ7"),i=n("hHlQBZdXtr");e.exports=function(e){function t(e){return o.getColumnIndexById(e)}var n=e.userId,o=e.boardColumnRepository;return{evaluate:function(e,o){var r=i(e.dates),s=!1,l=t(o);return r.forEach(function(e){var i=t(e.targetColumnId);i<0||("done"===e.status?a.parseIsoTimestampString(e.dueTimestamp).getTime()>Date.now()&&l<i&&(e.status="active",delete e.doneTimestamp,delete e.doneByUserId,s=!0):l>=i&&(e.status="done",e.doneTimestamp=a.getIsoTimestamp(new Date),e.doneByUserId=n,s=!0))}),s?{wasChanged:!0,mergeData:{dates:r}}:{wasChanged:!1}}}}},sItIK3wUWW:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("hRkvNS9hqe"),n("t6QXL6lCRs"),!1,null,null,null);e.exports=a.exports},sSX1a7FI2N:function(e,t,n){"use strict";var a=n("hHlQBZdXtr"),i=n("0iPhQ5GI5H"),o=n("TS0ILVVaKW"),r=n("H/QV61slXi"),s={top:"popoverMenu-top",bottom:"popoverMenu-bottom",left:"popoverMenu-left",right:"popoverMenu-right"};o.bindingHandlers.popoverMenu={init:function(e,t,n){var l=Object.keys(s).map(function(e){return s[e]}).join(" "),u=o.toJS(t());Object.assign(u,{using:function(e,t){var n=t.vertical,i=t.horizontal,o=t.important,r=a(e);"vertical"===o?("top"===n?(d.addClass(s.bottom),d.removeClass(s.top)):(d.addClass(s.top),d.removeClass(s.bottom)),r.left=Math.max(r.left,5)):("left"===i?(d.addClass(s.right),d.removeClass(s.left)):(d.addClass(s.left),d.removeClass(s.right)),r.top=Math.max(r.top,5)),d.css(r)}});var c=n.get("visible"),d=i(e);c.subscribe(function(e){e?(d.position(u),r.toTopOfStack(d,".stackable")):d.removeClass(l)})}}},"shG5vVCK1/":function(e,t,n){"use strict";e.exports=function(){return{namespaced:!0,state:{addVisible:!1,editVisible:!1},getters:{task:function(e,t,n){return n.task}},mutations:{SET_ADD_VISIBLE:function(e,t){e.addVisible=t},SET_EDIT_VISIBLE:function(e,t){e.editVisible=t}},actions:{showAddOrEdit:function(e){var t=e.commit;e.getters.task.pointsEstimate?t("SET_EDIT_VISIBLE",!0):t("SET_ADD_VISIBLE",!0)},updateEstimate:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t,n){var a=t.dispatch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("updateTask",{pointsEstimate:n},{root:!0});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}}}},skbsh2rJvJ:function(e,t){e.exports=function(e){return this.__data__.get(e)}},srROM87tjO:function(e,t){e.exports=function(e,t){for(var n=-1,a=t.length,i=e.length;++n<a;)e[i+n]=t[n];return e}},"sruzwrkik+":function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},"suu7+2GOu+":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("36s86rKoBA"),n("6LoNwDpxCS"),!1,null,null,null);e.exports=a.exports},"t/zkyO3piH":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n("2JJlSkUcHj")),r=a(n("CqlDqVorsO")),s=(a(n("heLhFGELzy")),n("CFxTPrnk5X")),l="dropdown-menu textcomplete-dropdown",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.shown=!1,n.items=[],n.activeItem=null,n.footer=e.footer,n.header=e.header,n.maxCount=e.maxCount||10,n.el.className=e.className||l,n.rotate=!e.hasOwnProperty("rotate")||e.rotate,n.placement=e.placement,n.itemOptions=e.item||{};var a=e.style;return a&&Object.keys(a).forEach(function(e){n.el.style[e]=a[e]}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,null,[{key:"createElement",value:function(){var e=document.createElement("ul"),t=e.style;t.display="none",t.position="absolute",t.zIndex="10000";var n=document.body;return n&&n.appendChild(e),e}}]),i(t,[{key:"destroy",value:function(){var e=this.el.parentNode;return e&&e.removeChild(this.el),this.clear()._el=null,this}},{key:"render",value:function(e,t){var n=this,a=(0,s.createCustomEvent)("render",{cancelable:!0});if(this.emit("render",a),a.defaultPrevented)return this;var i=e.map(function(e){return e.data}),o=e.slice(0,this.maxCount||e.length).map(function(e){return new r.default(e,n.itemOptions)});return this.clear().setStrategyId(e[0]).renderEdge(i,"header").append(o).renderEdge(i,"footer").setOffset(t).show(),this.emit("rendered",(0,s.createCustomEvent)("rendered")),this}},{key:"deactivate",value:function(){return this.hide().clear()}},{key:"select",value:function(e){var t={searchResult:e.searchResult},n=(0,s.createCustomEvent)("select",{cancelable:!0,detail:t});return this.emit("select",n),n.defaultPrevented?this:(this.deactivate(),this.emit("selected",(0,s.createCustomEvent)("selected",{detail:t})),this)}},{key:"up",value:function(e){return this.shown?this.moveActiveItem("prev",e):this}},{key:"down",value:function(e){return this.shown?this.moveActiveItem("next",e):this}},{key:"getActiveItem",value:function(){return this.activeItem}},{key:"append",value:function(e){var t=this,n=document.createDocumentFragment();return e.forEach(function(e){t.items.push(e),e.appended(t),n.appendChild(e.el)}),this.el.appendChild(n),this}},{key:"setOffset",value:function(e){if(e.left?this.el.style.left=e.left+"px":e.right&&(this.el.style.right=e.right+"px"),this.isPlacementTop()){var t=document.documentElement;t&&(this.el.style.bottom=t.clientHeight-e.top+e.lineHeight+"px")}else this.el.style.top=e.top+"px";return this}},{key:"show",value:function(){if(!this.shown){var e=(0,s.createCustomEvent)("show",{cancelable:!0});if(this.emit("show",e),e.defaultPrevented)return this;this.el.style.display="block",this.shown=!0,this.emit("shown",(0,s.createCustomEvent)("shown"))}return this}},{key:"hide",value:function(){if(this.shown){var e=(0,s.createCustomEvent)("hide",{cancelable:!0});if(this.emit("hide",e),e.defaultPrevented)return this;this.el.style.display="none",this.shown=!1,this.emit("hidden",(0,s.createCustomEvent)("hidden"))}return this}},{key:"clear",value:function(){return this.el.innerHTML="",this.items.forEach(function(e){return e.destroy()}),this.items=[],this}},{key:"moveActiveItem",value:function(e,t){var n="next"===e?this.activeItem?this.activeItem.next:this.items[0]:this.activeItem?this.activeItem.prev:this.items[this.items.length-1];return n&&(n.activate(),t.preventDefault()),this}},{key:"setStrategyId",value:function(e){var t=e&&e.strategy.props.id;return t?this.el.setAttribute("data-strategy",t):this.el.removeAttribute("data-strategy"),this}},{key:"renderEdge",value:function(e,t){var n=("header"===t?this.header:this.footer)||"",a="function"==typeof n?n(e):n,i=document.createElement("li");return i.classList.add("textcomplete-"+t),i.innerHTML=a,this.el.appendChild(i),this}},{key:"isPlacementTop",value:function(){return"top"===this.placement}},{key:"el",get:function(){return this._el||(this._el=t.createElement()),this._el}}]),t}();t.default=u},t56YCyvgSc:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return"timerUser"===this.displayMode?t("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:this.getTooltipHtml,expression:"getTooltipHtml"}],class:this.avatarClasses,on:{click:function(e){e.stopPropagation()}}},[t("img",{staticClass:"task-timerAvatarImage",attrs:{src:this.model.avatarUrl}})]):t("img",{directives:[{name:"tooltip",rawName:"v-tooltip",value:this.getTooltipHtml,expression:"getTooltipHtml"}],class:this.avatarClasses,attrs:{src:this.model.avatarUrl},on:{click:function(e){e.stopPropagation()}}})},staticRenderFns:[]}},t6QXL6lCRs:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"commentsSection",staticClass:"taskDetails-section",attrs:{id:"taskDetails-commentsSection"}},[n("div",{staticClass:"taskDetails-sectionHeader"},[e._m(0),e._v(" "),n("h3",{staticClass:"taskDetails-sectionTitle"},[e._v("Comments")]),e._v(" "),e.commentsCount?n("span",{staticClass:"taskDetails-sectionHeaderSecondaryText"},[e._v("\n            "+e._s(e.commentsCount)+"\n        ")]):e._e()]),e._v(" "),n("div",{staticClass:"taskDetails-sectionContent"},[e.failedToLoad?n("span",{staticClass:"taskDetails-errorMessage"},[e._v("\n            Failed to load comments\n        ")]):e.loadingAsyncSections?n("div",{staticClass:"loading loading--noText"},[n("div",{staticClass:"loadingSpinner loadingSpinner--semiTransparent"})]):[e.visibleComments.length?[e.numberOfHidden?n("button",{staticClass:"taskDetails-showEarlierCommentsButton",on:{click:e.showEarlierComments}},[e._m(1),e._v("\n                    Show earlier comments\n                ")]):e._e(),e._v(" "),n("ul",{staticClass:"taskDetails-comments"},e._l(e.visibleComments,function(t){return n("li",{key:t.commentId,staticClass:"taskDetails-comment"},[n("div",{staticClass:"taskDetails-commentHeader"},[n("div",{staticClass:"taskDetails-iconWrapper"},[n("img",{class:e.commentAuthorAvatarClasses,attrs:{src:t.avatarImageUrl}})]),e._v(" "),n("div",{staticClass:"taskDetails-commentInfo"},[n("span",{staticClass:"taskDetails-commentAuthor"},[e._v(e._s(t.authorFullName))]),e._v(" "),n("span",{staticClass:"taskDetails-commentTimestamps"},[e._v("\n                                "+e._s(t.timestampsText)+"\n                            ")])]),e._v(" "),e.isMoreVisible(t)?n("button",{class:e.getMoreIconClasses(t),on:{click:function(n){e.commentMoreClick(t)}}}):e._e(),e._v(" "),t.commentId===e.menuCommentId?n("kf-menu",{attrs:{position:e.getCommentMenuPosition(),appendTo:".appendWrapper"},on:{close:e.hideMenu}},[t.canEdit?n("item",{attrs:{text:"Edit",iconClass:"menu-icon-edit"},on:{click:e.onMenuEdit}}):e._e(),e._v(" "),t.canDelete?n("item",{attrs:{text:"Delete",iconClass:"menu-icon-delete"},on:{click:e.onMenuDelete}}):e._e()],1):e._e()],1),e._v(" "),t.commentId===e.editCommentId?n("text-editor",{staticClass:"taskDetails-editComment",attrs:{focus:!0,allowEmpty:!0,value:t.text,renderHtml:e.renderCommentTextAsHtml,completeSettings:e.getCompleteSettings(),highlightSettings:e.getHighlightSettings(),onCancel:e.cancelEditComment,onDone:e.editCommentDone,placeholder:"Add comment...",inputClass:"taskDetails-editCommentInput"},on:{input:e.setEditCommentText,clickOutside:e.editCommentDone}}):n("div",{staticClass:"taskDetails-commentContent taskDetails-focusableProperty",attrs:{tabindex:t.canEdit?0:-1},on:{"!click":function(n){e.commentContentClick(t,n)},keydown:[function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13,n.key))return null;e.commentContentKeydown(t,n)},function(n){if(!("button"in n)&&e._k(n.keyCode,"space",32,n.key))return null;n.preventDefault(),e.commentContentKeydown(t,n)}]}},[n("div",{staticClass:"taskDetails-commentText markdown",domProps:{innerHTML:e._s(e.renderCommentAsHtml(t))}})])],1)}))]:e._e(),e._v(" "),n("div",{staticClass:"taskDetails-addCommentRow"},[n("div",{staticClass:"taskDetails-iconWrapper"},[n("img",{class:e.commentAuthorAvatarClasses+" taskDetails-addCommentAvatar",attrs:{src:e.userAvatarImageUrl}})]),e._v(" "),n("text-editor",{staticClass:"taskDetails-addComment taskDetails-textEditor--inputActive",attrs:{focus:e.addCommentFocus,renderHtml:e.renderCommentTextAsHtml,completeSettings:e.getCompleteSettings(),highlightSettings:e.getHighlightSettings(),onCancel:e.cancelAddComment,onDone:e.addCommentDone,doneText:"Add",placeholder:"Add comment...",inputClass:"taskDetails-addCommentInput"},on:{input:e.setAddCommentText,focus:e.onAddCommentFocus,blur:function(t){e.setAddCommentFocus(!1)}}})],1)]],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-iconWrapper"},[t("i",{staticClass:"taskDetails-sectionHeaderIcon icons-task-comments"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-iconWrapper"},[t("i",{staticClass:"taskDetails-showEarlierCommentsIcon icons-chevron-down"})])}]}},t7vbi3q7qC:function(e,t,n){"use strict";n("natLtIr/Gc"),e.exports={props:["avatarImageUrl","displayName","role","readOnly","dialogPosition"],computed:{isResponsible:function(){return this.role.toLowerCase().includes("responsible")}},methods:{setAsResponsibleClick:function(){this.$emit("setResponsible")},removeAsResponsibleClick:function(){this.$emit("removeResponsible")},removeFromTaskClick:function(){this.$emit("removeMember")},close:function(){this.$emit("close")}},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.main.focus()})}}},"tCH++oePP3":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskList",on:{dblclick:e.taskListDoubleClick}},[e.groupByDate?[e._l(e.taskGroups,function(t){return n("div",{key:t.dateString,class:e.getTaskGroupClasses(t),attrs:{"data-date":t.dateString}},[n("div",{staticClass:"task-groupLabel"},[e._v(e._s(t.title))]),e._v(" "),e._l(t.tasks,function(t){return n("task",{key:t.taskId,attrs:{task:t},on:{taskClick:e.taskClick,setSubTaskFinished:e.setSubTaskFinishedForTask,highlight:e.highlightTask}})})],2)}),e._v(" "),e.showMoreButtonVisible?n("div",{staticClass:"task-showMoreWrapper"},[n("button",{staticClass:"task-showMore",on:{click:e.showMoreClick}},[e._v("Show more")])]):e._e()]:e._l(e.taskGroups[0].tasks,function(t){return n("task",{key:t.taskId,attrs:{task:t},on:{taskClick:e.taskClick,setSubTaskFinished:e.setSubTaskFinishedForTask,highlight:e.highlightTask}})})],2)},staticRenderFns:[]}},"tEIQ/wLeRZ":function(e,t,n){var a=n("bgO78Ra6Le");e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var r=e[i],s=t(r);if(null!=s&&(void 0===l?s==s&&!a(s):n(s,l)))var l=s,u=r}return u}},"tHoFfra/bN":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{position:e.position,ensureInsideViewport:!0,elementClass:e.elementClasses,appendTo:".appendWrapper",title:"Add relation"},on:{closed:e.close}},[n("div",{staticClass:"addRelation-form"},[1===e.boardGroups.length?n("label-select",{staticClass:"addRelation-board",attrs:{options:e.firstBoardGroupOptions,loading:e.boardGroupsLoading,label:"Board"},on:{change:e.boardChange},model:{value:e.selectedBoardId,callback:function(t){e.selectedBoardId=t},expression:"selectedBoardId"}}):n("label-select",{staticClass:"addRelation-board",attrs:{optionGroups:e.boardOptionGroups,loading:e.boardGroupsLoading,label:"Board"},on:{change:e.boardChange},model:{value:e.selectedBoardId,callback:function(t){e.selectedBoardId=t},expression:"selectedBoardId"}}),e._v(" "),n("label-select",{staticClass:"addRelation-relationType",attrs:{options:e.getRelationTypeOptions(),label:"Relation"},model:{value:e.relationType,callback:function(t){e.relationType=t},expression:"relationType"}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchInputValue,expression:"searchInputValue",modifiers:{trim:!0}},{name:"focus-mouse",rawName:"v-focus-mouse"}],ref:"search",staticClass:"addRelation-searchInput",attrs:{type:"search",placeholder:"Search for task..."},domProps:{value:e.searchInputValue},on:{input:[function(t){t.target.composing||(e.searchInputValue=t.target.value.trim())},e.searchSelectedBoard],blur:function(t){e.$forceUpdate()}}})],1),e._v(" "),e.searchHits.length?n("ul",{ref:"searchHits",staticClass:"addRelation-searchHits scroll scroll--horizontalHidden"},[e._l(e.searchHits,function(t,a){return n("li",{class:e.getSearchHitClasses(a),attrs:{tabindex:"0"},on:{click:function(n){e.searchHitSelected(t)},focus:function(t){e.selectHitAtIndex(a)}}},[n("div",{class:e.getHitColorClasses(t)}),e._v(" "),n("div",{staticClass:"addRelation-searchHitTextContent"},[n("div",{staticClass:"addRelation-searchHitTaskName truncate",attrs:{title:t.taskName}},[e._v("\n                    "+e._s(e.getSearchHitTaskFullName(t))+"\n                ")]),e._v(" "),n("div",{staticClass:"addRelation-searchHitPosition"},[e._v("\n                    "+e._s(e.getSearchHitPositionText(t))+"\n                ")])])])}),e._v(" "),e.moreHitsAvailable?n("li",{staticClass:"addRelation-moreHitsAvailableMessage"},[e._v("\n            More hits available. Narrow your search.\n        ")]):e._e()],2):e.searching||e.searchResultMessage?n("div",{staticClass:"addRelation-searchStatus"},[e.searching?n("div",{staticClass:"addRelation-loading loading loading--noText"},[n("div",{staticClass:"loadingSpinner"})]):e.searchResultMessage?n("p",{class:e.searchMessageClasses},[e._v(e._s(e.searchResultMessage))]):e._e()]):e._e()])},staticRenderFns:[]}},tQCTvyn8aV:function(e,t,n){var a=n("fLfTBDcZUO"),i=n("K9uVF6Fx4i"),o=n("gTE+cd9jss"),r=n("IVes+VfQYC"),s=n("4N036f+mEN"),l=n("e5TXoHk/Cf"),u=n("g55Ov5xJYT"),c=u(a),d=u(i),m=u(o),p=u(r),f=u(s),h=l;(a&&"[object DataView]"!=h(new a(new ArrayBuffer(1)))||i&&"[object Map]"!=h(new i)||o&&"[object Promise]"!=h(o.resolve())||r&&"[object Set]"!=h(new r)||s&&"[object WeakMap]"!=h(new s))&&(h=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,a=n?u(n):"";if(a)switch(a){case c:return"[object DataView]";case d:return"[object Map]";case m:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=h},tY0Huyqn3A:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("41P+ol6ovf"),n("MH8qJQNpxa"),!1,null,null,null);e.exports=a.exports},teRrWHx7l3:function(e,t,n){"use strict";function a(){return{requestPermission:function(){r&&0!==r.checkPermission()?r.requestPermission(l):o&&o.requestPermission(l)},notify:function(e){return r&&0===r.checkPermission()?function(e){var t=e.imageUrl,n=e.title,a=e.text,o=r.createNotification(t,n,a);o.onclick=function(){window.focus(),o.cancel()},o.onclose=i(function(){var e=s.indexOf(o);s.splice(e,1)}),o.show();var l={close:function(){return o.cancel()}};return s.push(l),l}(e):o?function(e){try{return e()}catch(e){return function(e){console&&console.error&&console.error(e)}(e),null}}(function(){return function(e){var t=e.imageUrl,n=e.title,a=e.text;if("granted"===o.permission){var r=new o(n,{body:a,icon:t});return r.onclick=function(){window.focus(),r.close()},r.onclose=i(function(){var e=s.indexOf(r);s.splice(e,1)}),s.push(r),{close:function(){return r.close()}}}return{close:l}}(e)}):{close:l}}}}var i=n("xHudj8NiNy"),o=window.Notification,r=window.webkitNotifications,s=[],l=function(){};e.exports=a,a.closeAll=function(){s.forEach(function(e){return e.close()}),s=[]}},"tg/sT0jPcV":function(e,t,n){var a=n("z7ms0BCqro");e.exports=function(e,t,n,i){return a(e,function(e,a,o){t(i,e,n(e),o)}),i}},thFQia5cSc:function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n("wtMJ/hzHVj"),o=n("r0r+tX9ATs"),r=n("41+b++N4lL");a.prototype.add=a.prototype.push=o,a.prototype.has=r,e.exports=a},"uQLY/krZqb":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("lRwfdXqfkY"),o=n("XcfRveFmy9");e.exports=function(e){var t=function(){var e=a(regeneratorRuntime.mark(function e(t){var c,d,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=m.position,f=m.appendTo;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=n.getTaskById(t),(d=new i({render:function(e){return e(o,{props:{appendTo:f,position:p,columns:r,swimlanes:s,taskToMove:c},on:{close:this.close,copy:this.copy}})},methods:{close:function(){this.$destroy()},copy:function(){var e=a(regeneratorRuntime.mark(function e(n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.close(),e.next=3,l.copyTo(t,n);case 3:a=e.sent,u.notify(a._id);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})).$mount();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=e.taskRepository,r=e.columns,s=e.swimlanes,l=e.copyTaskController,u=e.taskCopyNotifier;return{showForTaskId:t}}},uXqLRou4Zj:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sortable",{staticClass:"taskDetails-labels",attrs:{element:"div",options:e.getSortableOptions(),enable:!e.readOnly},on:{update:e.onLabelDragUpdate}},[e._l(e.visibleLabels,function(t,a){return n("div",{class:e.getLabelClasses(t),attrs:{tabindex:e.readOnly?-1:0},on:{click:function(t){e.showMenuForLabel(a)},keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void e.showMenuForLabelFromKeyboard(a):null},function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.showMenuForLabelFromKeyboard(a)):null}]}},[e._v("\n        "+e._s(t.name)+"\n        "),a===e.menuItemIndex?n("kf-menu",{attrs:{position:e.getLabelMenuPosition(),appendTo:".appendWrapper"},on:{close:e.hideMenu}},[t.pinned?e._e():n("item",{attrs:{text:"Pin",iconClass:"menu-icon-pin"},on:{click:function(t){e.pinLabelAtIndex(a)}}}),e._v(" "),t.pinned?n("item",{attrs:{text:"Unpin",iconClass:"menu-icon-unpin"},on:{click:function(t){e.unpinLabelAtIndex(a)}}}):e._e(),e._v(" "),n("item",{attrs:{text:"Delete",iconClass:"menu-icon-delete"},on:{click:function(t){e.deleteLabelAtIndex(a)}}})],1):e._e()],1)}),e._v(" "),e.readOnly?e._e():n("button",{ref:"addLabel",staticClass:"taskDetails-addLabelButton taskDetails-addButton icons--button icons-plus icons-gray taskDetails-focusableProperty",on:{click:e.showAddLabel,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.showAddLabelFromKeyboard(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key)?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void e.showAddLabelFromKeyboard(t)):null}]}})],2)},staticRenderFns:[]}},uZWvrC7II4:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{wrapperClass:"taskMemberProfileDialog-wrapper",elementClass:"taskMemberProfileDialog",showHeader:!1,position:this.dialogPosition},on:{closed:e.close}},[n("div",{staticClass:"taskMemberProfileDialog-aside"},[n("div",{staticClass:"taskMemberProfileDialog-avatarWrapper"},[n("img",{staticClass:"taskMemberProfileDialog-avatar task-avatar",attrs:{src:e.avatarImageUrl}})])]),e._v(" "),n("div",{ref:"main",staticClass:"taskMemberProfileDialog-main",attrs:{tabindex:"0"}},[n("div",{staticClass:"taskMemberProfileDialog-userInfo"},[n("div",{staticClass:"taskMemberProfileDialog-name",attrs:{title:e.displayName}},[e._v(e._s(e.displayName))]),e._v(" "),e.role?n("div",{staticClass:"taskMemberProfileDialog-role"},[e._v(e._s(e.role))]):e._e()]),e._v(" "),e.readOnly?e._e():[e.isResponsible?n("button",{staticClass:"taskMemberProfileDialog-action button",on:{click:e.removeAsResponsibleClick}},[e._v("\n                Remove as responsible\n            ")]):n("button",{staticClass:"taskMemberProfileDialog-action button",on:{click:e.setAsResponsibleClick}},[e._v("\n                Set as responsible\n            ")]),e._v(" "),n("button",{staticClass:"taskMemberProfileDialog-action button",on:{click:e.removeFromTaskClick}},[e._v("\n                Remove from task\n            ")])]],2),e._v(" "),n("div",{staticClass:"taskMemberProfileDialog-aside"},[n("button",{staticClass:"popoverDialog-close popoverDialog-close--inner icons-close icons-gray",attrs:{tabindex:"-1"},on:{click:e.close}})])])},staticRenderFns:[]}},uf6IP8evPD:function(e,t,n){var a=n("VhgkeK5OIn"),i=n("EvLKEwywQ6"),o=n("HI10SF8mJN");e.exports=function(e){return a(e,o,i)}},ufG6hcaWDZ:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("eqPSidx1wj"),n("ONdmn5aCcJ"),!1,null,null,null);e.exports=a.exports},"ugMjUUug+v":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("k6ZA4QNwF4"),n("gjMZL4wkyC"),!1,null,null,null);e.exports=a.exports},upPpwHBwSd:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("AqWeHAMowo"),n("imZJP7A+b6"),!1,null,null,null);e.exports=a.exports},urtKYWJSM7:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"usG2r+TNcd":function(e,t,n){"use strict";e.exports=function(e){return e+function(e){return 1===Math.floor(e/10)?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}(+e)}},uvMUa8xUPe:function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,i=0,o=[];++n<a;){var r=e[n];t(r,n,e)&&(o[i++]=r)}return o}},uy4oBpvyoI:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"v+t8hBBdMx":function(e,t,n){"use strict";n("natLtIr/Gc"),n("GbcutZx8hN"),e.exports={props:["columns","swimlaneId"],data:function(){return{taskLimit:3,selectedValue:this.columns.length?this.columns[0].uniqueId:""}},computed:{options:function(){return this.columns.map(function(e){return{text:e.name,value:e.uniqueId}})}},methods:{close:function(){this.$emit("close")},addClick:function(){this.$emit("add",{columnId:this.selectedValue,swimlaneId:this.swimlaneId,value:this.taskLimit})}}}},v04zesWxjP:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");n("IpLvl/p887"),a.contextMenu.types.imageIcon=function(e){var t=e.imageUrl,n=a("<img/>",{src:t,class:"context-imageIcon"});this.append(n);var i=a("<span/>",{text:e.name});this.append(i),this.addClass("context-icon")}},"v7QTuV7+j+":function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]}},"v8WmNzb/4E":function(e,t,n){"use strict";var a=n("rEK1kr4M5E");e.exports=function(e){var t=e.completedOnboardingTypes;return{isRemaining:function(e){return!t.includes(e)},complete:function(e){t.push(e),a.jsonPost({url:"/onboarding/mark-complete/"+encodeURI(e),suppressGlobalErrorHandler:!0})}}}},vAFMrvDpcb:function(e,t,n){"use strict";var a=n("lRwfdXqfkY"),i=n("5FDFGxYzHQ"),o=n("0aIAK9HGGP"),r=n("EWUDtfBmmZ"),s=48;e.exports=function(e){function t(e){return i.getImageUrlForInvitationEmail(e.invitedEmail,{size:s})}var n=e.userRepository,l=e.pendingBoardInvitationRepository,u=e.pendingOrganizationInvitationRepository,c=e.userPermissionService,d=r(["close","setResponsible","removeResponsible","removeMember"]),m=void 0;return{on:d.on,once:d.once,off:d.off,showForMember:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).position,p=function(e){if(e.userId){var a=n.getById(e.userId);if(a)return{avatarImageUrl:function(e){return i.getImageUrl(e,{size:s})}(a),displayName:a.fullName,role:e.role||""}}else if(e.boardInvitationId){var o=l.getByIdOrNull(e.boardInvitationId);if(o)return{avatarImageUrl:t(o),displayName:o.invitedEmail,role:e.role||""}}else if(e.organizationInvitationId){var r=u.getByIdOrNull(e.organizationInvitationId);if(r)return{avatarImageUrl:t(r),displayName:r.invitedEmail,role:e.role||""}}return{avatarImageUrl:i.getAnonymousImageUrl(),displayName:"Unknown user",role:e.role||""}}(e);(m=new a({data:{isClosing:!1},render:function(e){return e(o,{props:{avatarImageUrl:p.avatarImageUrl,displayName:p.displayName,role:p.role,readOnly:!c.canEditTasks(),dialogPosition:r},on:{setResponsible:this.setResponsible,removeResponsible:this.removeResponsible,removeMember:this.removeMember,close:this.close}})},methods:{setResponsible:function(){d.emit("setResponsible",e),this.close()},removeResponsible:function(){d.emit("removeResponsible"),this.close()},removeMember:function(){d.emit("removeMember",e),this.close()},close:function(){this.isClosing||(this.isClosing=!0,m.$destroy(),d.emit("close"))}}})).$mount()}}}},vCii1NNpTM:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports=function(e){function t(e,t){var a=o(t);if(!a)return null;var i=n(e).find(function(e){return e.memberId===t});return i&&Object.assign(a,{displayMode:"timerUser"},i),a}function n(e){return l.getValidTaskClients(e).map(i).sort(function(e,t){return e.fullName.localeCompare(t.fullName)})}function i(e){var t=o(e.userId);if(!t)return null;var n={mode:e.mode,selectedTaskStartTimestamp:e.selectedTaskStartTimestamp,sessionStartTimestamp:e.sessionStartTimestamp,sessionEndTimestamp:e.sessionEndTimestamp,targetWorkTimeMinutes:e.targetWorkTimeMinutes,breakTimeMinutes:e.breakTimeMinutes};return Object.assign(n,t)}function o(e){var t=r.getById(e);return t?function(e){return{memberId:e._id,fullName:e.fullName,avatarUrl:s.getImageUrl(e,{size:25})}}(t):null}var r=e.userRepository,s=e.userAvatarHelper,l=e.timerStateController,u=e.pendingBoardInvitationRepository,c=e.pendingOrganizationInvitationRepository;return{createForTask:function(e){var i=[],o=e._id;if(e.responsibleUserId){var r=t(o,e.responsibleUserId);r&&(r.role="responsible",i.push(r))}var l=[];e.collaborators.forEach(function(e){var n=t(o,e.userId);n&&(n.role="",l.push(n))}),l.sort(function(e,t){return e.fullName.localeCompare(t.fullName)}),i.push.apply(i,l);var d=[];e.members.forEach(function(e){var t=function(e){var t=function(e){return e.boardInvitationId?u.getByIdOrNull(e.boardInvitationId):e.organizationInvitationId?c.getByIdOrNull(e.organizationInvitationId):null}(e);if(!t)return null;var n=t.invitedEmail;return{memberId:t._id,fullName:n,avatarUrl:s.getImageUrlForInvitationEmail(n,{size:25})}}(e);t&&("Responsible"===e.role?(t.role="pending responsible",i.unshift(t)):(t.role="pending",d.push(t)))}),d.sort(function(e,t){return e.fullName.localeCompare(t.fullName)}),i.push.apply(i,d);var m=[];return n(o).filter(function(t){var n=t.memberId===e.responsibleUserId,a=e.collaborators.some(function(e){return e.userId===t.memberId});return!n&&!a}).forEach(function(e){m.push(a({displayMode:"timerUser",isOnlyTimerUser:!0},e))}),m.sort(function(e,t){return e.fullName.localeCompare(t.fullName)}),i.push.apply(i,m),i}}}},vQWJcRy7Br:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"dateInput"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.rawValue,expression:"rawValue"}],ref:"input",class:e.aggregatedInputClasses,attrs:{type:"text",placeholder:"yyyy-mm-dd"},domProps:{value:e.rawValue},on:{click:e.inputClick,focus:e.focus,blur:e.blur,input:[function(t){t.target.composing||(e.rawValue=t.target.value)},e.dateInput]}}),e._v(" "),n("button",{ref:"openDateInputButton",staticClass:"dateInput-icon icons-calendar",attrs:{tabindex:"-1"},on:{click:e.buttonClick}})])},staticRenderFns:[]}},vhSLfuH2A2:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("Y/vxGFiWiz"),n("EM/qoNodZF"),!1,null,null,null);e.exports=a.exports},vlsG9MZQCo:function(e,t,n){"use strict";var a=n("1h/YovctkI");window.kf_board=a({})},"w2qL3+Ra8i":function(e,t,n){"use strict";function a(e){var t=e.highlights["task.name"];return t&&t.length?t[0]:o.encode(e.taskName)}var i=n("RNfSVdyTQ7"),o=n("zCnJNEeu5Z"),r=/[\u3000-\u9FBF]/;e.exports={MIN_LETTERS:3,isQueryTooShort:function(e){return(!e.length||!r.test(e))&&e.length<3&&!/^\d+$/.test(e)},getHighlightInfo:function(e){var t=[{key:"task.description",text:"Description"},{key:"task.subTasks.name",text:"Subtask"},{key:"task.labels.name",text:"Label"},{key:"task.comments.text",text:"Comment"},{key:"task.attachments.name",text:"File"}].filter(function(t){return!!e.highlights[t.key]});if(0===t.length)return{showHighlight:!1};var n=t[0],a=e.highlights[n.key][0],i=0;return t.forEach(function(t){if(t!==n){var a=e.highlights[t.key];i+=a.length}}),{showHighlight:!0,highlightProperty:n.text,highlightHtml:a,otherMatchesCount:i}},getPositionTextForSearchHit:function(e,t){var n=e.taskColumnId,a=e.taskDateFinished,o=t.getColumnById(n),r=o.name;if(o.groupByDate&&a){var s=i.parseIsoDateString(a);r+=", "+i.friendlyDateString(s)}return r},getTaskNameHtmlForSearchHit:function(e){return e.taskNumberFullText?function(e){var t=e.highlights["task.number.fullText"];if(t&&t.length)return t[0];var n=e.highlights["task.number.value"];return n&&n.length?o.encode(e.taskNumberPrefix||"")+n[0]:o.encode(e.taskNumberFullText)}(e)+": "+a(e):a(e)}}},wBxSy59NmS:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-highlights"},[n("position"),e._v(" "),n("div",{staticClass:"taskDetails-highlights-property taskDetails-highlights-icons"},[e.totalSubTaskCount?n("i",{staticClass:"taskDetails-highlights-subTasksIcon icons-task-subTasks taskDetails-highlights-icon",attrs:{title:"Show subtasks"},on:{click:e.subTasksClick}}):e._e(),e._v(" "),e.task.hasRelations?n("i",{staticClass:"taskDetails-highlights-relationsIcon icons-task-relations taskDetails-highlights-icon",attrs:{title:"Show relations"},on:{click:e.relationsClick}}):e._e(),e._v(" "),e.task.hasAttachments?n("i",{staticClass:"taskDetails-highlights-filesIcon icons-task-files taskDetails-highlights-icon",attrs:{title:"Show file attachments"},on:{click:e.attachmentsClick}}):e._e(),e._v(" "),e.task.hasComments?n("i",{staticClass:"taskDetails-highlights-commentsIcon icons-task-comments taskDetails-highlights-icon",attrs:{title:"Show comments"},on:{click:e.commentsClick}}):e._e()])],1)},staticRenderFns:[]}},wI3K4c2nZb:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("+/LWkH0hAL"),n("gPaA+mtuaN"),!1,null,null,null);e.exports=a.exports},"wK/ph/oh98":function(e,t,n){"use strict";function a(e){return e.trim().toLowerCase()}function i(e){return!((e=a(e)).length>256)&&!l.test(e)&&!e.includes("@qq.com")&&s.test(e)}function o(e){return e.split(".").map(function(e){return e[0]+"".padEnd(e.length-1,"*")}).join(".")}var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,l=/[]/;e.exports={cleanForStorage:a,validateFormat:i,getUniqueValidEmails:function(e){var t=e.split(/[,;\s]/).map(a),n=new Set(t);return Array.from(n).filter(i)},getMaskedEmail:function(e){var t=e.split("@"),n=r(t,2),a=n[0],i=n[1];return o(a)+"@"+o(i)}}},wK5dsQjYHe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n("H6IWmkXqUs")),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.cache=t.cache?{}:null}return a(e,[{key:"destroy",value:function(){return this.cache=null,this}},{key:"buildQuery",value:function(e){if("function"==typeof this.props.context){var t=this.props.context(e);if("string"==typeof t)e=t;else if(!t)return null}var n=this.matchText(e);return n?new i.default(this,n[this.index],n):null}},{key:"search",value:function(e,t,n){this.cache?this.searchWithCache(e,t,n):this.props.search(e,t,n)}},{key:"replace",value:function(e){return this.props.replace(e)}},{key:"searchWithCache",value:function(e,t,n){var a=this;this.cache&&this.cache[e]?t(this.cache[e]):this.props.search(e,function(n){a.cache&&(a.cache[e]=n),t(n)},n)}},{key:"matchText",value:function(e){return"function"==typeof this.match?this.match(e):e.match(this.match)}},{key:"match",get:function(){return this.props.match}},{key:"index",get:function(){return"number"==typeof this.props.index?this.props.index:2}},{key:"template",get:function(){return this.props.template||function(e){return e}}}]),e}();t.default=o},wcxQBljKbC:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},wlHWxIVpXo:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ"),o=i.mapState,r=i.createNamespacedHelpers("pointsEstimate"),s=r.mapState,l=r.mapMutations,u=r.mapActions,c=n("S8o8xEPyh8");e.exports={data:function(){return{focusTextOnDone:!1}},computed:a({},o(["task","readOnly"]),s(["editVisible"]),{pointsEstimateText:function(){var e=this.task.pointsEstimate;return 1===e?"1 point":e+" points"},textClasses:function(){var e=["taskDetails-propertyValue taskDetails-pointsEstimate taskDetails-editableProperty"];return this.editVisible&&e.push("taskDetails-editableProperty--active"),e}}),methods:a({},l({setEditVisible:"SET_EDIT_VISIBLE"}),u(["updateEstimate"]),{getEstimateTextPosition:function(){return{my:"left top",at:"left bottom",of:this.$refs.estimateText}},showEditEstimate:function(){this.readOnly||this.setEditVisible(!0)},showEditFromKeyboard:function(){this.readOnly||(this.focusTextOnDone=!0,this.setEditVisible(!0))},editClose:function(){this.setEditVisible(!1),this.focusTextOnDone&&(this.focusTextOnDone=!1,this.$refs.estimateText.focus())}}),components:{"edit-points-estimate":c}}},wrXUy9PdXv:function(e,t,n){"use strict";e.exports=function(e,t,n){if(n){if(e.taskBoardId===n&&t.taskBoardId!==n)return-1;if(e.taskBoardId!==n&&t.taskBoardId===n)return 1}return e.taskBoardName===t.taskBoardName?e.taskSwimlaneIndex===t.taskSwimlaneIndex?e.taskColumnIndex===t.taskColumnIndex?t.taskDateFinished&&e.taskDateFinished!==t.taskDateFinished?t.taskDateFinished.localeCompare(e.taskDateFinished):e.taskSortOrder-t.taskSortOrder:e.taskColumnIndex-t.taskColumnIndex:e.taskSwimlaneIndex-t.taskSwimlaneIndex:e.taskBoardName.localeCompare(t.taskBoardName)}},wrrSE9nqYe:function(e,t,n){var a=n("z7ms0BCqro"),i=n("LN6cGD0Ow+");e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return a(e,function(e,a,i){o[++n]=t(e,a,i)}),o}},x3DuHOIS1J:function(e,t,n){"use strict";var a=n("7+vQopJ3rW");e.exports=function(e){function t(e){if(e.indexOf("@")<0)return[];var t=[];n.getAllOrderedByFullName().map(function(n){var i="@"+n.fullName;a.findAllIndexes(e,i).forEach(function(e){t.push({text:i,position:e,userId:n._id})})});var i=t.filter(function(e){var n=e.text;return!t.some(function(t){if(e===t)return!1;var a=t.text;if(n.length>=a.length)return!1;if(0!==a.indexOf(n))return!1;var i=e.position,o=e.position+n.length,r=t.position,s=r+a.length;return r<=i&&i<=s||r<=o&&o<=s})});return i.sort(function(e,t){return e.position-t.position}),i}var n=e.userRepository,i=e.userId;return{createComment:function(e){var n=e.taskId,a=e.text;return{text:a,taskId:n,createdTimestamp:(new Date).toISOString(),authorUserId:i,type:"taskComment",mentions:t(a)}},getMentionsFromText:t}}},xHudj8NiNy:function(e,t,n){var a=n("RM0YEN6TSo");e.exports=function(e){return a(2,e)}},xVZJA6Sryz:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popover-dialog",{attrs:{title:"Labels",wrapperClass:"taskLabelsDialog-wrapper",elementClass:"taskLabelsDialog",appendTo:e.appendTo,position:e.position},on:{closed:e.close,closeRequested:e.tryAddUncommitedLabels}},[n("div",{on:{"!keydown":[function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.ctrlKey?(t.stopPropagation(),void e.tryAddUncommitedLabelsAndClose(t)):null},function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.metaKey?(t.stopPropagation(),void e.tryAddUncommitedLabelsAndClose(t)):null}]}},[n("task-labels-input",{attrs:{taskLabelInput:e.taskLabelInput,initialLabels:e.initialLabels},on:{labelsChange:e.labelsChange}})],1)])},staticRenderFns:[]}},xYbrIhp1PS:function(e,t,n){"use strict";e.exports=function(e){function t(e){var t=e.comment;o.getCommentRepositoriesForTaskId(t.taskId).forEach(function(e){e.localSave(t)})}function n(e){var t=e.comment;o.getCommentRepositoriesForTaskId(t.taskId).forEach(function(e){e.localUpdate(t)})}function a(e){var t=e.commentId,n=e.taskId;o.getCommentRepositoriesForTaskId(n).forEach(function(e){e.localDeleteById(t)})}var i=e.socket,o=e.singleTaskResourceRepositoryFactory;return{start:function(){i.on("taskComment/save",t),i.on("taskComment/update",n),i.on("taskComment/delete",a)},stop:function(){i.off("taskComment/save",t),i.off("taskComment/update",n),i.off("taskComment/delete",a)}}}},xdpHHMl98y:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("dDN49muqmp"),n("6M3wtgGDVV"),!1,null,null,null);e.exports=a.exports},xi1zt375vS:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskHistoryEntry"},[n("div",{staticClass:"taskHistoryEntry-header"},[n("div",{staticClass:"taskHistoryEntry-userInfo"},[n("img",{staticClass:"taskHistoryEntry-avatar",attrs:{src:e.entry.userAvatarUrl}}),e._v(" "),n("span",{staticClass:"taskHistoryEntry-userName truncate"},[e._v(e._s(e.entry.userFullName))])]),e._v(" "),n("span",{staticClass:"taskHistoryEntry-timestamp"},[e._v(e._s(e.entry.dateText))])]),e._v(" "),n("div",{staticClass:"taskHistoryEntry-content"},["taskChanged"===e.entry.itemType&&1===e.entry.changedProperties.length?n("div",{staticClass:"taskHistoryEntry-singleTaskPropertyChange",on:{click:function(t){e.entryTextClick(e.singleChangedProperty)}}},[n("i",{class:e.getExpandIconClasses(e.singleChangedProperty)}),e._v(" "),n("span",{staticClass:"taskHistoryEntry-taskChanged"},[e._v("\n                "+e._s(e.singleChangedProperty.showName)+" changed\n            ")]),e._v(" "),e.singleChangedProperty.expanded?n("div",{staticClass:"taskHistoryEntry-changedPropertyDetails"},[n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("From")]),e._v(" "),e.singleChangedProperty.oldTextHtml?n("span",{staticClass:"taskHistoryEntry-changedPropertyValue",domProps:{innerHTML:e._s(e.singleChangedProperty.oldTextHtml)}}):n("span",{staticClass:"taskHistoryEntry-changedPropertyValue taskHistoryEntry-emptyPropertyValue"},[e._v("\n                        Empty\n                    ")])]),e._v(" "),n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("To")]),e._v(" "),e.singleChangedProperty.newTextHtml?n("span",{staticClass:"taskHistoryEntry-changedPropertyValue",domProps:{innerHTML:e._s(e.singleChangedProperty.newTextHtml)}}):n("span",{staticClass:"taskHistoryEntry-changedPropertyValue taskHistoryEntry-emptyPropertyValue"},[e._v("\n                        Empty\n                    ")])])]):e._e()]):"taskChanged"===e.entry.itemType?n("div",[n("span",{staticClass:"taskHistoryEntry-taskChanged"},[e._v("\n                Task "),e.showTaskName?n("strong",[e._v(e._s(e.entry.taskName))]):e._e(),e._v(" changed properties:\n            ")]),e._v(" "),n("ul",{staticClass:"taskHistoryEntry-changedProperties"},e._l(e.entry.changedProperties,function(t){return n("li",{staticClass:"taskHistoryEntry-changedProperty",on:{click:function(n){e.changedPropertyClick(t)}}},[n("i",{class:e.getExpandIconClasses(t)}),e._v(" "),n("span",{staticClass:"taskHistoryEntry-changedPropertyName"},[e._v("\n                        "+e._s(t.showName)+"\n                    ")]),e._v(" "),t.expanded?n("div",{staticClass:"taskHistoryEntry-changedPropertyDetails"},[n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("From")]),e._v(" "),t.oldTextHtml?n("span",{staticClass:"taskHistoryEntry-changedPropertyValue",domProps:{innerHTML:e._s(t.oldTextHtml)}}):n("span",{staticClass:"taskHistoryEntry-changedPropertyValue taskHistoryEntry-emptyPropertyValue"},[e._v("\n                                Empty\n                            ")])]),e._v(" "),n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("To")]),e._v(" "),t.newTextHtml?n("span",{staticClass:"taskHistoryEntry-changedPropertyValue",domProps:{innerHTML:e._s(t.newTextHtml)}}):n("span",{staticClass:"taskHistoryEntry-changedPropertyValue taskHistoryEntry-emptyPropertyValue"},[e._v("\n                                Empty\n                            ")])])]):e._e()])}))]):n("div",{on:{click:function(t){e.entryTextClick(e.entry)}}},[e.hasExpandableDetails?n("i",{class:e.getExpandIconClasses(e.entry)}):e._e(),e._v(" "),n("div",{class:e.getEntrySimplePropertyClasses()},["taskCreated"===e.entry.itemType?n("span",[e._v("Task created")]):e._e(),e._v(" "),"taskDeleted"===e.entry.itemType?n("span",[e._v("Task deleted")]):e._e(),e._v(" "),"taskRestored"===e.entry.itemType?n("span",[e._v("Task restored")]):e._e(),e._v(" "),"taskCommentCreated"===e.entry.itemType?n("span",[e._v("\n                    Comment added with text\n                    "),n("strong",[e._v(e._s(e.entry.commentTextShort))])]):e._e(),e._v(" "),"taskCommentTextChanged"===e.entry.itemType?n("span",[e._v("Comment changed")]):e._e(),e._v(" "),"taskCommentDeleted"===e.entry.itemType?n("span",[e._v("\n                    Comment deleted with text\n                    "),n("strong",[e._v(e._s(e.entry.commentTextShort))])]):e._e(),e._v(" "),"taskRelationCreated"===e.entry.itemType?n("span",[e._v("\n                    Relation added to "),n("strong",[e._v(e._s(e.entry.relatedTaskName))])]):e._e(),e._v(" "),"taskRelationChanged"===e.entry.itemType?n("span",[e._v("\n                    Relation to "),n("strong",[e._v(e._s(e.entry.relatedTaskName))]),e._v(" changed\n                ")]):e._e(),e._v(" "),"taskRelationDeleted"===e.entry.itemType?n("span",[e._v("\n                    Relation to "),n("strong",[e._v(e._s(e.entry.relatedTaskName))]),e._v(" deleted\n                ")]):e._e(),e._v(" "),"taskAttachmentCreated"===e.entry.itemType?n("span",[e._v("\n                    File added with name\n                    "),n("strong",[e._v(e._s(e.entry.attachmentName))])]):e._e(),e._v(" "),"taskAttachmentDeleted"===e.entry.itemType?n("span",[e._v("\n                    File deleted with name\n                    "),n("strong",[e._v(e._s(e.entry.attachmentName))])]):e._e()]),e._v(" "),e.entry.expanded?["taskCommentCreated"===e.entry.itemType||"taskCommentDeleted"===e.entry.itemType?n("div",{staticClass:"taskHistoryEntry-entryText",domProps:{innerHTML:e._s(e.entry.commentTextHtml)}}):e._e(),e._v(" "),"taskCommentTextChanged"===e.entry.itemType?n("div",{staticClass:"taskHistoryEntry-changedPropertyDetails"},[n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("From")]),e._v(" "),n("span",{staticClass:"taskHistoryEntry-entryText",domProps:{innerHTML:e._s(e.entry.oldCommentTextHtml)}})]),e._v(" "),n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("To")]),e._v(" "),n("span",{staticClass:"taskHistoryEntry-entryText",domProps:{innerHTML:e._s(e.entry.newCommentTextHtml)}})])]):e._e(),e._v(" "),"taskRelationCreated"===e.entry.itemType?n("div",{staticClass:"taskHistoryEntry-entryText",domProps:{innerHTML:e._s(e.entry.relationHtml)}}):e._e(),e._v(" "),"taskRelationChanged"===e.entry.itemType?n("div",{staticClass:"taskHistoryEntry-changedPropertyDetails"},[n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("From")]),e._v(" "),n("span",{staticClass:"taskHistoryEntry-entryText",domProps:{innerHTML:e._s(e.entry.oldRelationHtml)}})]),e._v(" "),n("div",{staticClass:"taskHistoryEntry-changedPropertyValueWrapper"},[n("label",{staticClass:"taskHistoryEntry-changedPropertyLabel"},[e._v("To")]),e._v(" "),n("span",{staticClass:"taskHistoryEntry-entryText",domProps:{innerHTML:e._s(e.entry.newRelationHtml)}})])]):e._e()]:e._e()],2)])])},staticRenderFns:[]}},xqjyV7KiOl:function(e,t,n){var a=n("mduffh11yJ"),i=n("HI10SF8mJN");e.exports=function(e,t){return e&&a(e,t,i)}},xtkSkzE3Vl:function(e,t,n){"use strict";function a(e){var t=i(e.startTimestamp).format("YYYY-MM-DD"),n=Math.round(100*e.durationSeconds/3600)/100;return[t,e.userFullName,n,e.fromText,e.toText,e.typeText]}var i=n("Zz1PBJ8Ns9"),o=n("WGmCs9ZXGI"),r=n("3nSQB81+dK");e.exports={toExcel:function(e){var t=e.slice().sort(function(e,t){return e.startTimestamp.localeCompare(t.startTimestamp)});return new Promise(function(e){o.runWithoutCheck(function(){r.postData({url:"/export",data:{dto:JSON.stringify({fileName:"Time log",format:"excel",header:["Date","User","Duration (hours)","Start time","End time","Type"],data:t.map(a)})},success:function(){return e()}})})})}}},xtrLvpzgJW:function(e,t,n){"use strict";var a=n("0iPhQ5GI5H"),i=n("TS0ILVVaKW"),o=n("VZMU+UILta"),r=n("XFfkXMuIvr"),s=n("NKFQkhZ/hO"),l=n("Gh3TGTRxcI"),u=n("cFkseZul9o"),c=n("50u+wdY68T"),d=n("oHJ4GgOqX2");e.exports=function(e){function t(){var e=A.getTimerSettings();return Object.assign({},e,{disturbanceReasons:function(e){return e.disturbanceReasons.map(function(e){return i.mapping.fromJS(n(e))}).sort(function(e,t){return e.value().localeCompare(t.value())})}(e)})}function n(e){return{value:e.value,enabled:!e.disabled,hasFocus:!1}}function m(e){var t=-1!==B.disturbances.editReasonIndex();"disturbances"!==e&&t&&x()}function p(){B.activeTab("disturbances")}function f(){B.activeTab("sounds")}function h(){B.activeTab("general")}function v(e){return e.enabled(!e.enabled()),_(),!1}function k(){g()}function g(){var e=B.disturbances.newReasonText().trim();if(!e.length)return!0;B.settings.disturbanceReasons().some(function(t){return t.value()===e})||B.settings.disturbanceReasons.push(i.mapping.fromJS(n({value:e}))),function(e){var t=B.settings.disturbanceReasons().findIndex(function(t){return t.value()===e}),n=a(".workTimerSettingsDialog-disturbances-reasonRow:eq("+t+")");l.scrollToShow(n[0],P[0]),u(n)}(e),B.disturbances.newReasonText("")}function b(e){if(B.disturbances.editReasonIndex()>-1)return s.alert("You can only edit one reason at a time"),!0;B.disturbances.editReasonIndex(C(e)),B.disturbances.editReasonText(e.value()),N.wasMouseUsedLast()&&e.hasFocus(!0)}function T(e){var t=e.value(),n=B.disturbances.editReasonText().trim();if(t!==n){var a="This will change <strong>all</strong> time entries with reason <em>"+t+"</em> to <em>"+n+"</em>. Do you want to continue?";s.confirmHtml(a,function(){c.showLoading(),A.updateDisturbanceReason(t,n,function(t){c.hideLoading(),t||(e.value(n),x())})})}else x()}function y(e,t){return t.which===o.ENTER?T(e):t.which===o.ESCAPE&&x(),!0}function I(e){return T(e),!0}function w(){x()}function x(){B.disturbances.editReasonIndex(-1),B.disturbances.editReasonText("")}function C(e){return B.settings.disturbanceReasons.indexOf(e)}function D(e){return B.disturbances.editReasonIndex()===C(e)}function S(e,t){return t.which!==o.ENTER||(g(),!1)}function E(e){for(var t=e.split("|"),n=[],a=0;a<t.length;a++){var i=t[a].split(".");n.push({text:i[0],value:i[1]})}return n}function _(){var e=i.toJS(B.settings);e.disturbanceReasons=e.disturbanceReasons.map(function(e){var t={value:e.value};return e.enabled||(t.disabled=!0),t}),A.updateTimerSettings(e)}function M(){return"never"!==B.settings.tickingMode()}function R(){return B.disturbances.editReasonText().trim().length>0}function O(){return B.disturbances.newReasonText().trim().length>0}var A=e.userBoardSettingsRepository,N=e.pointerMode,F=void 0,L=void 0,P=void 0,B=void 0;return{show:function(){F?(function(){var e=t();B.settings.disturbanceReasons(e.disturbanceReasons)}(),F.open()):function(){var e=d();(F=r({elementId:"workTimerSettingsDialog",title:"Timer settings",theme:"light",clickOutsideToClose:!0})).open(),F.setContent(e),F.on("closed",x),L=a("#workTimerSettingsDialog"),P=L.find(".workTimerSettingsDialog-disturbances-tableScrollWrapper"),function(e){(B=i.mapping.fromJS({tickingModeOptions:[{text:"Always",value:"always"},{text:"Timer start",value:"start-only"},{text:"Never",value:"never"}],disturbances:{newReasonText:"",editReasonText:"",editReasonIndex:-1},tickingSoundOptions:E("Default.default|Classic.classic|Egg timer.egg|Classic & egg.combined"),alarmSoundOptions:E("Bell.bell|Clean.clean|Bleeps.bleeps|Blip.blip|Glass.glass|Microwave.microwave|Egg timer.egg|Grandpa clock.grandpa|Melodic.melodic"),settings:e.timerSettings,activeTab:"general"})).shouldShowTickingSound=i.pureComputed(M),Object.assign(B,{generalTabClicked:h,soundsTabClicked:f,disturbancesTabClicked:p}),B.disturbances.isEditReasonDoneEnabled=i.pureComputed(R),B.disturbances.isAddNewReasonEnabled=i.pureComputed(O),Object.assign(B.disturbances,{enableReasonClicked:v,addNewReasonClicked:k,newReasonInputKeydownPressed:S,editReasonClicked:b,editInputKeydownPressed:y,editReasonDoneClicked:I,editReasonCancelClicked:w,isEditing:D}),["tickingMode","tickingSound","tickingVolumePercentage","alarmSound","alarmVolumePercentage","pointsVolumePercentage","workTimeMinutes","shortBreakTimeMinutes","longBreakTimeMinutes","longBreakInterval","disturbanceReasons"].forEach(function(e){B.settings[e].subscribe(_)}),B.activeTab.subscribe(m),i.applyBindings(B,L[0])}({timerSettings:t()})}()},_getModel:function(){return B}}}},y1UYZh3awB:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ").createNamespacedHelpers("relations"),r=o.mapState,s=o.mapGetters,l=o.mapActions,u=n("3qmz3wED6s"),c=n("Gh3TGTRxcI"),d=n("RNfSVdyTQ7"),m=n("LID5hgrivl").$,p=n("+TczBPWG2Q");n("natLtIr/Gc"),n("GbcutZx8hN"),e.exports={props:["position","boardId","elementClass"],data:function(){return{relationType:"relatesTo",searchInputValue:"",selectedBoardId:"",markedIndex:-1}},computed:i({},r(["currentBoardId","boardGroups","boardGroupsLoading","searchHits","moreHitsAvailable","searching","indexing"]),s(["searchResultMessage"]),{elementClasses:function(){var e=["addRelation"];return this.elementClass&&e.push(this.elementClass),e.join(" ")},searchMessageClasses:function(){var e=["addRelation-searchMessage"];return this.indexing&&e.push("addRelation-searchMessage--small"),e},firstBoardGroupOptions:function(){return this.boardGroups[0].boards.map(this.toBoardOption)},boardOptionGroups:function(){var e=this,t=[];return this.boardGroups.forEach(function(n){t.push({label:n.groupTitle,options:n.boards.map(e.toBoardOption)})}),t}}),watch:{searchHits:function(){this.searchHits.length>0?this.markedIndex=0:this.markedIndex=-1}},methods:i({},l(["search","addRelationFromSearchHit","resetAdd","loadBoardGroups","warmUpBoardSearcher"]),{getRelationTypeOptions:function(){return[{value:"relatesTo",text:"Relates to"},{value:"dependsOn",text:"Depends on"},{value:"requiredBy",text:"Required by"}]},searchSelectedBoard:function(){this.search({query:this.searchInputValue,boardId:this.selectedBoardId})},getSearchHitClasses:function(e){var t=["addRelation-searchHit"];return this.markedIndex===e&&t.push("addRelation-searchHit--marked"),t},getSearchHitTaskFullName:function(e){var t=e.taskNumberFullText,n=e.taskName;return t?t+": "+n:n},searchHitSelected:function(e){this.addRelationFromSearchHit({relationType:this.relationType,boardId:this.selectedBoardId,hitModel:e}),this.close()},close:function(){this.resetAdd(),this.$emit("close")},getSearchHitPositionText:function(e){var t=e.taskColumnName;if(e.taskSwimlaneName&&(t+=" / "+e.taskSwimlaneName),e.taskDateFinished){var n=d.parseIsoDateString(e.taskDateFinished);t+=" ("+d.friendlyDateString(n,{friendlyTodayAndYesterday:!0})+")"}return t},getHitColorClasses:function(e){return"addRelation-searchHitTaskColor addRelation-searchHitTaskColor--"+e.taskColor},selectPreviousHit:function(e){this.markedIndex>0&&(e.preventDefault(),this.selectHitAtIndex(this.markedIndex-1))},selectNextHit:function(e){this.markedIndex<this.searchHits.length-1&&(e.preventDefault(),this.selectHitAtIndex(this.markedIndex+1))},selectHitAtIndex:function(e){this.markedIndex=e,this.scrollToShowMarkedHitElement()},enterPressed:function(){var e=document.activeElement,t=this.$refs.searchHits,n=t&&Array.from(t.children).some(function(t){return t===e});(this.$refs.search===e||n)&&this.markedIndex>=0&&this.searchHitSelected(this.searchHits[this.markedIndex])},enableKeyboardShortcuts:function(){var e={esc:this.close,up:this.selectPreviousHit,down:this.selectNextHit,enter:this.enterPressed};u.addContext({includeInputs:!0,name:"ADD_RELATION",map:e})},toBoardOption:function(e){return{value:e.boardId,text:this.getBoardOptionText(e),disabled:e.readOnly}},getBoardOptionText:function(e){var t=e.boardName;return e.readOnly&&(t+=" [read only]"),t},scrollToShowMarkedHitElement:function(){var e=a(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.markedIndex>=0&&(t=this.$refs.searchHits,(n=t&&t.querySelector(".addRelation-searchHit--marked"))&&(c.scrollToShow(n,t),c.scrollToShow(n,m(".appendWrapper"))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),warmUpSearchForSelectedBoard:function(){this.warmUpBoardSearcher(this.selectedBoardId)},boardChange:function(){this.searchInputValue?this.searchSelectedBoard():this.warmUpSearchForSelectedBoard()}}),created:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBoardGroups();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),mounted:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.enableKeyboardShortcuts(),this.selectedBoardId=this.boardId||this.currentBoardId,this.warmUpBoardSearcher(this.selectedBoardId);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),destroyed:function(){u.deleteContextByName("ADD_RELATION")},components:{"label-select":p}}},y2PMfzXobE:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("1bdAnilZcH"),n("PyPloSQITp"),!1,null,null,null);e.exports=a.exports},y7t0rJSFyM:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("admin-dialog",{attrs:{isPopover:e.isPopover,headerTitle:e.headerTitle}},[n("div",{staticClass:"editSwimlane-body adminBox-body"},[n("div",{staticClass:"adminBox-mainWrapper"},[n("main",{staticClass:"adminBox-main"},[n("div",{staticClass:"adminBox-formGroup"},[n("label",[n("span",{staticClass:"adminBox-label"},[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}},{name:"focus-mouse",rawName:"v-focus-mouse"}],staticClass:"adminBox-textInput adminBox-inputStretch",attrs:{type:"text",maxlength:"50","t-id":"editSwimlane-name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("div",{staticClass:"adminBox-formGroup"},[n("label",[n("span",{staticClass:"adminBox-label"},[e._v("\n                            Description\n                            "),n("tooltip-help",{attrs:{html:e.descriptionTooltip}})],1),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.description,expression:"description",modifiers:{trim:!0}}],staticClass:"adminBox-textarea adminBox-inputBlock adminBox-inputStretch",attrs:{maxlength:"1000","t-id":"editSwimlane-description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("div",{staticClass:"adminBox-formGroup"},[n("label",{staticClass:"adminBox-label adminBox-label--inline"},[e._v("\n                        WIP limits\n                    ")]),e._v(" "),n("tooltip-help",{attrs:{html:e.wipLimitTooltip}}),e._v(" "),n("ul",{staticClass:"editSwimlane-taskLimits"},e._l(e.taskLimits,function(t){return n("li",{staticClass:"editSwimlane-taskLimit"},[n("span",{staticClass:"editSwimlane-taskLimitLabel editSwimlane-taskLimitCell truncate"},[e._v("\n                                "+e._s(t.columnName)+"\n                            ")]),e._v(" "),n("div",{staticClass:"editSwimlane-taskLimitCell"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.value,expression:"taskLimit.value",modifiers:{number:!0}}],staticClass:"editSwimlane-taskLimitInput adminBox-numberInput",attrs:{type:"number",min:"0",step:"1",placeholder:"No limit"},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",e._n(n.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("button",{staticClass:"editSwimlane-deleteTaskLimit icons-delete icons--button",attrs:{title:"Delete task limit for column"},on:{click:function(n){e.deleteTaskLimitClick(t)}}})])])})),e._v(" "),n("button",{staticClass:"button",on:{click:e.showAddLimitPopover}},[e._v("\n                        Add limit for column\n                    ")])],1),e._v(" "),n("div",{staticClass:"adminBox-buttonGroup adminBox-buttonGroup--spread"},[n("button",{staticClass:"button button--large",on:{click:e.cancelClick}},[e._v("Cancel")]),e._v(" "),n("button",{staticClass:"button button--large button--success",on:{click:e.saveSwimlaneClick}},[e._v("\n                        Save swimlane\n                    ")])])])])]),e._v(" "),e.addLimitPopoverVisible?n("add-limit",{attrs:{columns:e.columns,swimlaneId:e.swimlane.uniqueId},on:{add:e.setTaskLimit,close:e.hideAddLimitPopover}}):e._e()],1)},staticRenderFns:[]}},"yRIulUCe/V":function(e,t,n){"use strict";var a=n("0iPhQ5GI5H");e.exports=function(e){var t=e.boardColumnRepository;return{getForTask:function(e){var n=function(e){var t=e.attr("data-taskSettings");return t?JSON.parse(t):{}}(function(e){return a('.task[data-taskId="'+e._id+'"]')}(e)),i=t.getColumnById(e.columnId);return{isDescriptionExpanded:function(){return"descriptionExpanded"in n?n.descriptionExpanded:i.showDescription},isSubTasksExpanded:function(){return"subTasksExpanded"in n?n.subTasksExpanded:i.showSubTasks}}}}}},"yWoXT/XBB/":function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ"),r=n("hHlQBZdXtr"),s=n("RNfSVdyTQ7"),l=n("6Gs9Sfe3CX"),u=n("WGmCs9ZXGI"),c=n("QLbyXdnFI6"),d=n("shG5vVCK1/"),m=n("ZHsQkwJRX0"),p=n("Q8mw2gjaKr"),f=n("Bd9AjJ3Q3M");e.exports=function(e){var t=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,o,u,c,d,m=t.state,p=t.commit,f=n.taskData,h=n.doNext;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.fromMembers(m.task.members),o=r(i({},m.task,f,a)),(u=I.getColumnById(o.columnId)).groupByDate&&(o.dateFinished=s.getTodayIsoString()),e.next=6,b.saveTask(o,{masterEvent:"taskSavedFromAddTaskDialog"});case 6:c=e.sent,"ADD_MORE"===h?(d=i({},r(A),{sortOrder:function(e){return E.generateSortOrderForAddingTaskToCell({columnId:e.columnId,swimlaneId:e.swimlaneId},{positionRelativeTaskId:e._id})}(c),color:f.color}),p("SET_TASK",d)):"OPEN_DETAILS"===h&&D(c),S(c._id);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a=n.value,i=n.showName;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.updateColor({value:a,showName:i});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a=n.value,i=n.newIndex;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.moveEnabledColorToIndex(a,i);case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),v=e.originalTask||{},k=e.estimationType,g=e.userPermissionService,b=e.taskRepository,T=e.boardColorRepository,y=e.userRepository,I=e.boardColumnRepository,w=e.taskMembersDialog,x=e.defaultDueDateTime,C=e.taskLabelsDialog,D=e.onOpenTaskDetails,S=e.onSaveTask,E=e.taskSortOrderGenerator,_=e.userAvatarHelper,M=e.taskMemberProfileDialog,R=e.pendingBoardInvitationRepository,O=e.pendingOrganizationInvitationRepository,A=function(e){var t=r(e);t.members=l.toMembers(e),delete t.collaborators,delete t.responsibleUserId;var n=T.getEnabledColors();return n.some(function(e){return e.value===t.color})||(t.color=n[0].value),t}(v),N=void 0,F=void 0,L=void 0,P={timeEstimate:c(),pointsEstimate:d(),dueDates:m({boardColumnRepository:I,defaultDueDateTime:x}),labels:p({taskLabelsDialog:C}),members:f({userAvatarHelper:_,taskMembersDialog:w,taskMemberProfileDialog:M,pendingBoardInvitationRepository:R,pendingOrganizationInvitationRepository:O})};return new o.Store({state:{task:r(A),readOnly:!1,boardColors:r(T.getEnabledColors()),users:r(y.getAllOrderedByFullName()),canEditColors:g.canEditColors(),estimationType:k},getters:{isPageReloadOkay:function(e){return 0===e.task.name.length}},mutations:{SET_TASK:function(e,t){e.task=t},SET_TASK_NAME:function(e,t){e.task.name=t},SET_TASK_COLOR:function(e,t){e.task.color=t},SET_TASK_DESCRIPTION:function(e,t){e.task.description=t},SET_USERS:function(e,t){e.users=t},SET_BOARD_COLORS:function(e,t){e.boardColors=t}},actions:{init:function(e){e.state;var t=e.getters,n=e.commit,a=e.dispatch;N=function(){a("refreshUsers")},y.on("localAdd localDelete",N),F=function(){var e=r(T.getEnabledColors());n("SET_BOARD_COLORS",e)},T.on("change",F),L=function(){if(!t.isPageReloadOkay)return"You have unsaved task changes. Please save them before leaving the page."},u.addUnloadCheck(L),Object.keys(P).forEach(function(e){var t=P[e];t.actions&&t.actions.init&&a(e+"/init")})},destroy:function(e){var t=e.dispatch;y.off("localAdd localDelete",N),T.off("change",F),u.removeUnloadCheck(L),Object.keys(P).forEach(function(e){var n=P[e];n.actions&&n.actions.destroy&&t(e+"/destroy")})},addTask:t,updateTask:function(e,t){var n=e.state,a=e.commit,o=r(t);(o.responsibleUserId||o.collaborators)&&(o.members=l.toMembers(o),delete o.responsibleUserId,delete o.collaborators),a("SET_TASK",i({},n.task,o))},refreshUsers:function(e){(0,e.commit)("SET_USERS",r(y.getAllOrderedByFullName()))},renameColor:n,moveColor:h},modules:P})}},yeiRObb3yq:function(e,t,n){var a=n("Tnr5Pavy2y"),i=n("RQ0LPoqyJ+");e.exports=function(e,t){for(var n=0,o=(t=a(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},yfX1iD1t8z:function(e,t,n){var a=n("MIhMQmxRht").Uint8Array;e.exports=a},yhjRaRyzUX:function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("zfBPwXNfVP"),n("qzXOfT+EY+"),!1,null,null,null);e.exports=a.exports},"yuOLe7/bMF":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-property"},[t("label",{staticClass:"taskDetails-propertyLabel"},[this._v("Time estimate")]),this._v(" "),t("time-estimate")],1)},staticRenderFns:[]}},"z+daIxH19V":function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("TS0ILVVaKW"),o=n("SJI6FcOvAZ").createNamespacedHelpers("dueDates"),r=o.mapState,s=o.mapGetters,l=n("vPodq/6mM+"),u=n("hHlQBZdXtr");n("ELFGy1w2qa"),e.exports={props:["dueDate","dateString","targetColumnId","updateDaysIfDateChanges"],computed:a({},r(["boardColumns"]),s({sourceColumnId:"columnId"}),{sourceColumns:function(){if(this.boardColumns.length<=1)return[];var e=this.targetColumnId,t=this.boardColumns.findIndex(function(t){return t.columnId===e});return this.boardColumns.filter(function(e,n){return n<t}).map(function(e){return{uniqueId:e.columnId,name:e.name}})},repeat:function(){return this.dueDate&&this.dueDate.repeat}}),watch:{sourceColumns:function(e){this.model.repeatParams.sourceColumns(e)},dateString:function(e){this.model.repeatParams.dateString(e)}},mounted:function(){var e=this,t=this.model=i.mapping.fromJS({repeatParams:{isValid:!0,invalidMessage:"",dateString:this.dateString,sourceColumnEditable:!0,sourceColumns:this.sourceColumns,updateDaysIfDateChanges:this.updateDaysIfDateChanges}});t.repeatParams.originalRepeat=i.observable(),this.repeat?t.repeatParams.originalRepeat(u(this.repeat)):t.repeatParams.originalRepeat({type:"weekly",sourceColumnId:this.sourceColumnId}),t.repeatParams.editedRepeat=i.observable(),t.repeatParams.pointerMode=l(),t.repeatParams.appendFloatingTo=this.$refs.container,t.repeatParams.editedRepeat.subscribe(function(){var n=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function n(a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$nextTick();case 2:e.$emit("update",{repeat:a,isValid:t.repeatParams.isValid(),invalidMessage:t.repeatParams.invalidMessage()});case 3:case"end":return n.stop()}},n,e)}));return function(e){return n.apply(this,arguments)}}()),i.applyBindings(t,this.$refs.container)}}},z02KGlyVkX:function(e,t,n){"use strict";function a(){return window.innerWidth>X}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("SJI6FcOvAZ"),r=n("CXfR8Bb8Nd"),s=o.mapActions,l=o.mapMutations,u=o.mapState,c=o.createNamespacedHelpers("home"),d=c.mapState,m=c.mapMutations,p=c.mapActions,f=o.createNamespacedHelpers("comments").mapActions,h=o.createNamespacedHelpers("subTasks").mapMutations,v=o.createNamespacedHelpers("timeEstimate"),k=v.mapState,g=v.mapMutations,b=v.mapActions,T=o.createNamespacedHelpers("pointsEstimate"),y=T.mapState,I=T.mapMutations,w=T.mapActions,x=o.createNamespacedHelpers("manualTimeEntry"),C=x.mapState,D=x.mapMutations,S=o.createNamespacedHelpers("labels").mapActions,E=o.createNamespacedHelpers("dueDates"),_=E.mapState,M=E.mapGetters,R=E.mapMutations,O=E.mapActions,A=o.createNamespacedHelpers("files"),N=A.mapState,F=A.mapMutations,L=o.createNamespacedHelpers("relations"),P=L.mapState,B=L.mapMutations,V=o.createNamespacedHelpers("members").mapActions,H=o.createNamespacedHelpers("timer"),U=H.mapState,W=H.mapGetters,j=H.mapActions,K=n("utzbvpgxGf"),G=n("flKM7i/76V"),z=n("lb46iHLaM4"),Y=n("S8o8xEPyh8"),$=n("MEPIwEbOBN"),q=n("5SZpnDbLSO"),Q=n("d/5VvrmMCy"),J=n("35TLn5Mz3n"),Z=n("NKFQkhZ/hO"),X=900;e.exports={data:function(){return{labelsVisible:a(),visibleMenu:null}},computed:i({},u(["task","isPremium","readOnly","estimationType"]),d(["boardColumns","editDateVisible"]),k({addTimeEstimateVisible:"addVisible"}),y({addPointsEstimateVisible:"addVisible"}),C({addManualTimeEntryVisible:"addVisible"}),_({addDueDateVisible:"addVisible"}),N({addFileVisible:"addVisible"}),P({addRelationVisible:"addVisible"}),U({timerRunning:"timerRunning",currentTimerMode:"currentMode"}),M(["inLastColumn","hasRepeatingDueDate"]),W({taskSelectedInTimer:"taskSelected"}),{column:function(){var e=this;return this.boardColumns.find(function(t){return t.columnId===e.task.columnId})}}),methods:i({},l({showHome:"SHOW_HOME",showTimeLog:"SHOW_TIMELOG",showHistory:"SHOW_HISTORY"}),m({showAddAttachment:"SHOW_ADD_ATTACHMENT",setEditDateVisible:"SET_EDIT_DATE_VISIBLE"}),g({setAddTimeEstimateVisible:"SET_ADD_VISIBLE"}),I({setAddPointsEstimateVisible:"SET_ADD_VISIBLE"}),D({setAddManualTimeEntryVisible:"SET_ADD_VISIBLE"}),R({setAddDueDateVisible:"SET_ADD_VISIBLE"}),F({setAddFileVisible:"SET_ADD_VISIBLE"}),B({setAddRelationVisible:"SET_ADD_VISIBLE"}),h({showAddSubTask:"SHOW_ADD_SUBTASK"}),s(["updateTask","deleteTask","showTaskUrlDialog","showPrintDialog","showKeyboardShortcuts"]),p(["editDescription","addTimeEstimate","showMoveAdvancedDialog","showCopyTaskDialog"]),b(["updateTimeEstimate","deleteTimeEstimate"]),w({updatePointsEstimate:"updateEstimate"}),O(["addDueDate"]),S(["showLabelsDialog"]),V(["showMembersDialog"]),f(["showAddComment"]),j(["startStopwatch","startPomodoro","selectInTimer","stopTimer","syncTimerState"]),{hideVisibleMenu:function(){this.visibleMenu=null},timerClick:function(){this.syncTimerState(),this.visibleMenu="timer"},moveClick:function(){this.showMoveAdvancedDialog({position:this.getPositionRelativeToItem("move")})},addLabelClick:function(){this.showLabelsDialog({position:this.getPositionRelativeToItem("add")})},addSubTaskClick:function(){this.showHome(),this.showAddSubTask()},taskUrlClick:function(){this.showTaskUrlDialog({position:this.getPositionRelativeToItem("more")})},copyClick:function(){this.showCopyTaskDialog({position:this.getPositionRelativeToItem("more")})},editDateClick:function(){this.setEditDateVisible(!0)},printClick:function(){this.showPrintDialog({positionAbove:".taskDetails-wrapper"})},addDueDateClick:function(){this.inLastColumn?Z.alert("This task is already in the last column, so no due dates can be added."):this.hasRepeatingDueDate?Z.alertHtml("Repeating tasks can only have <strong>one</strong> due date"):this.setAddDueDateVisible(!0)},onAddDueDate:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.addDueDate(t);case 2:this.setAddDueDateVisible(!1);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),addDueDateClose:function(){this.setAddDueDateVisible(!1)},addTimeEstimateClick:function(){this.setAddTimeEstimateVisible(!0)},addTimeEstimateClose:function(){this.setAddTimeEstimateVisible(!1)},addPointsEstimateClick:function(){this.setAddPointsEstimateVisible(!0)},addPointsEstimateClose:function(){this.setAddPointsEstimateVisible(!1)},getPositionRelativeToItem:function(e){return this.labelsVisible?{my:"left top",at:"right+8px top+8px",of:this.$refs[e+"Button"]}:{my:"right top",at:"left-8px top+8px",of:this.$refs[e+"Button"]}},addDescriptionClick:function(){this.showHome(),this.editDescription()},addMemberClick:function(){this.showMembersDialog({position:this.getPositionRelativeToItem("add")})},addManualTimeEntryClick:function(){this.setAddManualTimeEntryVisible(!0)},addManualTimeEntryClose:function(){this.setAddManualTimeEntryVisible(!1)},deleteClick:function(e){if(e.shiftKey)this.deleteTask();else{var t="",n="";this.inLastColumn&&this.column.groupByDate?(t="<p>KanbanFlow is <strong>auto-archiving</strong>, so you do <em>NOT</em> need to delete tasks manually when they are done.</p><p>At most 20 tasks will be shown in this column and then a <strong>Show more</strong> button appears.</p><p>Are you <em>sure</em> you still want to delete the task?</p>",n="Please read"):t="Are you sure you want to delete the task?",Z.customModal({title:n,html:t,buttons:[{text:"Cancel"},{text:"OK",type:"danger",callback:this.deleteTask}]})}},addCommentClick:function(){this.showHome(),this.showAddComment()},addFileClick:function(){this.setAddFileVisible(!0)},addFileClose:function(){this.setAddFileVisible(!1)},addRelationClick:function(){this.setAddRelationVisible(!0)},addRelationClose:function(){this.setAddRelationVisible(!1)},editDateUpdate:function(e){this.updateTask({dateFinished:e}),this.editDateClose()},editDateClose:function(){this.setEditDateVisible(!1)},updateLabelsVisible:function(){this.labelsVisible=a()},onWindowResize:r(function(){this.updateLabelsVisible()},100)}),mounted:function(){this.updateLabelsVisible(),window.addEventListener("resize",this.onWindowResize)},destroyed:function(){window.removeEventListener("resize",this.onWindowResize)},components:{"kf-menu":K,"edit-due-date":G,"edit-time-estimate":z,"edit-points-estimate":Y,"add-manual-time-entry":$,"add-file":q,"edit-date":Q,"add-relation":J}}},"z3/QUKO/oy":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskDetails-section",attrs:{id:"taskDetails-subTasksSection"}},[n("div",{staticClass:"taskDetails-sectionHeader"},[e._m(0),e._v(" "),n("h3",{staticClass:"taskDetails-sectionTitle"},[e._v("Subtasks")]),e._v(" "),e.totalSubTaskCount?n("span",{staticClass:"taskDetails-sectionHeaderSecondaryText"},[e._v("\n            "+e._s(e.finishedSubTaskCount)+" / "+e._s(e.totalSubTaskCount)+"\n        ")]):e._e(),e._v(" "),e.readOnly?e._e():n("button",{class:e.sectionMoreMenuIconClasses,on:{click:e.sectionMoreMenuIconClick}}),e._v(" "),e.loadingSubTaskListTemplates?n("kf-menu",{attrs:{position:e.getSectionMoreIconPosition()}},[n("item",{attrs:{text:"Loading..."},on:{click:function(e){}}})],1):e._e(),e._v(" "),e.sectionMenuVisible?n("kf-menu",{attrs:{position:e.getSectionMoreIconPosition(),scroll:!0,wrapperClass:"taskDetails-subTasksSectionMoreMenu"},on:{close:e.sectionMenuClose}},[n("item",{attrs:{text:"Save as template"},on:{click:function(t){t.preventDefault(),e.saveAsTemplateClick(t)}}}),e._v(" "),e.templatesCount?n("item",{attrs:{text:"Manage templates"},on:{click:e.manageTemplatesClick}}):e._e(),e._v(" "),e._l(e.subTaskListTemplates,function(t){return n("item",{key:t._id,attrs:{text:e.getSectionMenuTemplateText(t)},on:{click:function(n){e.templateClick(t)}}})})],2):e._e(),e._v(" "),e.addTemplateDialogVisible?n("add-template",{attrs:{position:e.getSectionMoreIconPosition(),subTaskNames:e.visibleSubTaskNames},on:{close:e.addTemplateDialogClose}}):e._e(),e._v(" "),e.manageTemplatesDialogVisible?n("manage-templates",{attrs:{position:e.getSectionMoreIconPosition()},on:{close:e.manageTemplatesClose}}):e._e()],1),e._v(" "),n("div",{staticClass:"taskDetails-sectionContent"},[e.readOnly?[e.visibleSubTasks.length?n("ul",{staticClass:"taskDetails-subTasks taskDetails-subTasks--readOnly"},e._l(e.visibleSubTasks,function(t){return n("li",{staticClass:"taskDetails-subTask"},[n("div",{staticClass:"taskDetails-iconWrapper"},[n("input",{staticClass:"taskDetails-subTaskCheckbox checkbox-input",attrs:{disabled:"disabled",type:"checkbox"},domProps:{checked:t.finished}}),e._v(" "),n("div",{staticClass:"taskDetails-subTaskCheckboxIcon checkbox-icon"})]),e._v(" "),n("span",{staticClass:"taskDetails-subTaskName",domProps:{innerHTML:e._s(e.getHtmlForSubTaskName(t.name))}})])})):e._e()]:e._e(),e._v(" "),e.readOnly?e._e():[e.visibleSubTasks.length?n("sortable",{ref:"list",staticClass:"taskDetails-subTasks",attrs:{element:"ul",options:e.getSubTaskSortableOptions(),enable:e.subTaskSortableEnabled},on:{update:e.onSubTaskDragUpdate}},e._l(e.visibleSubTasks,function(t,a){return n("li",{class:"taskDetails-subTask taskColor--"+e.task.color,on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key))return null;e.arrowDown(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key))return null;e.arrowUp(t)}]}},[n("div",{staticClass:"taskDetails-iconWrapper"},[n("input",{staticClass:"taskDetails-subTaskCheckbox checkbox-input",attrs:{type:"checkbox"},domProps:{checked:t.finished}}),e._v(" "),n("div",{staticClass:"taskDetails-subTaskCheckboxIcon checkbox-icon taskDetails-focusableProperty",attrs:{tabindex:"0"},on:{keydown:[function(n){if(!("button"in n)&&e._k(n.keyCode,"space",32,n.key))return null;n.preventDefault(),e.toggleCheckbox(t,a)},function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13,n.key))return null;e.toggleCheckbox(t,a)}],click:function(n){e.toggleCheckbox(t,a)}}})]),e._v(" "),e.editSubTaskIndex===a?[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.editSubTaskName,expression:"editSubTaskName",modifiers:{trim:!0}},{name:"autosize",rawName:"v-autosize"},{name:"block-characters",rawName:"v-block-characters",value:e.blockCharacters,expression:"blockCharacters"},{name:"click-outside",rawName:"v-click-outside",value:e.editSubTaskDone,expression:"editSubTaskDone"},{name:"keydown-outside",rawName:"v-keydown-outside",value:e.onEditSubTaskKeydownOutside(a),expression:"onEditSubTaskKeydownOutside(index)"}],ref:"editSubTaskName",refInFor:!0,staticClass:"taskDetails-subTaskName taskDetails-editSubTaskInput taskDetails-editInput taskDetails-editInput--inline",attrs:{tabindex:"0"},domProps:{value:e.editSubTaskName},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.editSubTaskEnter(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;t.preventDefault(),e.cancelEditSubTask(t)}],mousedown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.editSubTaskName=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("i",{staticClass:"taskDetails-editSubTaskDone taskDetails-doneIcon icons--button icons-done icons-gray"})]:n("span",{staticClass:"taskDetails-subTaskName",attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.getHtmlForSubTaskName(t.name))},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.editSubTaskAtIndex(a)},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key))return null;t.preventDefault(),e.editSubTaskAtIndex(a)}],click:function(t){e.editSubTaskAtIndex(a,t)}}}),e._v(" "),e.editSubTaskIndex!==a?n("button",{class:e.getSubTaskMoreClasses(a),on:{click:function(t){e.subTaskMoreClick(a,t)}}}):e._e(),e._v(" "),a===e.menuItemIndex?n("kf-menu",{attrs:{position:e.getSubTaskMenuPosition(),appendTo:".appendWrapper"},on:{close:e.hideMenu}},[n("item",{attrs:{text:"Edit",iconClass:"menu-icon-edit"},on:{click:e.onMenuEdit}}),e._v(" "),n("item",{attrs:{text:"Delete",iconClass:"menu-icon-delete"},on:{click:e.onMenuDelete}})],1):e._e()],2)})):e._e(),e._v(" "),n("div",{ref:"addWrapper",staticClass:"taskDetails-addSubTaskWrapper"},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.addSubTaskName,expression:"addSubTaskName",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus",value:e.addSubTaskFocus,expression:"addSubTaskFocus"},{name:"autosize",rawName:"v-autosize"},{name:"block-characters",rawName:"v-block-characters",value:e.blockCharacters,expression:"blockCharacters"}],ref:"addSubTaskName",staticClass:"taskDetails-subTaskName taskDetails-addSubTaskInput taskDetails-addInput taskDetails-editInput taskDetails-editInput--inline",attrs:{placeholder:"Add subtask..."},domProps:{value:e.addSubTaskName},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault(),e.addSubTaskDone(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;t.preventDefault(),e.addSubTaskEscape(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key))return null;e.addInputUpArrowKeydown(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key))return null;e.addInputDownArrowKeydown(t)}],focus:function(t){e.setAddSubTaskFocus(!0)},blur:[function(t){e.setAddSubTaskFocus(!1)},function(t){e.$forceUpdate()}],paste:e.addSubTaskInputPaste,input:function(t){t.target.composing||(e.addSubTaskName=t.target.value.trim())}}}),e._v(" "),n("button",{class:e.addSubTaskButtonClasses,attrs:{disabled:!e.addSubTaskName,tabindex:e.addSubTaskIconVisible?0:-1},on:{click:e.addSubTaskDone}})])]],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"taskDetails-iconWrapper"},[t("i",{staticClass:"taskDetails-sectionHeaderSubTasksIcon taskDetails-sectionHeaderIcon icons-task-subTasks"})])}]}},z7ms0BCqro:function(e,t,n){var a=n("xqjyV7KiOl"),i=n("71Gl/569CP")(a);e.exports=i},zCYTEaW9aA:function(e,t,n){var a=n("iKxpcCgwc6"),i=n("5U5YYakxHR"),o=n("3Q8vlszyms"),r=n("2ibmMR3lBv"),s=n("E5qx8dT/dj"),l=n("sruzwrkik+"),u=n("RQ0LPoqyJ+");e.exports=function(e,t){return r(e)&&s(t)?l(u(e),t):function(n){var r=i(n,e);return void 0===r&&r===t?o(n,e):a(t,r,3)}}},zHtWr7JDEv:function(e,t,n){"use strict";function a(e){var t=e.slice();return t.sort(function(e,t){var n=o(e),a=o(t);return n<a?1:n>a?-1:e.sortOrder-t.sortOrder}),t}function i(e){var t=e.slice();return t.sort(function(e,t){return e.sortOrder-t.sortOrder}),t}function o(e){return e.dateFinished||s}var r=n("Zz1PBJ8Ns9"),s="0000-00-00";e.exports={getGroupsByDateDescendingWithOrderedTasks:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(e.length){var i=a(e),s={key:o(i[0]),tasks:[]};n.push(s),i.forEach(function(e){var t=o(e);s.key===t?s.tasks.push(e):(s={key:o(e),tasks:[e]},n.push(s))})}if(t.ensureTodayGroup){var l=r().format("YYYY-MM-DD");n.every(function(e){return e.key!==l})&&n.push({key:l,tasks:[]})}if(t.ensureYesterdayGroup){var u=r().subtract(1,"day").format("YYYY-MM-DD");n.every(function(e){return e.key!==u})&&n.push({key:u,tasks:[]})}return n.sort(function(e,t){var n=e.key,a=t.key;return n<a?1:n>a?-1:0}),n},getSingleItemGroupListWithOrderedTasks:function(e){return[{key:null,tasks:i(e)}]},getTasksSortedByDateAndSortOrder:a,getTasksSortedBySortOrder:i}},"zMJ0LZ/hN1":function(e,t,n){"use strict";var a=n("/4ANyie0oj")(n("nt80/B8271"),n("BQ+GhsXhoL"),!1,null,null,null);e.exports=a.exports},zfBPwXNfVP:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("3qmz3wED6s"),o=n("utzbvpgxGf"),r=n("rPDLkMwFAk"),s=n("0iPhQ5GI5H");n("EyP3jztVoF"),n("GbcutZx8hN"),n("dlB3KT2YAC"),n("JOCBxO5V3I");var l=r();e.exports={props:["canEdit","options","selectedValue","position","width"],data:function(){return{markedIndex:-1,searchInput:"",moreMenuColorValue:"",selectedRenameColorValue:"",renameColorText:"",menuViewportOffsetTop:0,draggingColor:!1}},computed:{menuStyle:function(){if(this.width)return{width:this.width+"px",maxWidth:this.width+"px"}},menuClasses:function(){var e=["colorSelectMenu"];return this.canEdit||e.push("colorSelectMenu--readOnly"),window.innerHeight-this.menuViewportOffsetTop<=0&&e.push("colorSelectMenu--scroll scroll scroll--horizontalHidden"),e},optionTexts:function(){return this.options.map(function(e){return e.text})}},watch:{markedIndex:function(){this.tryFocusMarkedColor(),l.setMarkedIndex(this.markedIndex)},optionTexts:function(){this.refreshSelectSearchCache()}},methods:{tryFocusMarkedColor:function(){if(this.markedIndex>=0&&this.markedIndex<this.options.length){var e=this.options[this.markedIndex];this.$refs["color--"+e.value][0].focus()}},getOptionClasses:function(e,t){var n=["colorSelectMenu-option"];return this.markedIndex===t&&n.push("colorSelectMenu-option--marked"),e===this.selectedValue&&n.push("colorSelectMenu-option--selected"),n},getOptionIconClasses:function(e){return"colorSelectMenu-optionIcon taskDetails-colorIcon taskDetails-colorIcon--"+e},getMoreIconClasses:function(e){var t=["taskDetails-moreIcon icons--button icons-more icons-gray"];return e===this.moreMenuColorValue&&t.push("taskDetails-moreIcon--menuOpen"),t},onColorOptionFocus:function(e){this.markedIndex=e},colorClick:function(e,t){this.draggingColor||(this.selectedRenameColorValue===e?t.stopPropagation():this.selectColorAndHide(e))},showColorMoreMenu:function(e){this.moreMenuColorValue=e},getPositionForColorMoreMenu:function(e){return{my:"left top",at:"left bottom",of:this.$refs["colorMore--"+e][0]}},renameColor:function(e){this.width||this.setFixedWidth(),this.selectedRenameColorValue=e.value,this.renameColorText=e.text},selectColorAndHide:function(e){this.$emit("select",e),this.selectedRenameColorValue="",this.moreMenuColorValue="",this.hide()},moreMenuClose:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedRenameColorValue||this.tryFocusMarkedColor(),e.next=3,this.$nextTick();case 3:this.moreMenuColorValue="";case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),renameDone:function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.selectedRenameColorValue,n=this.options.find(function(e){return e.value===t}).text,a=this.renameColorText,n!==a&&this.$emit("rename",{value:t,text:a}),this.closeRename();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),closeRename:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedRenameColorValue="",this.width||this.clearFixedWidth(),e.next=4,this.$nextTick();case 4:this.tryFocusMarkedColor();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),hide:function(){this.moreMenuColorValue||this.$emit("hide")},arrowDown:function(e){e.preventDefault(),this.markedIndex<this.options.length-1&&this.markedIndex++},arrowUp:function(e){e.preventDefault(),this.markedIndex>0&&this.markedIndex--},enableKeyboardShortcuts:function(){i.addContext({name:"colorSelectMenu",map:{esc:this.hide,down:this.arrowDown,up:this.arrowUp}})},disableKeyboardShortcuts:function(){i.deleteContextByName("colorSelectMenu")},setFixedWidth:function(){var e=this.$refs.menu;e.style.width=e.offsetWidth+"px"},clearFixedWidth:function(){var e=this.$refs.menu.style.width;e&&(this.$refs.menu.style.minWidth=e),this.$refs.menu.style.width=""},getSortableOptions:function(){return{draggable:".colorSelectMenu-option",group:".colorSelectMenu",ghostParent:document.body,ghostClass:"colorSelectMenu-option--ghost",allowHiddenScrollParentOverflow:!1,scroll:{x:!1,y:!0,speed:20,threshold:30},delay:220}},onDragUpdate:function(e){var t=e.oldIndex,n=e.newIndex;this.markedIndex=-1,this.$emit("move",{value:this.options[t].value,newIndex:n})},onDragEnd:function(){var e=this;setTimeout(function(){e.draggingColor=!1})},onDragStart:function(){this.draggingColor=!0},onKeyDown:function(e){var t=e.key,n=/^\w$/.test(t);if(!function(e){return e.ctrlKey||e.shiftKey||e.metaKey||e.altKey}(e)&&n){e.preventDefault(),l.registerKeyDown(t);var a=l.getNextMatchingIndex();a>=0&&(this.markedIndex=a)}},updateMenuViewportOffsetTop:function(){var e=this.$refs.menu.getBoundingClientRect(),t=e.top,n=e.height;this.menuViewportOffsetTop=t+n},refreshSelectSearchCache:function(){l.resetWithItems(this.optionTexts)},bodyClick:function(e){var t=e.target;this.$refs.menu.contains(t)||this.hide()}},mounted:function(){var e=this;document.body.addEventListener("click",this.bodyClick),this.enableKeyboardShortcuts(),this.refreshSelectSearchCache(),s(this.$refs.menu).position(this.position),this.updateMenuViewportOffsetTop(),this.$nextTick(function(){e.$refs.menu.focus()})},destroyed:function(){document.body.removeEventListener("click",this.bodyClick),this.disableKeyboardShortcuts()},components:{"kf-menu":o}}},zgdbQcXUW1:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var i=n("R6wa7XS/Su"),o=n("rEK1kr4M5E"),r=n("hHlQBZdXtr"),s=n("gL+JUHZP0k"),l=n("EWUDtfBmmZ"),u=n("ksiZ/Wws4x"),c=n("2nZJaLy5kj");e.exports=function(e){function t(){return r(N)}function n(e,t){L.trigger("disturbanceReasonsChanged",{oldValue:e.disturbanceReasons.slice(),value:t.disturbanceReasons.slice()})}function d(e){return A.swimlanes.find(function(t){return u(t.swimlaneId,e)})}var m=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new Error("columnId required");case 2:return e.prev=2,e.next=5,o.jsonPost({url:"/user-board-settings/"+O+"/column-expanded",data:{columnId:t},suppressGlobalErrorHandler:!0});case 5:(n=A.columns.find(function(e){return e.columnId===t}))||(n={columnId:t},A.columns.push(n)),n.collapsed=!1,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new Error("columnId required");case 2:return e.prev=2,e.next=5,o.jsonPost({url:"/user-board-settings/"+O+"/column-collapsed",data:{columnId:t},suppressGlobalErrorHandler:!0});case 5:(n=A.columns.find(function(e){return e.columnId===t}))||(n={columnId:t},A.columns.push(n)),n.collapsed=!0,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/swimlane-expanded",data:{swimlaneId:t},suppressGlobalErrorHandler:!0});case 3:(n=d(t))||(n={swimlaneId:t},A.swimlanes.push(n)),n.collapsed=!1,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/swimlane-collapsed",data:{swimlaneId:t},suppressGlobalErrorHandler:!0});case 3:(n=d(t))||(n={swimlaneId:t},A.swimlanes.push(n)),n.collapsed=!0,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/swimlane-height",data:{swimlaneId:t,height:n},suppressGlobalErrorHandler:!0});case 3:(a=d(t))||(a={swimlaneId:t},A.swimlanes.push(a)),a.height=n,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/sound-enabled",suppressGlobalErrorHandler:!0});case 3:A.soundEnabled=!0,L.trigger("soundEnabled"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/sound-disabled",suppressGlobalErrorHandler:!0});case 3:A.soundEnabled=!1,L.trigger("soundDisabled"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/show-color-legend",suppressGlobalErrorHandler:!0});case 3:A.colorLegendVisible=!0,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/hide-color-legend",suppressGlobalErrorHandler:!0});case 3:A.colorLegendVisible=!1,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i(A.boardFilter,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,o.jsonPost({url:"/user-board-settings/"+O+"/save-board-filter",data:t,suppressGlobalErrorHandler:!0});case 5:A.boardFilter=t,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/clear-board-filter",suppressGlobalErrorHandler:!0});case 3:A.boardFilter=null,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/calendar-settings",data:t,suppressGlobalErrorHandler:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n||setTimeout(function(){w(t,!0)},1e3);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=a(regeneratorRuntime.mark(function e(t){var a,i,l,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N,i=r(t),!(l=s.getDiff({oldObj:a,newObj:i})).disturbanceReasons){e.next=6;break}return e.next=6,C(a,i);case 6:if(e.prev=6,u=r(l),delete u.disturbanceReasons,!(c=Object.keys(u).length>0)){e.next=13;break}return e.next=13,o.jsonPost({url:"/user-timer-settings",suppressGlobalErrorHandler:!0,data:u});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(6);case 17:N=i,L.trigger("timerSettingsChanged",{oldSettings:r(a),newSettings:r(i)}),"workTimeMinutes"in l&&L.trigger("workTimeMinutesChanged",{oldValue:a.workTimeMinutes,value:i.workTimeMinutes}),"shortBreakTimeMinutes"in l&&L.trigger("shortBreakTimeMinutesChanged",{oldValue:a.shortBreakTimeMinutes,value:i.shortBreakTimeMinutes}),"longBreakTimeMinutes"in l&&L.trigger("longBreakTimeMinutesChanged",{oldValue:a.longBreakTimeMinutes,value:i.longBreakTimeMinutes}),"longBreakInterval"in l&&L.trigger("longBreakIntervalChanged",{oldValue:a.longBreakInterval,value:i.longBreakInterval}),"disturbanceReasons"in l&&n(a,i);case 24:case"end":return e.stop()}},e,this,[[6,15]])}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:return e.next=4,S(t,n);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o,r,s,l,u,c,d,m,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.disturbanceReasons.map(function(e){return e.value}),i=n.disturbanceReasons.map(function(e){return e.value}),o=i.filter(function(e){return!a.includes(e)}),r=regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.disturbanceReasons.find(function(e){return e.value===t}),e.next=3,E(a);case 3:case"end":return e.stop()}},e,p)}),s=!0,l=!1,u=void 0,e.prev=7,c=o[Symbol.iterator]();case 9:if(s=(d=c.next()).done){e.next=15;break}return m=d.value,e.delegateYield(r(m),"t0",12);case 12:s=!0,e.next=9;break;case 15:e.next=21;break;case 17:e.prev=17,e.t1=e.catch(7),l=!0,u=e.t1;case 21:e.prev=21,e.prev=22,!s&&c.return&&c.return();case 24:if(e.prev=24,!l){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[7,17,21,29],[22,,24,28]])}));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=a(regeneratorRuntime.mark(function e(t,n){var a,i,o,r,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.disturbanceReasons.filter(function(e){var n=t.disturbanceReasons.find(function(t){return t.value===e.value});return n&&n.disabled!==e.disabled}),i=!0,o=!1,r=void 0,e.prev=4,s=a[Symbol.iterator]();case 6:if(i=(l=s.next()).done){e.next=13;break}return u=l.value,e.next=10,_(u);case 10:i=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),o=!0,r=e.t0;case 19:e.prev=19,e.prev=20,!i&&s.return&&s.return();case 22:if(e.prev=22,!o){e.next=25;break}throw r;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-timer-settings/disturbance-reasons",suppressGlobalErrorHandler:!0,data:t});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-timer-settings/disturbance-reasons/by-name/"+encodeURIComponent(t.value),suppressGlobalErrorHandler:!0,data:{disabled:!!t.disabled}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/set-relations-board-view",suppressGlobalErrorHandler:!0});case 3:A.useBoardViewForTaskRelations=!0,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.jsonPost({url:"/user-board-settings/"+O+"/set-relations-list-view",suppressGlobalErrorHandler:!0});case 3:A.useBoardViewForTaskRelations=!1,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),O=e.boardId,A=e.userBoardSettings,N=e.userTimerSettings,F=e.boardStorage,L=l.createStandalone(["soundEnabled","soundDisabled","timerSettingsChanged","workTimeMinutesChanged","shortBreakTimeMinutesChanged","longBreakTimeMinutesChanged","longBreakIntervalChanged","disturbanceReasonsChanged","calendarSettingsChanged","showAllRepeatingTasksChanged"]);return{on:L.on,off:L.off,columnExpanded:m,columnCollapsed:p,swimlaneExpanded:f,swimlaneCollapsed:h,saveSwimlaneHeight:v,soundEnabled:k,soundDisabled:g,isSoundEnabled:function(){return A.soundEnabled},showColorLegend:b,hideColorLegend:T,isColorLegendVisible:function(){return A.colorLegendVisible},isColumnCollapsed:function(e){var t=A.columns.find(function(t){return t.columnId===e});return!(!t||!t.collapsed)},getTimerSettings:t,updateTimerSettings:x,getCalendarSettings:function(){return r(A.calendarSettings)},updateCalendarSettings:function(e){var t=A.calendarSettings,n=e;i(t,n)||(A.calendarSettings=r(n),L.trigger("calendarSettingsChanged"),t.showAllRepeatingTasks!==n.showAllRepeatingTasks&&L.trigger("showAllRepeatingTasksChanged",{oldValue:t.showAllRepeatingTasks,value:n.showAllRepeatingTasks}),w(n))},updateDisturbanceReason:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s=t(),l=r(s),u=l.disturbanceReasons.find(function(t){return t.value===e});u?(u.value=a,o.jsonPost({url:"/work-entry/update-disturbance-reason",data:{oldValue:e,newValue:a}}).then(function(){N=l,n(s,l),i()},i)):i()},isTaskDialogExpanded:function(){var e=F.get("taskDialogExpanded2");return"boolean"==typeof e&&e},setTaskDialogExpanded:function(e){F.set("taskDialogExpanded2",e)},setTouchModeBarExpanded:function(e){e?c.remove("hideTouchModeBar"):c.set("hideTouchModeBar",!0)},isTouchModeBarExpanded:function(){return!c.get("hideTouchModeBar")},firstTimeTouchModeHelpShowed:function(){c.set("hasShowedFirstTimeTouchModeHelp",!0)},hasShowedFirstTimeTouchModeHelp:function(){return!!c.get("hasShowedFirstTimeTouchModeHelp")},saveBoardFilter:y,clearBoardFilter:I,getBoardFilterOrNull:function(){return r(A.boardFilter)||null},setRelationsBoardView:M,setRelationsListView:R,useBoardViewForTaskRelations:function(){return A.useBoardViewForTaskRelations}}}},zpAnPUxVQg:function(e,t,n){"use strict";var a=n("JXMhLc2pVM"),i=n("EWUDtfBmmZ");e.exports=function(e){var t=e.invitations,n=i(["localAdd","localDelete"]);return{on:n.on,off:n.off,localAdd:function(e){var a=e._id;t.some(function(e){return e._id===a})||(t.push(e),n.emit("localAdd",{organizationInvitationId:a}))},localDeleteById:function(e){var a=t.findIndex(function(t){return t._id===e});a>=0&&(t.splice(a,1),n.emit("localDelete",{organizationInvitationId:e}))},getAllOrderedByEmail:function(){var e=t.filter(function(e){return!!e.invitedEmail});return a(e,function(e){return e.invitedEmail.toLowerCase()})},getByIdOrNull:function(e){return t.find(function(t){return t._id===e})||null}}}},zurNrETqB7:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n("SJI6FcOvAZ").mapState,o=n("NKFQkhZ/hO"),r=n("vPodq/6mM+");n("GbcutZx8hN"),n("natLtIr/Gc"),n("3yz/kx2JkK");var s=r();e.exports={props:["position"],data:function(){return{timeEstimateValue:this.$store.state.task.totalSecondsEstimate}},computed:a({},i({totalSecondsEstimate:function(e){return e.task.totalSecondsEstimate}}),{isEdit:function(){return this.totalSecondsEstimate>0},placeholder:function(){if(!this.timeEstimateValue)return"0h"}}),methods:{timeEstimateUpdate:function(e){this.timeEstimateValue=e},deleteClick:function(){this.$emit("delete"),this.close()},done:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.timeEstimateValue){e.next=6;break}return e.next=3,o.alert("Please enter a correct value");case 3:s.wasMouseUsedLast()&&this.$refs.durationInput.$el.focus(),e.next=8;break;case 6:this.$emit("done",this.timeEstimateValue),this.close();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),close:function(){this.$emit("close")}}}}},["vlsG9MZQCo"]);